<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Statically Contextualizing Large Language Models with Typed Holes</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="pdftohtml 0.36"/>
<meta name="author" content="Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar"/>
<meta name="keywords" content="Large Language Models; Program Synthesis; Program Repair"/>
<meta name="date" content="2025-03-16T14:10:12+00:00"/>
<meta name="subject" content="Proc. ACM Program. Lang. 2024.8:468-498"/>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft10{font-size:22px;font-family:GAQDOW+LinBiolinumTB;color:#000000;}
	.ft11{font-size:16px;font-family:WVOPFG+LinBiolinumT;color:#005595;}
	.ft12{font-size:16px;font-family:WVOPFG+LinBiolinumT;color:#000000;}
	.ft13{font-size:13px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft14{font-size:13px;font-family:PFQUFB+LinLibertineTB;color:#000000;}
	.ft15{font-size:13px;font-family:NVCMIJ+txsys;color:#000000;}
	.ft16{font-size:13px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
	.ft17{font-size:13px;font-family:JZXWNF+LinLibertineT;color:#781d7d;}
	.ft18{font-size:13px;font-family:JZXWNF+LinLibertineT;color:#005595;}
	.ft19{font-size:12px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft110{font-size:12px;font-family:JZXWNF+LinLibertineT;color:#005595;}
	.ft111{font-size:12px;font-family:IMUZXN+LinLibertineT;color:#000000;}
	.ft112{font-size:13px;line-height:19px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft113{font-size:13px;line-height:16px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft114{font-size:13px;line-height:16px;font-family:PFQUFB+LinLibertineTB;color:#000000;}
	.ft115{font-size:12px;line-height:14px;font-family:JZXWNF+LinLibertineT;color:#000000;}
-->
</style>
<div id="page1-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out001.png" alt="background image"/>
<p style="position:absolute;top:127px;left:69px;white-space:nowrap" class="ft10">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with</p>
<p style="position:absolute;top:152px;left:68px;white-space:nowrap" class="ft10">Typed&#160;Holes</p>
<p style="position:absolute;top:191px;left:68px;white-space:nowrap" class="ft112"><a href="HTTPS://ORCID.ORG/0000-0001-6938-7379">ANDREW&#160;BLINN,&#160;</a>University&#160;of&#160;Michigan,&#160;USA<br/><a href="HTTPS://ORCID.ORG/0009-0005-6860-039X">XIANG&#160;LI,&#160;</a>University&#160;of&#160;Michigan,&#160;USA<br/><a href="HTTPS://ORCID.ORG/0009-0005-0820-9532">JUNE&#160;HYUNG&#160;KIM,&#160;</a>University&#160;of&#160;Michigan,&#160;USA</p>
<p style="position:absolute;top:249px;left:69px;white-space:nowrap" class="ft11"><a href="HTTPS://ORCID.ORG/0000-0003-4502-7971">CYRUS&#160;OMAR,&#160;</a>University&#160;of&#160;Michigan,&#160;USA</p>
<p style="position:absolute;top:277px;left:69px;white-space:nowrap" class="ft113">Large&#160;language&#160;models&#160;(LLMs)&#160;have&#160;reshaped&#160;the&#160;landscape&#160;of&#160;program&#160;synthesis.&#160;However,&#160;contemporary<br/>LLM-based&#160;code&#160;completion&#160;systems&#160;often&#160;hallucinate&#160;broken&#160;code&#160;because&#160;they&#160;lack&#160;appropriate&#160;code&#160;context,<br/>particularly&#160;when&#160;working&#160;with&#160;definitions&#160;that&#160;are&#160;neither&#160;in&#160;the&#160;training&#160;data&#160;nor&#160;near&#160;the&#160;cursor.&#160;This<br/>paper&#160;demonstrates&#160;that&#160;tighter&#160;integration&#160;with&#160;the&#160;type&#160;and&#160;binding&#160;structure&#160;of&#160;the&#160;programming&#160;language<br/>in&#160;use,&#160;as&#160;exposed&#160;by&#160;its&#160;language&#160;server,&#160;can&#160;help&#160;address&#160;this&#160;contextualization&#160;problem&#160;in&#160;a&#160;token-efficient<br/>manner.&#160;In&#160;short,&#160;we&#160;contend&#160;that&#160;AIs&#160;need&#160;IDEs,&#160;too!&#160;In&#160;particular,&#160;we&#160;integrate&#160;LLM&#160;code&#160;generation&#160;into<br/>the&#160;Hazel&#160;live&#160;program&#160;sketching&#160;environment.&#160;The&#160;Hazel&#160;Language&#160;Server&#160;is&#160;able&#160;to&#160;identify&#160;the&#160;type&#160;and<br/>typing&#160;context&#160;of&#160;the&#160;hole&#160;that&#160;the&#160;programmer&#160;is&#160;filling,&#160;with&#160;Hazel’s&#160;total&#160;syntax&#160;and&#160;type&#160;error&#160;correction<br/>ensuring&#160;that&#160;a&#160;meaningful&#160;program&#160;sketch&#160;is&#160;available&#160;whenever&#160;the&#160;developer&#160;requests&#160;a&#160;completion.&#160;This<br/>allows&#160;the&#160;system&#160;to&#160;prompt&#160;the&#160;LLM&#160;with&#160;codebase-wide&#160;contextual&#160;information&#160;that&#160;is&#160;not&#160;lexically&#160;local<br/>to&#160;the&#160;cursor,&#160;nor&#160;necessarily&#160;in&#160;the&#160;same&#160;file,&#160;but&#160;that&#160;is&#160;likely&#160;to&#160;be&#160;semantically&#160;local&#160;to&#160;the&#160;developer’s<br/>goal.&#160;Completions&#160;synthesized&#160;by&#160;the&#160;LLM&#160;are&#160;then&#160;iteratively&#160;refined&#160;via&#160;further&#160;dialog&#160;with&#160;the&#160;language<br/>server,&#160;which&#160;provides&#160;error&#160;localization&#160;and&#160;error&#160;messages.&#160;To&#160;evaluate&#160;these&#160;techniques,&#160;we&#160;introduce<br/>MVUBench,&#160;a&#160;dataset&#160;of&#160;model-view-update&#160;(MVU)&#160;web&#160;applications&#160;with&#160;accompanying&#160;unit&#160;tests&#160;that&#160;have<br/>been&#160;written&#160;from&#160;scratch&#160;to&#160;avoid&#160;data&#160;contamination,&#160;and&#160;that&#160;can&#160;easily&#160;be&#160;ported&#160;to&#160;new&#160;languages&#160;because<br/>they&#160;do&#160;not&#160;have&#160;large&#160;external&#160;library&#160;dependencies.&#160;These&#160;applications&#160;serve&#160;as&#160;challenge&#160;problems&#160;due&#160;to<br/>their&#160;extensive&#160;reliance&#160;on&#160;application-specific&#160;data&#160;structures.&#160;Through&#160;an&#160;ablation&#160;study,&#160;we&#160;examine&#160;the<br/>impact&#160;of&#160;contextualization&#160;with&#160;type&#160;definitions,&#160;function&#160;headers,&#160;and&#160;errors&#160;messages,&#160;individually&#160;and&#160;in<br/>combination.&#160;We&#160;find&#160;that&#160;contextualization&#160;with&#160;type&#160;definitions&#160;is&#160;particularly&#160;impactful.&#160;After&#160;introducing<br/>our&#160;ideas&#160;in&#160;the&#160;context&#160;of&#160;Hazel,&#160;a&#160;low-resource&#160;language,&#160;we&#160;duplicate&#160;our&#160;techniques&#160;and&#160;port&#160;MVUBench<br/>to&#160;TypeScript&#160;in&#160;order&#160;to&#160;validate&#160;the&#160;applicability&#160;of&#160;these&#160;methods&#160;to&#160;higher-resource&#160;mainstream&#160;languages.<br/>Finally,&#160;we&#160;outline&#160;ChatLSP,&#160;a&#160;conservative&#160;extension&#160;to&#160;the&#160;Language&#160;Server&#160;Protocol&#160;(LSP)&#160;that&#160;language<br/>servers&#160;can&#160;implement&#160;to&#160;expose&#160;capabilities&#160;that&#160;AI&#160;code&#160;completion&#160;systems&#160;of&#160;various&#160;designs&#160;can&#160;use&#160;to<br/>incorporate&#160;static&#160;context&#160;when&#160;generating&#160;prompts&#160;for&#160;an&#160;LLM.</p>
<p style="position:absolute;top:680px;left:69px;white-space:nowrap" class="ft114">CCS&#160;Concepts:&#160;•&#160;Software&#160;and&#160;its&#160;engineering&#160;→&#160;Software&#160;creation&#160;and&#160;management;&#160;•&#160;Theory&#160;of<br/>computation&#160;→&#160;Type&#160;structures.</p>
<p style="position:absolute;top:721px;left:68px;white-space:nowrap" class="ft13">Additional&#160;Key&#160;Words&#160;and&#160;Phrases:&#160;Large&#160;Language&#160;Models,&#160;Program&#160;Synthesis,&#160;Program&#160;Repair</p>
<p style="position:absolute;top:746px;left:68px;white-space:nowrap" class="ft114">ACM&#160;Reference&#160;Format:<br/>Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar.&#160;2024.&#160;Statically&#160;Contextualizing&#160;Large&#160;Language</p>
<p style="position:absolute;top:779px;left:69px;white-space:nowrap" class="ft113">Models&#160;with&#160;Typed&#160;Holes.&#160;Proc.&#160;ACM&#160;Program.&#160;Lang.&#160;8,&#160;OOPSLA2,&#160;Article&#160;288&#160;(October&#160;2024),&#160;<a href="out.html#31">31&#160;</a>pages.<br/><a href="https://doi.org/10.1145/3689728">https://doi.org/10.1145/3689728</a></p>
<p style="position:absolute;top:825px;left:69px;white-space:nowrap" class="ft115">Authors’&#160;Contact&#160;Information:&#160;<a href="https://orcid.org/0000-0001-6938-7379">Andrew&#160;Blinn,&#160;</a>University&#160;of&#160;Michigan,&#160;Ann&#160;Arbor,&#160;USA,&#160;blinnand@umich.edu;&#160;<a href="https://orcid.org/0009-0005-6860-039X">Xiang&#160;Li,<br/></a>University&#160;of&#160;Michigan,&#160;Ann&#160;Arbor,&#160;USA,&#160;xkevli@umich.edu;&#160;<a href="https://orcid.org/0009-0005-0820-9532">June&#160;Hyung&#160;Kim,&#160;</a>University&#160;of&#160;Michigan,&#160;Ann&#160;Arbor,&#160;USA,<br/>jpoly@umich.edu;&#160;<a href="https://orcid.org/0000-0003-4502-7971">Cyrus&#160;Omar,&#160;</a>University&#160;of&#160;Michigan,&#160;Ann&#160;Arbor,&#160;USA,&#160;comar@umich.edu.</p>
<p style="position:absolute;top:946px;left:68px;white-space:nowrap" class="ft19">©&#160;2024&#160;Copyright&#160;held&#160;by&#160;the&#160;owner/author(s).</p>
<p style="position:absolute;top:961px;left:68px;white-space:nowrap" class="ft19">ACM&#160;2475-1421/2024/10-ART288</p>
<p style="position:absolute;top:976px;left:69px;white-space:nowrap" class="ft110"><a href="https://doi.org/10.1145/3689728">https://doi.org/10.1145/3689728</a></p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft19">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
<p style="position:absolute;top:928px;left:69px;white-space:nowrap" class="ft111"><a href="https://creativecommons.org/licenses/by/4.0/">This&#160;work&#160;is&#160;licensed&#160;under&#160;a&#160;Creative&#160;Commons&#160;Attribution&#160;4.0&#160;International&#160;License.</a></p>
</div>
<!-- Page 2 -->
<a name="2"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft216{font-size:12px;font-family:WVOPFG+LinBiolinumT;color:#000000;}
	.ft217{font-size:13px;font-family:WVOPFG+LinBiolinumT;color:#000000;}
	.ft218{font-size:13px;font-family:WVOPFG+LinBiolinumT;color:#721679;}
	.ft219{font-size:15px;font-family:GAQDOW+LinBiolinumTB;color:#000000;}
	.ft220{font-size:15px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft221{font-size:15px;font-family:JZXWNF+LinLibertineT;color:#721679;}
	.ft222{font-size:15px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
	.ft223{font-size:15px;font-family:PFQUFB+LinLibertineTB;color:#000000;}
	.ft224{font-size:13px;font-family:DQFGLI+Inconsolatazi4;color:#7f7f7f;}
	.ft225{font-size:13px;font-family:VVWGZX+Inconsolatazi4;color:#000000;}
	.ft226{font-size:13px;font-family:DQFGLI+Inconsolatazi4;color:#000000;}
	.ft227{font-size:15px;line-height:17px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft228{font-size:15px;line-height:18px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
	.ft229{font-size:15px;line-height:17px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
	.ft230{font-size:15px;line-height:17px;font-family:PFQUFB+LinLibertineTB;color:#000000;}
	.ft231{font-size:13px;line-height:20px;font-family:DQFGLI+Inconsolatazi4;color:#7f7f7f;}
-->
</style>
<div id="page2-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out002.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft216">288:2</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft216">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:420px;left:99px;white-space:nowrap" class="ft217">Fig.&#160;1.&#160;Hazel&#160;Assistant&#160;Conversational&#160;Architecture&#160;(see&#160;<a href="out.html#26">section&#160;9&#160;</a>for&#160;image&#160;acknowledgements)</p>
<p style="position:absolute;top:485px;left:69px;white-space:nowrap" class="ft219">1</p>
<p style="position:absolute;top:485px;left:91px;white-space:nowrap" class="ft219">Introduction</p>
<p style="position:absolute;top:507px;left:69px;white-space:nowrap" class="ft229">Recent&#160;advances&#160;in&#160;generative&#160;AI&#160;have&#160;triggered&#160;an&#160;avalanche&#160;of&#160;new&#160;AI&#160;programming&#160;assistants—<br/>the&#160;most&#160;prominent&#160;is&#160;Copilot&#160;<a href="out.html#27">[23],&#160;</a>but&#160;it&#160;has&#160;many&#160;competitors—that&#160;generate&#160;code&#160;completions<br/>by&#160;prompting&#160;a&#160;large&#160;language&#160;model&#160;(LLM)&#160;pre-trained&#160;on&#160;a&#160;corpus&#160;of&#160;diverse&#160;natural&#160;language<br/>documents&#160;as&#160;well&#160;as&#160;code&#160;written&#160;in&#160;various&#160;programming&#160;languages&#160;<a href="out.html#26">[7,&#160;</a><a href="out.html#27">17,&#160;17,&#160;</a><a href="out.html#29">49,&#160;</a><a href="out.html#30">73,&#160;78].&#160;</a>Once<br/>trained,&#160;an&#160;LLM&#160;iteratively&#160;transforms&#160;an&#160;input&#160;token&#160;sequence,&#160;called&#160;the&#160;prompt,&#160;into&#160;next-token<br/>probability&#160;distributions&#160;from&#160;which&#160;completions&#160;are&#160;sampled.&#160;LLMs&#160;are&#160;able&#160;to&#160;learn&#160;statistical<br/>regularities&#160;in&#160;the&#160;training&#160;data&#160;<a href="out.html#28">[29],&#160;</a>with&#160;limited&#160;reasoning&#160;abilities&#160;emerging&#160;as&#160;LLMs&#160;scale&#160;up&#160;in<br/>size&#160;<a href="out.html#31">[89].&#160;</a>As&#160;a&#160;result,&#160;AI&#160;assistants&#160;have&#160;become&#160;capable&#160;enough&#160;to&#160;substantially&#160;impact&#160;developer<br/>productivity&#160;<a href="out.html#26">[9,&#160;</a><a href="out.html#29">61,&#160;</a><a href="out.html#30">74,&#160;</a><a href="out.html#31">88].&#160;</a>For&#160;example,&#160;one&#160;study&#160;reports&#160;a&#160;50%&#160;increase&#160;in&#160;productivity&#160;when<br/>using&#160;Copilot&#160;<a href="out.html#31">[88].&#160;</a>The&#160;impact&#160;is&#160;particularly&#160;pronounced&#160;for&#160;developers&#160;working&#160;with&#160;high&#160;resource<br/>libraries&#160;and&#160;languages,&#160;i.e.&#160;those&#160;well-represented&#160;in&#160;the&#160;training&#160;data&#160;<a href="out.html#30">[78].</a></p>
<p style="position:absolute;top:704px;left:84px;white-space:nowrap" class="ft220">Contemporary&#160;AI&#160;assistants&#160;construct&#160;the&#160;prompt&#160;primarily&#160;using&#160;the&#160;program&#160;text&#160;appearing&#160;in</p>
<p style="position:absolute;top:722px;left:69px;white-space:nowrap" class="ft230">a&#160;textual&#160;window&#160;around&#160;the&#160;developer’s&#160;cursor&#160;(the&#160;cursor&#160;window)&#160;<a href="out.html#30">[66].&#160;</a>This&#160;approach&#160;leads&#160;to<br/>poor&#160;performance&#160;in&#160;situations&#160;where&#160;critical&#160;task-relevant&#160;context&#160;comes&#160;from&#160;definitions&#160;that<br/>appear&#160;neither&#160;in&#160;the&#160;cursor&#160;window&#160;nor&#160;in&#160;the&#160;training&#160;data&#160;(the&#160;semantic&#160;contextualization<br/>problem)&#160;<a href="out.html#26">[2,&#160;</a><a href="out.html#27">19,&#160;</a><a href="out.html#28">38,&#160;</a><a href="out.html#29">60,&#160;</a><a href="out.html#30">67,&#160;77,&#160;82,&#160;83].&#160;</a>For&#160;example,&#160;consider&#160;the&#160;following&#160;cursor&#160;window,&#160;which</p>
<p style="position:absolute;top:794px;left:68px;white-space:nowrap" class="ft227">would&#160;arise&#160;when&#160;a&#160;developer&#160;is&#160;implementing&#160;a&#160;GUI&#160;component&#160;using&#160;the&#160;model-view-update<br/>(MVU)&#160;architecture&#160;(central&#160;to&#160;popular&#160;GUI&#160;application&#160;frameworks&#160;like&#160;React&#160;<a href="out.html#26">[8]&#160;</a>and&#160;Elm&#160;<a href="out.html#27">[18]):</a></p>
<p style="position:absolute;top:835px;left:90px;white-space:nowrap" class="ft231">(*&#160;update&#160;the&#160;room&#160;booking&#160;data&#160;after&#160;a&#160;user&#160;action&#160;*)<br/><b>f&#160;u&#160;n&#160;c&#160;t&#160;i&#160;o&#160;n</b></p>
<p style="position:absolute;top:851px;left:163px;white-space:nowrap" class="ft226">update&#160;(&#160;model&#160;:&#160;Model&#160;,&#160;action&#160;:&#160;Action&#160;):&#160;Model&#160;{</p>
<p style="position:absolute;top:883px;left:84px;white-space:nowrap" class="ft220">Correctly&#160;completing&#160;this&#160;function&#160;definition&#160;requires&#160;knowing&#160;the&#160;definitions&#160;of&#160;this&#160;specific</p>
<p style="position:absolute;top:901px;left:69px;white-space:nowrap" class="ft220">component’s</p>
<p style="position:absolute;top:898px;left:152px;white-space:nowrap" class="ft226">Model&#160;and&#160;Action&#160;types,&#160;which&#160;commonly&#160;appear&#160;in&#160;different&#160;files&#160;in&#160;the&#160;repository</p>
<p style="position:absolute;top:919px;left:69px;white-space:nowrap" class="ft227">and&#160;therefore&#160;outside&#160;the&#160;cursor&#160;window.&#160;Various&#160;other&#160;files&#160;might&#160;also&#160;contain&#160;relevant&#160;definitions,<br/>e.g.&#160;other&#160;types&#160;that&#160;can&#160;be&#160;reached&#160;from&#160;the&#160;definitions&#160;of</p>
<p style="position:absolute;top:934px;left:440px;white-space:nowrap" class="ft226">Model&#160;and&#160;Action,&#160;and&#160;useful&#160;helper</p>
<p style="position:absolute;top:955px;left:69px;white-space:nowrap" class="ft227">functions&#160;for&#160;working&#160;with&#160;values&#160;of&#160;these&#160;types.&#160;Without&#160;access&#160;to&#160;these&#160;definitions,&#160;an&#160;LLM&#160;will<br/>either&#160;be&#160;unable&#160;to&#160;generate&#160;sufficiently&#160;probable&#160;completions&#160;(which&#160;may&#160;result&#160;in&#160;no&#160;completion</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft29">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 3 -->
<a name="3"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft332{font-size:15px;line-height:18px;font-family:JZXWNF+LinLibertineT;color:#000000;}
	.ft333{font-size:15px;line-height:20px;font-family:JZXWNF+LinLibertineT;color:#000000;}
-->
</style>
<div id="page3-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out003.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft316">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:635px;white-space:nowrap" class="ft316">288:3</p>
<p style="position:absolute;top:131px;left:69px;white-space:nowrap" class="ft327">being&#160;generated)&#160;or&#160;more&#160;typically&#160;it&#160;will&#160;hallucinate&#160;plausible-but-incorrect&#160;definitions&#160;based&#160;only<br/>on&#160;the&#160;provided&#160;comment&#160;<a href="out.html#30">[80,&#160;</a><a href="out.html#31">85].</a></p>
<p style="position:absolute;top:167px;left:84px;white-space:nowrap" class="ft320">To&#160;address&#160;this&#160;problem,&#160;assistant&#160;designers&#160;use&#160;various&#160;retrieval&#160;augmented&#160;generation&#160;(RAG)</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft327">techniques&#160;<a href="out.html#27">[25]&#160;</a>to&#160;retrieve&#160;additional&#160;code&#160;from&#160;other&#160;files&#160;in&#160;the&#160;repository&#160;and&#160;external&#160;libraries<br/>for&#160;inclusion&#160;in&#160;the&#160;prompt.&#160;Real-world&#160;code&#160;bases&#160;often&#160;span&#160;hundreds&#160;of&#160;thousands&#160;of&#160;lines&#160;of<br/>code,&#160;so&#160;exhaustive&#160;retrieval&#160;quickly&#160;runs&#160;into&#160;scaling&#160;issues.&#160;While&#160;prompt&#160;(i.e.&#160;context)&#160;size&#160;limits<br/>continue&#160;to&#160;increase&#160;<a href="out.html#27">[21],&#160;</a>generation&#160;costs&#160;(measured&#160;in&#160;both&#160;time&#160;and&#160;energy)&#160;scale&#160;with&#160;token<br/>count&#160;<a href="out.html#28">[30].&#160;</a>These&#160;costs&#160;are&#160;substantial&#160;(because&#160;LLMs&#160;typically&#160;have&#160;billions&#160;of&#160;parameters)&#160;so<br/>token&#160;efficiency&#160;remains&#160;a&#160;critical&#160;metric&#160;<a href="out.html#30">[66].&#160;</a>Moreover,&#160;contemporary&#160;LLMs&#160;struggle&#160;to&#160;attend<br/>to&#160;relevant&#160;information&#160;and&#160;ignore&#160;irrelevant&#160;information&#160;(such&#160;as&#160;the</p>
<p style="position:absolute;top:291px;left:499px;white-space:nowrap" class="ft326">Model&#160;and&#160;Action&#160;types&#160;for</p>
<p style="position:absolute;top:311px;left:69px;white-space:nowrap" class="ft322">other&#160;GUI&#160;components)&#160;in&#160;large&#160;prompts&#160;<a href="out.html#28">[35,&#160;37,&#160;41,&#160;</a><a href="out.html#30">79].</a></p>
<p style="position:absolute;top:329px;left:84px;white-space:nowrap" class="ft320">Given&#160;these&#160;issues,&#160;assistant&#160;designers&#160;need&#160;retrieval&#160;techniques&#160;that&#160;prioritize&#160;task-relevant&#160;code.</p>
<p style="position:absolute;top:347px;left:69px;white-space:nowrap" class="ft327">For&#160;example,&#160;Copilot&#160;retrieves&#160;code&#160;from&#160;locations&#160;in&#160;other&#160;files&#160;that&#160;the&#160;developer&#160;has&#160;recently<br/>visited,&#160;based&#160;on&#160;the&#160;heuristic&#160;that&#160;these&#160;are&#160;likely&#160;to&#160;be&#160;task-relevant&#160;<a href="out.html#30">[71].&#160;</a>Another&#160;prominent<br/>retrieval&#160;strategy,&#160;which&#160;we&#160;will&#160;refer&#160;to&#160;as&#160;vector&#160;retrieval,&#160;involves&#160;performing&#160;a&#160;vector&#160;search<br/>across&#160;the&#160;repository&#160;(and&#160;perhaps&#160;beyond)&#160;to&#160;retrieve&#160;code&#160;similar&#160;to&#160;the&#160;code&#160;in&#160;the&#160;cursor</p>
<p style="position:absolute;top:418px;left:68px;white-space:nowrap" class="ft320">window&#160;<a href="out.html#29">[44,&#160;</a><a href="out.html#30">82,&#160;83],&#160;</a>as&#160;measured&#160;by&#160;a&#160;learned&#160;vector&#160;similarity&#160;metric&#160;<a href="out.html#28">[36,&#160;</a><a href="out.html#29">49].&#160;</a>This&#160;relies&#160;on&#160;the</p>
<p style="position:absolute;top:436px;left:69px;white-space:nowrap" class="ft327">heuristic&#160;that&#160;lexically&#160;similar&#160;code&#160;is&#160;likely&#160;to&#160;be&#160;task-relevant&#160;code.&#160;In&#160;the&#160;example&#160;above,&#160;since<br/>the&#160;type&#160;names</p>
<p style="position:absolute;top:452px;left:166px;white-space:nowrap" class="ft326">Model&#160;and&#160;Action&#160;appear&#160;explicitly&#160;in&#160;the&#160;cursor&#160;window,&#160;this&#160;approach&#160;may&#160;find</p>
<p style="position:absolute;top:472px;left:69px;white-space:nowrap" class="ft320">their&#160;definitions.&#160;However,&#160;it&#160;may&#160;also&#160;find&#160;irrelevant&#160;definitions&#160;of&#160;other&#160;types&#160;named</p>
<p style="position:absolute;top:470px;left:600px;white-space:nowrap" class="ft326">Model&#160;and</p>
<p style="position:absolute;top:488px;left:68px;white-space:nowrap" class="ft327">Action&#160;and&#160;other&#160;implementations&#160;of&#160;update,&#160;e.g.&#160;those&#160;from&#160;other&#160;GUI&#160;components&#160;in&#160;this&#160;or&#160;other<br/>applications.&#160;It&#160;may&#160;also&#160;be&#160;less&#160;effective&#160;when&#160;the&#160;task-relevant&#160;definitions&#160;are&#160;not&#160;named&#160;explicitly,<br/>e.g.&#160;if&#160;the&#160;developer&#160;is&#160;later&#160;writing&#160;a&#160;call&#160;to</p>
<p style="position:absolute;top:524px;left:339px;white-space:nowrap" class="ft326">update,&#160;the&#160;fact&#160;that&#160;the&#160;relevant&#160;types&#160;are&#160;Model&#160;and</p>
<p style="position:absolute;top:542px;left:68px;white-space:nowrap" class="ft326">Action&#160;requires&#160;reasoning&#160;about&#160;the&#160;type&#160;signature&#160;of&#160;the&#160;update&#160;function.</p>
<p style="position:absolute;top:562px;left:84px;white-space:nowrap" class="ft320">These&#160;retrieval&#160;approaches&#160;are&#160;language-agnostic,&#160;treating&#160;source&#160;code&#160;as&#160;a&#160;sequence&#160;of&#160;tokens</p>
<p style="position:absolute;top:580px;left:69px;white-space:nowrap" class="ft327">like&#160;any&#160;other,&#160;so&#160;they&#160;must&#160;necessarily&#160;deploy&#160;imprecise&#160;heuristics.&#160;In&#160;this&#160;paper,&#160;we&#160;instead<br/>consider&#160;language-aware&#160;approaches&#160;that&#160;take&#160;advantage&#160;of&#160;the&#160;fact&#160;that&#160;in&#160;many&#160;languages,&#160;code<br/>is&#160;governed&#160;by&#160;a&#160;rich&#160;type&#160;and&#160;binding&#160;discipline&#160;determined&#160;by&#160;a&#160;static&#160;semantics&#160;<a href="out.html#28">[28,&#160;</a><a href="out.html#29">62].&#160;</a>To<br/>retrieve&#160;relevant&#160;semantic&#160;information&#160;and&#160;analyze&#160;candidate&#160;code&#160;completions,&#160;we&#160;rely&#160;on&#160;a<br/>modern&#160;language&#160;server&#160;<a href="out.html#27">[10,&#160;13]&#160;</a>to&#160;provide&#160;various&#160;language&#160;services,&#160;namely&#160;type&#160;reporting,&#160;typing<br/>context&#160;search,&#160;and&#160;error&#160;reporting.&#160;Integrated&#160;development&#160;environments&#160;(IDEs)&#160;interact&#160;with<br/>these&#160;services&#160;to&#160;drive&#160;various&#160;human-facing&#160;affordances&#160;such&#160;as&#160;type&#160;hints&#160;and&#160;hover&#160;messages.<br/>Here&#160;we&#160;investigate&#160;the&#160;hypothesis&#160;that&#160;LLM&#160;code&#160;completion&#160;can&#160;also&#160;benefit&#160;from&#160;interactions</p>
<p style="position:absolute;top:723px;left:68px;white-space:nowrap" class="ft320">with&#160;language&#160;services.&#160;Put&#160;pithily,&#160;we&#160;hypothesize&#160;that&#160;AIs&#160;need&#160;IDEs,&#160;too.</p>
<p style="position:absolute;top:741px;left:84px;white-space:nowrap" class="ft320">We&#160;investigate&#160;two&#160;language-aware&#160;approaches&#160;independently&#160;and&#160;in&#160;combination:</p>
<p style="position:absolute;top:786px;left:84px;white-space:nowrap" class="ft322">Static&#160;Retrieval.&#160;The&#160;first&#160;approach&#160;we&#160;consider&#160;<a href="out.html#6">(section&#160;2)&#160;</a>is&#160;static&#160;retrieval,&#160;where&#160;the&#160;language</p>
<p style="position:absolute;top:804px;left:69px;white-space:nowrap" class="ft320">server&#160;is&#160;tasked&#160;to&#160;(1)&#160;determine&#160;the&#160;type&#160;and&#160;typing&#160;context&#160;of&#160;the&#160;“hole”&#160;(implicit&#160;in&#160;the</p>
<p style="position:absolute;top:802px;left:620px;white-space:nowrap" class="ft326">update</p>
<p style="position:absolute;top:822px;left:69px;white-space:nowrap" class="ft327">sketch&#160;above)&#160;at&#160;the&#160;cursor,&#160;and&#160;(2)&#160;transitively&#160;retrieve&#160;semantically&#160;relevant&#160;type&#160;definitions&#160;and<br/>function&#160;headers,&#160;from&#160;wherever&#160;they&#160;might&#160;appear,&#160;for&#160;inclusion&#160;in&#160;the&#160;prompt.</p>
<p style="position:absolute;top:858px;left:84px;white-space:nowrap" class="ft320">In&#160;the</p>
<p style="position:absolute;top:855px;left:122px;white-space:nowrap" class="ft326">update&#160;example,&#160;the&#160;hole&#160;that&#160;the&#160;language&#160;server&#160;inserts&#160;(either&#160;implicitly&#160;or&#160;explicitly)&#160;at</p>
<p style="position:absolute;top:876px;left:69px;white-space:nowrap" class="ft320">the&#160;cursor&#160;is&#160;of&#160;type</p>
<p style="position:absolute;top:873px;left:194px;white-space:nowrap" class="ft326">Model&#160;(because&#160;it&#160;is&#160;in&#160;the&#160;body&#160;of&#160;the&#160;update&#160;function,&#160;which&#160;has&#160;return&#160;type</p>
<p style="position:absolute;top:891px;left:69px;white-space:nowrap" class="ft333">Model),&#160;and&#160;the&#160;local&#160;typing&#160;context&#160;includes&#160;the&#160;argument&#160;action&#160;:&#160;Action,&#160;so&#160;the&#160;language&#160;server<br/>can&#160;look&#160;up&#160;the&#160;definitions&#160;of&#160;the</p>
<p style="position:absolute;top:909px;left:277px;white-space:nowrap" class="ft326">Model&#160;and&#160;Action&#160;types.&#160;These&#160;types&#160;might&#160;themselves&#160;refer&#160;to</p>
<p style="position:absolute;top:929px;left:69px;white-space:nowrap" class="ft327">other&#160;types,&#160;so&#160;we&#160;can&#160;transitively&#160;continue&#160;type&#160;retrieval.&#160;We&#160;can&#160;also&#160;retrieve&#160;information&#160;about<br/>relevant&#160;helper&#160;functions&#160;in&#160;the&#160;typing&#160;context,&#160;e.g.&#160;those&#160;that&#160;operate&#160;on&#160;the&#160;types&#160;that&#160;have&#160;been<br/>looked&#160;up,&#160;continuing&#160;transitively&#160;up&#160;to&#160;a&#160;token&#160;limit.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft39">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 4 -->
<a name="4"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft434{font-size:15px;font-family:KMHYXY+LinBiolinumTI;color:#000000;}
-->
</style>
<div id="page4-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out004.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft416">288:4</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft416">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:132px;left:84px;white-space:nowrap" class="ft422">Static&#160;Error&#160;Correction.&#160;To&#160;further&#160;improve&#160;correctness,&#160;we&#160;combine&#160;static&#160;retrieval&#160;in&#160;<a href="out.html#13">subsec-</a></p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft427"><a href="out.html#13">tion&#160;2.7&#160;</a>with&#160;a&#160;straightforward&#160;syntactic&#160;and&#160;static&#160;error&#160;correction&#160;pass&#160;<a href="out.html#28">[33,&#160;39]:&#160;</a>we&#160;ask&#160;the<br/>language&#160;server&#160;to&#160;localize&#160;and&#160;generate&#160;error&#160;messages&#160;for&#160;syntactic&#160;and&#160;static&#160;errors&#160;in&#160;the<br/>generated&#160;completion,&#160;then&#160;feed&#160;this&#160;information&#160;back&#160;into&#160;an&#160;instruction-tuned&#160;model,&#160;prompting<br/>it&#160;to&#160;correct&#160;these&#160;errors,&#160;potentially&#160;over&#160;multiple&#160;rounds&#160;(trading&#160;off&#160;latency&#160;for&#160;correctness).</p>
<p style="position:absolute;top:245px;left:69px;white-space:nowrap" class="ft419">1.1</p>
<p style="position:absolute;top:245px;left:103px;white-space:nowrap" class="ft419">Evaluation&#160;Overview</p>
<p style="position:absolute;top:268px;left:69px;white-space:nowrap" class="ft434">1.1.1</p>
<p style="position:absolute;top:268px;left:110px;white-space:nowrap" class="ft434">Programming&#160;Languages&#160;and&#160;Language&#160;Servers.&#160;The&#160;approaches&#160;that&#160;we&#160;investigate&#160;in&#160;this</p>
<p style="position:absolute;top:286px;left:69px;white-space:nowrap" class="ft427">paper&#160;are&#160;in&#160;principle&#160;applicable&#160;to&#160;any&#160;programming&#160;language&#160;with&#160;a&#160;well-structured&#160;type&#160;and<br/>binding&#160;discipline.&#160;The&#160;more&#160;challenging&#160;requirement,&#160;which&#160;has&#160;limited&#160;the&#160;prior&#160;experiments&#160;in<br/>these&#160;directions&#160;(which&#160;we&#160;review&#160;in&#160;<a href="out.html#23">section&#160;6),&#160;</a>is&#160;that&#160;we&#160;also&#160;need&#160;a&#160;rather&#160;capable&#160;language&#160;server.<br/>In&#160;particular,&#160;the&#160;language&#160;server&#160;must&#160;be&#160;capable&#160;of&#160;robust&#160;syntax&#160;error&#160;and&#160;type&#160;error&#160;recovery,<br/>producing&#160;a&#160;semantically&#160;meaningful&#160;program&#160;sketch&#160;(i.e.&#160;a&#160;program&#160;with&#160;holes)&#160;in&#160;any&#160;situation</p>
<p style="position:absolute;top:375px;left:68px;white-space:nowrap" class="ft420">where&#160;the&#160;developer&#160;might&#160;request&#160;code&#160;completion&#160;<a href="out.html#29">[52].&#160;</a>For&#160;instance,&#160;the&#160;example&#160;situation&#160;from</p>
<p style="position:absolute;top:393px;left:69px;white-space:nowrap" class="ft427">the&#160;beginning&#160;of&#160;<a href="out.html#2">section&#160;1&#160;</a>are&#160;syntactically&#160;erroneous,&#160;because&#160;the&#160;developer&#160;has&#160;not&#160;yet&#160;closed&#160;a<br/>curly&#160;brace&#160;or&#160;parenthesis,&#160;so&#160;a&#160;standard&#160;compiler&#160;would&#160;simply&#160;report&#160;a&#160;syntax&#160;error&#160;and&#160;halt.&#160;In<br/>other&#160;cases,&#160;there&#160;may&#160;be&#160;localized&#160;type&#160;errors&#160;elsewhere&#160;in&#160;the&#160;program&#160;that&#160;would&#160;ideally&#160;not<br/>cause&#160;gaps&#160;in&#160;the&#160;availability&#160;of&#160;code&#160;completion.</p>
<p style="position:absolute;top:465px;left:84px;white-space:nowrap" class="ft420">For&#160;this&#160;reason,&#160;we&#160;evaluate&#160;these&#160;ideas&#160;primarily&#160;by&#160;developing&#160;an&#160;AI&#160;programming&#160;assistant</p>
<p style="position:absolute;top:483px;left:69px;white-space:nowrap" class="ft427">for&#160;Hazel,&#160;extending&#160;the&#160;Hazel&#160;Assistant&#160;with&#160;LLM&#160;support&#160;<a href="out.html#27">[12].&#160;</a>Hazel&#160;is&#160;a&#160;typed&#160;functional<br/>programming&#160;environment&#160;designed&#160;specifically&#160;around&#160;typed&#160;holes,&#160;inserting&#160;them&#160;automatically<br/>to&#160;ensure&#160;total&#160;syntax&#160;error&#160;recovery&#160;<a href="out.html#29">[47]&#160;</a>and&#160;total&#160;type&#160;error&#160;recovery&#160;<a href="out.html#31">[87].&#160;</a>Hazel&#160;is&#160;also&#160;capable<br/>of&#160;evaluating&#160;programs&#160;with&#160;holes&#160;<a href="out.html#29">[50,&#160;</a><a href="out.html#30">81]&#160;</a>(including&#160;‘non-empty’&#160;holes&#160;inserted&#160;as&#160;membranes<br/>around&#160;marked&#160;type&#160;errors&#160;<a href="out.html#31">[87]),&#160;</a>which&#160;makes&#160;it&#160;possible&#160;to&#160;use&#160;unit&#160;testing&#160;to&#160;granularly&#160;evaluate<br/>the&#160;correctness&#160;of&#160;even&#160;locally&#160;ill-typed&#160;model&#160;outputs&#160;(rather&#160;than&#160;the&#160;more&#160;ad&#160;hoc&#160;methods&#160;that<br/>are&#160;common&#160;in&#160;the&#160;literature,&#160;like&#160;edit&#160;distance&#160;from&#160;a&#160;single&#160;canonical&#160;solution).</p>
<p style="position:absolute;top:609px;left:84px;white-space:nowrap" class="ft420">The&#160;Hazel&#160;language&#160;is&#160;similar&#160;to&#160;Elm,&#160;OCaml,&#160;and&#160;other&#160;languages&#160;in&#160;the&#160;ML&#160;family,&#160;i.e.&#160;it&#160;is&#160;a</p>
<p style="position:absolute;top:626px;left:69px;white-space:nowrap" class="ft427">pure&#160;typed&#160;functional&#160;language&#160;with&#160;support&#160;for&#160;algebraic&#160;datatypes&#160;and&#160;pattern&#160;matching.&#160;Unlike<br/>Elm&#160;and&#160;OCaml,&#160;contemporary&#160;LLMs&#160;have&#160;not&#160;been&#160;trained&#160;on&#160;a&#160;substantial&#160;body&#160;of&#160;Hazel&#160;code,&#160;i.e.<br/>Hazel&#160;is&#160;a&#160;low&#160;resource&#160;language.&#160;This&#160;presents&#160;both&#160;a&#160;challenge&#160;and&#160;an&#160;opportunity&#160;for&#160;research.</p>
<p style="position:absolute;top:680px;left:68px;white-space:nowrap" class="ft420">We&#160;have&#160;found&#160;that&#160;when&#160;asked&#160;to&#160;write&#160;Hazel&#160;code,&#160;contemporary&#160;LLMs&#160;fail&#160;to&#160;follow&#160;Hazel’s</p>
<p style="position:absolute;top:698px;left:69px;white-space:nowrap" class="ft427">syntax&#160;and&#160;semantics,&#160;often&#160;borrowing&#160;syntactic&#160;forms&#160;and&#160;library&#160;functions&#160;from&#160;OCaml&#160;and&#160;Elm.<br/>However,&#160;LLMs&#160;are&#160;capable&#160;of&#160;in-context&#160;learning&#160;<a href="out.html#27">[24,&#160;</a><a href="out.html#29">64],&#160;</a>suggesting&#160;that&#160;it&#160;is&#160;possible&#160;to&#160;include<br/>few-shot&#160;examples&#160;and&#160;instructions&#160;in&#160;the&#160;prompt&#160;to&#160;quickly&#160;teach&#160;contemporary&#160;LLMs&#160;about&#160;how<br/>Hazel&#160;differs&#160;from&#160;related&#160;higher&#160;resource&#160;languages.&#160;The&#160;error&#160;correction&#160;approach&#160;we&#160;investigate<br/>may&#160;also&#160;be&#160;of&#160;particular&#160;interest&#160;in&#160;preventing&#160;errors&#160;in&#160;this&#160;sort&#160;of&#160;low-resource&#160;setting,&#160;which&#160;is<br/>of&#160;considerable&#160;interest&#160;to&#160;the&#160;PL&#160;research&#160;community&#160;<a href="out.html#27">[15].</a></p>
<p style="position:absolute;top:806px;left:84px;white-space:nowrap" class="ft420">To&#160;demonstrate&#160;that&#160;static&#160;retrieval&#160;is&#160;useful&#160;even&#160;for&#160;mainstream&#160;high&#160;resource&#160;languages,&#160;we</p>
<p style="position:absolute;top:824px;left:69px;white-space:nowrap" class="ft427">also&#160;perform&#160;additional&#160;more&#160;limited&#160;experiments&#160;in&#160;<a href="out.html#19">section&#160;3&#160;</a>with&#160;TypeScript&#160;via&#160;the&#160;TypeScript<br/>Language&#160;Server,&#160;an&#160;instance&#160;of&#160;the&#160;Language&#160;Sever&#160;Protocol&#160;(LSP)&#160;<a href="out.html#27">[10].&#160;</a>We&#160;find&#160;that&#160;the&#160;LSP&#160;does<br/>not&#160;provide&#160;simple,&#160;direct&#160;access&#160;to&#160;the&#160;sort&#160;of&#160;information&#160;that&#160;is&#160;necessary&#160;to&#160;implement&#160;static<br/>retrieval,&#160;so&#160;we&#160;propose&#160;a&#160;more&#160;direct&#160;interface&#160;as&#160;we&#160;introduce&#160;the&#160;various&#160;approaches&#160;throughout<br/>the&#160;paper,&#160;summarized&#160;as&#160;a&#160;prospective&#160;LSP&#160;extenstion&#160;in&#160;<a href="out.html#22">section&#160;5.</a></p>
<p style="position:absolute;top:933px;left:69px;white-space:nowrap" class="ft434">1.1.2</p>
<p style="position:absolute;top:933px;left:110px;white-space:nowrap" class="ft434">Tasks.&#160;The&#160;most&#160;commonly&#160;reported&#160;LLM&#160;code&#160;completion&#160;benchmarks&#160;are&#160;HumanEval&#160;<a href="out.html#27">[17],</a></p>
<p style="position:absolute;top:951px;left:69px;white-space:nowrap" class="ft427">EvalPlus&#160;<a href="out.html#28">[40],&#160;</a>MBPP&#160;<a href="out.html#26">[7],&#160;</a>and&#160;LiveCodeBench&#160;<a href="out.html#28">[32].&#160;</a>These&#160;are&#160;unsuitable&#160;for&#160;evaluating&#160;the&#160;proposed<br/>approaches&#160;because&#160;they&#160;consist&#160;of&#160;single-file&#160;tasks&#160;(constructed&#160;either&#160;manually,&#160;or&#160;derived&#160;from</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft49">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 5 -->
<a name="5"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page5-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out005.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft516">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:635px;white-space:nowrap" class="ft516">288:5</p>
<p style="position:absolute;top:131px;left:69px;white-space:nowrap" class="ft527">public&#160;repositories&#160;or&#160;programming&#160;contests)&#160;that&#160;are&#160;low-context,&#160;i.e.&#160;they&#160;require&#160;only&#160;builtin&#160;or<br/>standard&#160;datatypes,&#160;and&#160;therefore&#160;do&#160;not&#160;highlight&#160;the&#160;semantic&#160;contextualization&#160;problem.</p>
<p style="position:absolute;top:167px;left:84px;white-space:nowrap" class="ft522">Repository-level&#160;benchmarks&#160;like&#160;RepoEval&#160;<a href="out.html#30">[83],&#160;</a>RepoBench&#160;<a href="out.html#28">[42],&#160;</a>CrossCodeEval&#160;<a href="out.html#27">[20],&#160;</a>the&#160;Co-</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft527">CoMIC&#160;dataset&#160;<a href="out.html#27">[19],&#160;</a>and&#160;defects4j&#160;<a href="out.html#28">[34]&#160;</a>are&#160;more&#160;suitable&#160;because&#160;they&#160;are&#160;high-context,&#160;i.e.&#160;they<br/>require&#160;completing&#160;code&#160;that&#160;depends&#160;on&#160;definitions&#160;in&#160;different&#160;files.&#160;However,&#160;these&#160;benchmarks<br/>also&#160;present&#160;difficulties:</p>
<p style="position:absolute;top:243px;left:84px;white-space:nowrap" class="ft520">(1)&#160;Data&#160;Contamination:&#160;LLMs&#160;are&#160;known&#160;to&#160;be&#160;able&#160;to&#160;memorize&#160;code&#160;that&#160;they&#160;have&#160;seen</p>
<p style="position:absolute;top:261px;left:105px;white-space:nowrap" class="ft527">during&#160;training,&#160;and&#160;evidence&#160;suggests&#160;that&#160;this&#160;data&#160;contamination&#160;issue&#160;has&#160;indeed&#160;caused<br/>public&#160;models&#160;to&#160;be&#160;overfitted&#160;to&#160;publicly&#160;available&#160;code&#160;<a href="out.html#28">[32,&#160;</a><a href="out.html#30">65].&#160;</a>All&#160;of&#160;these&#160;benchmarks<br/>source&#160;examples&#160;from&#160;GitHub&#160;or&#160;PyPI.&#160;Based&#160;on&#160;reported&#160;cut-off&#160;dates,&#160;the&#160;projects&#160;in&#160;these<br/>benchmarks&#160;will&#160;have&#160;by&#160;now&#160;likely&#160;been&#160;incorporated&#160;into&#160;the&#160;training&#160;of&#160;contemporary<br/>models&#160;(noting&#160;that&#160;with&#160;few&#160;exceptions&#160;discussed&#160;below,&#160;training&#160;data&#160;is&#160;not&#160;disclosed).</p>
<p style="position:absolute;top:351px;left:84px;white-space:nowrap" class="ft520">(2)&#160;Language&#160;Exclusivity:&#160;None&#160;of&#160;these&#160;include&#160;Hazel&#160;code,&#160;nor&#160;is&#160;it&#160;easy&#160;to&#160;manually&#160;port</p>
<p style="position:absolute;top:369px;left:105px;white-space:nowrap" class="ft527">arbitrary&#160;projects&#160;taken&#160;from&#160;GitHub&#160;or&#160;PyPI&#160;that&#160;depend&#160;on&#160;various&#160;complex&#160;libraries&#160;to<br/>Hazel&#160;or&#160;any&#160;other&#160;low&#160;resource&#160;language&#160;of&#160;interest&#160;to&#160;the&#160;community.&#160;Existing&#160;porting&#160;tech-<br/>niques&#160;have&#160;only&#160;generated&#160;low-context&#160;datasets&#160;<a href="out.html#27">[15].&#160;</a>In&#160;addition,&#160;RepoEval&#160;and&#160;CoCoMIC<br/>exclusively&#160;feature&#160;Python&#160;code,&#160;which&#160;is&#160;difficult&#160;to&#160;statically&#160;analyze.</p>
<p style="position:absolute;top:440px;left:84px;white-space:nowrap" class="ft520">(3)&#160;Missing&#160;Tests:&#160;None&#160;of&#160;the&#160;tasks&#160;in&#160;these&#160;benchmarks&#160;include&#160;unit&#160;tests,&#160;which&#160;means&#160;that</p>
<p style="position:absolute;top:458px;left:105px;white-space:nowrap" class="ft520">we&#160;can&#160;only&#160;evaluate&#160;correctness&#160;based&#160;on&#160;brittle&#160;textual&#160;similarity&#160;metrics.&#160;We&#160;observe&#160;that</p>
<p style="position:absolute;top:476px;left:105px;white-space:nowrap" class="ft527">models&#160;often&#160;produce&#160;correct&#160;output&#160;with&#160;substantial&#160;syntactic&#160;variation,&#160;similar&#160;to&#160;human<br/>programmers&#160;<a href="out.html#27">[27].</a></p>
<p style="position:absolute;top:516px;left:84px;white-space:nowrap" class="ft520">For&#160;these&#160;reasons,&#160;we&#160;construct&#160;a&#160;repository-level&#160;benchmark&#160;suite,&#160;MVUBench,&#160;in&#160;<a href="out.html#14">subsubsec-</a></p>
<p style="position:absolute;top:534px;left:69px;white-space:nowrap" class="ft527"><a href="out.html#14">tion&#160;2.8.1,&#160;</a>that&#160;consists&#160;of&#160;various&#160;MVU&#160;web&#160;applications.&#160;Web&#160;application&#160;development&#160;is&#160;an<br/>important&#160;and&#160;under-studied&#160;application&#160;domain.&#160;Many&#160;visions&#160;for&#160;the&#160;future&#160;imagine&#160;LLMs&#160;gener-<br/>ating&#160;complete&#160;application&#160;logic,&#160;not&#160;just&#160;solving&#160;code&#160;competition&#160;problems&#160;<a href="out.html#30">[75].&#160;</a>MVU&#160;applications<br/>are&#160;high-context&#160;in&#160;that&#160;they&#160;typically&#160;define&#160;a&#160;number&#160;of&#160;different&#160;datatypes&#160;which&#160;by&#160;convention<br/>are&#160;often&#160;located&#160;in&#160;separate&#160;files.&#160;Some&#160;of&#160;these&#160;datatypes&#160;have&#160;generic&#160;names,&#160;like</p>
<p style="position:absolute;top:603px;left:599px;white-space:nowrap" class="ft526">Model&#160;and</p>
<p style="position:absolute;top:621px;left:68px;white-space:nowrap" class="ft527">Action,&#160;and&#160;a&#160;single&#160;application&#160;might&#160;have&#160;multiple&#160;such&#160;types,&#160;one&#160;for&#160;each&#160;GUI&#160;component,<br/>presenting&#160;a&#160;significant&#160;challenge&#160;to&#160;language-agnostic&#160;techniques&#160;that&#160;do&#160;not&#160;understand&#160;binding<br/>structure.&#160;Indeed,&#160;it&#160;is&#160;easy&#160;to&#160;construct&#160;particularly&#160;challenging&#160;yet&#160;realistic&#160;examples&#160;simply&#160;by<br/>combining&#160;multiple&#160;components&#160;of&#160;MVUBench,&#160;as&#160;we&#160;demonstrate&#160;in&#160;<a href="out.html#15">subsubsection&#160;2.8.5.</a></p>
<p style="position:absolute;top:695px;left:84px;white-space:nowrap" class="ft520">We&#160;address&#160;the&#160;data&#160;contamination&#160;problem&#160;following&#160;the&#160;approach&#160;taken&#160;by&#160;HumanEval,&#160;by</p>
<p style="position:absolute;top:713px;left:69px;white-space:nowrap" class="ft527">conceptualizing&#160;and&#160;implementing&#160;these&#160;applications&#160;from&#160;scratch,&#160;without&#160;directly&#160;adapting&#160;any<br/>code&#160;from&#160;GitHub.&#160;We&#160;will&#160;control&#160;the&#160;release&#160;of&#160;these&#160;benchmarks&#160;to&#160;limit&#160;the&#160;likelihood&#160;of&#160;future<br/>contamination&#160;<a href="out.html#28">[31].&#160;</a>We&#160;address&#160;the&#160;language&#160;exclusivity&#160;problem&#160;by&#160;ensuring&#160;that&#160;these&#160;MVU<br/>applications&#160;do&#160;not&#160;have&#160;any&#160;external&#160;library&#160;dependencies,&#160;so&#160;it&#160;is&#160;easy&#160;to&#160;port&#160;them&#160;to&#160;languages<br/>beyond&#160;Hazel&#160;and&#160;TypeScript,&#160;notably&#160;including&#160;pure&#160;functional&#160;languages.&#160;New&#160;MVU&#160;examples&#160;are<br/>also&#160;easy&#160;to&#160;develop&#160;and&#160;add&#160;to&#160;the&#160;benchmark,&#160;because&#160;they&#160;can&#160;implement&#160;the&#160;logic&#160;of&#160;essentially<br/>any&#160;front-end&#160;web&#160;application&#160;or&#160;GUI&#160;component.&#160;Finally,&#160;the&#160;lack&#160;of&#160;side&#160;effects&#160;also&#160;makes&#160;it&#160;easy<br/>to&#160;unit&#160;test&#160;the&#160;core&#160;application&#160;logic.</p>
<p style="position:absolute;top:866px;left:69px;white-space:nowrap" class="ft534">1.1.3</p>
<p style="position:absolute;top:866px;left:111px;white-space:nowrap" class="ft534">LLMs.&#160;We&#160;selected&#160;two&#160;pre-trained&#160;language&#160;models&#160;with&#160;which&#160;to&#160;perform&#160;experiments.</p>
<p style="position:absolute;top:884px;left:69px;white-space:nowrap" class="ft527">First,&#160;we&#160;selected&#160;OpenAI’s&#160;GPT-4(-0613)&#160;<a href="out.html#26">[1],&#160;</a>which&#160;is&#160;currently&#160;consistently&#160;at&#160;or&#160;near&#160;the&#160;top&#160;of<br/>code&#160;completion&#160;benchmarks,&#160;to&#160;evaluate&#160;whether&#160;even&#160;the&#160;most&#160;capable&#160;contemporary&#160;foundation<br/>models&#160;(i.e.&#160;models&#160;so&#160;large&#160;that&#160;only&#160;large&#160;organizations&#160;like&#160;OpenAI&#160;have&#160;the&#160;resources&#160;to&#160;train<br/>and&#160;deploy&#160;them)&#160;benefit&#160;from&#160;the&#160;approaches&#160;we&#160;consider.</p>
<p style="position:absolute;top:956px;left:84px;white-space:nowrap" class="ft520">GPT-4&#160;is&#160;a&#160;closed&#160;model&#160;and&#160;many&#160;of&#160;its&#160;specific&#160;details,&#160;including&#160;its&#160;size&#160;and&#160;training,&#160;have</p>
<p style="position:absolute;top:974px;left:69px;white-space:nowrap" class="ft520">not&#160;been&#160;publicly&#160;disclosed.&#160;This&#160;presents&#160;a&#160;significant&#160;challenge&#160;to&#160;reproducibility.&#160;Consequently,</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft59">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 6 -->
<a name="6"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft635{font-size:13px;font-family:DQFGLI+Inconsolatazi4;color:#804cf5;}
-->
</style>
<div id="page6-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out006.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft616">288:6</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft616">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:68px;white-space:nowrap" class="ft620">we&#160;also&#160;conduct&#160;experiments&#160;using&#160;StarCoder2-15B,&#160;the&#160;most&#160;capable&#160;fully&#160;open-source&#160;model</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft627">responsibly&#160;trained&#160;on&#160;a&#160;fully&#160;open&#160;code&#160;corpus,&#160;The&#160;Stack&#160;v2,&#160;as&#160;of&#160;this&#160;writing&#160;<a href="out.html#28">[43].&#160;</a>The&#160;Stack&#160;v2<br/>has&#160;notably&#160;extensive&#160;coverage&#160;of&#160;low&#160;resource&#160;languages.&#160;StarCoder2-15B&#160;is&#160;small&#160;enough&#160;to&#160;run<br/>locally&#160;on&#160;sufficiently&#160;powerful&#160;workstations,&#160;so&#160;our&#160;results&#160;should&#160;be&#160;reproducible&#160;indefinitely.</p>
<p style="position:absolute;top:203px;left:84px;white-space:nowrap" class="ft620">GPT-4&#160;is&#160;an&#160;instruction-tuned&#160;model,&#160;so&#160;we&#160;are&#160;able&#160;to&#160;use&#160;it&#160;to&#160;evaluate&#160;static&#160;error&#160;correction.</p>
<p style="position:absolute;top:221px;left:69px;white-space:nowrap" class="ft627">StarCoder2-15B&#160;is&#160;completion-tuned,&#160;meaning&#160;it&#160;is&#160;not&#160;designed&#160;to&#160;receive&#160;and&#160;respond&#160;to&#160;instruc-<br/>tions.&#160;We&#160;are&#160;not&#160;aware&#160;of&#160;a&#160;comparably&#160;powerful&#160;fully&#160;open&#160;source&#160;code-specialize&#160;model&#160;that&#160;is<br/>instruction-tuned&#160;as&#160;of&#160;this&#160;writing,&#160;so&#160;we&#160;do&#160;not&#160;evaluate&#160;error&#160;correction&#160;with&#160;StarCoder2-15B.</p>
<p style="position:absolute;top:290px;left:69px;white-space:nowrap" class="ft619">2</p>
<p style="position:absolute;top:290px;left:91px;white-space:nowrap" class="ft619">Static&#160;Retrieval&#160;and&#160;Error&#160;Correction&#160;in&#160;the&#160;Hazel&#160;Assistant</p>
<p style="position:absolute;top:312px;left:68px;white-space:nowrap" class="ft627">We&#160;first&#160;introduce&#160;Hazel&#160;and&#160;the&#160;Hazel&#160;Assistant&#160;by&#160;example&#160;from&#160;the&#160;developer’s&#160;perspective.<br/>We&#160;continue&#160;by&#160;describing&#160;how&#160;the&#160;Hazel&#160;Assistant&#160;prompts&#160;GPT-4&#160;and&#160;interfaces&#160;with&#160;the&#160;Hazel</p>
<p style="position:absolute;top:348px;left:69px;white-space:nowrap" class="ft620">Language&#160;Server&#160;to&#160;generate&#160;code&#160;completions&#160;augmented&#160;with&#160;static&#160;retrieval&#160;and&#160;error&#160;correction.</p>
<p style="position:absolute;top:366px;left:68px;white-space:nowrap" class="ft620">Then,&#160;we&#160;introduce&#160;the&#160;MVUBench&#160;benchmark&#160;suite&#160;and&#160;report&#160;the&#160;results&#160;of&#160;an&#160;ablation&#160;study&#160;of</p>
<p style="position:absolute;top:384px;left:69px;white-space:nowrap" class="ft627">each&#160;of&#160;these&#160;features.&#160;We&#160;investigate&#160;their&#160;relative&#160;contributions&#160;to&#160;the&#160;overall&#160;performance&#160;of&#160;the<br/>assistant&#160;on&#160;these&#160;high-context&#160;MVU&#160;tasks,&#160;relative&#160;to&#160;various&#160;baselines&#160;that&#160;establish&#160;bounds&#160;on<br/>performance.</p>
<p style="position:absolute;top:452px;left:69px;white-space:nowrap" class="ft619">2.1</p>
<p style="position:absolute;top:452px;left:103px;white-space:nowrap" class="ft619">Hazel</p>
<p style="position:absolute;top:474px;left:69px;white-space:nowrap" class="ft627">Hazel&#160;is&#160;a&#160;web-based&#160;live&#160;functional&#160;programming&#160;environment&#160;that&#160;features&#160;total&#160;syntax&#160;and&#160;type<br/>error&#160;recovery&#160;via&#160;automatic&#160;hole&#160;insertion&#160;<a href="out.html#29">[47,&#160;</a><a href="out.html#31">87].&#160;</a>This&#160;ensures&#160;that&#160;every&#160;editor&#160;state&#160;in&#160;Hazel&#160;is<br/>a&#160;semantically&#160;meaningful&#160;program&#160;sketch&#160;and&#160;that&#160;Hazel’s&#160;various&#160;editor&#160;services,&#160;include&#160;code<br/>completion,&#160;never&#160;experience&#160;gaps&#160;in&#160;service&#160;<a href="out.html#29">[52].</a></p>
<p style="position:absolute;top:791px;left:305px;white-space:nowrap" class="ft617">Fig.&#160;2.&#160;The&#160;Hazel&#160;IDE</p>
<p style="position:absolute;top:830px;left:84px;white-space:nowrap" class="ft620">As&#160;a&#160;running&#160;example,&#160;consider&#160;a&#160;scenario&#160;where&#160;the&#160;developer&#160;is&#160;implementing&#160;EmojiPaint,&#160;a</p>
<p style="position:absolute;top:848px;left:69px;white-space:nowrap" class="ft627">simplified&#160;MVU&#160;app&#160;where&#160;a&#160;user&#160;chooses&#160;an&#160;emoji&#160;from&#160;a&#160;palette&#160;and&#160;paints&#160;designs&#160;by&#160;‘stamping’<br/>it&#160;on&#160;a&#160;grid.&#160;<a href="out.html#6">Figure&#160;2&#160;</a>shows&#160;the&#160;user&#160;editing&#160;the&#160;file&#160;where&#160;the</p>
<p style="position:absolute;top:864px;left:475px;white-space:nowrap" class="ft626">update&#160;function&#160;is&#160;defined.&#160;In</p>
<p style="position:absolute;top:884px;left:69px;white-space:nowrap" class="ft627"><a href="out.html#6">Figure&#160;2&#160;</a>the&#160;developer’s&#160;cursor&#160;is&#160;shown&#160;as&#160;a&#160;red&#160;convex&#160;triangle&#160;to&#160;the&#160;right&#160;of&#160;a&#160;hole,&#160;represented<br/>as&#160;a&#160;convex&#160;hexagon.&#160;The&#160;Hazel&#160;IDE&#160;interfaces&#160;with&#160;the&#160;Hazel&#160;Language&#160;Server&#160;to&#160;report&#160;static<br/>information&#160;which&#160;both&#160;user&#160;and&#160;model&#160;can&#160;use&#160;to&#160;inform&#160;completions.&#160;The&#160;bottom&#160;bar,&#160;called&#160;the<br/>Cursor&#160;Inspector,&#160;reports&#160;information&#160;on&#160;the&#160;syntax&#160;as&#160;well&#160;the&#160;expected&#160;type&#160;of&#160;the&#160;expression,<br/>here&#160;a&#160;typed&#160;hole&#160;of&#160;the&#160;function&#160;type</p>
<p style="position:absolute;top:954px;left:314px;white-space:nowrap" class="ft635">(Model,&#160;Action)&#160;-&gt;&#160;Model,&#160;at&#160;the&#160;cursor.&#160;The&#160;lower&#160;left</p>
<p style="position:absolute;top:974px;left:69px;white-space:nowrap" class="ft620">popup,&#160;called&#160;the&#160;Context&#160;Inspector,&#160;reports&#160;the&#160;typing&#160;context&#160;at&#160;the&#160;cursor.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft69">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 7 -->
<a name="7"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft736{font-size:13px;font-family:DQFGLI+Inconsolatazi4;color:#17a0dd;}
	.ft737{font-size:13px;line-height:16px;font-family:WVOPFG+LinBiolinumT;color:#000000;}
-->
</style>
<div id="page7-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out007.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft716">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:635px;white-space:nowrap" class="ft716">288:7</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft720">The</p>
<p style="position:absolute;top:129px;left:110px;white-space:nowrap" class="ft736">update&#160;function&#160;is&#160;intended&#160;to&#160;respond&#160;to&#160;EmojiPaint&#160;user&#160;actions&#160;in&#160;the&#160;GUI,&#160;represented&#160;by</p>
<p style="position:absolute;top:149px;left:68px;white-space:nowrap" class="ft720">values&#160;of&#160;type</p>
<p style="position:absolute;top:147px;left:156px;white-space:nowrap" class="ft735">Action,&#160;transforming&#160;the&#160;current&#160;GUI&#160;state,&#160;represented&#160;by&#160;values&#160;of&#160;type&#160;Model,&#160;to&#160;a</p>
<p style="position:absolute;top:167px;left:69px;white-space:nowrap" class="ft720">new&#160;GUI&#160;state,&#160;also&#160;of&#160;type</p>
<p style="position:absolute;top:165px;left:236px;white-space:nowrap" class="ft735">Model.&#160;These&#160;types&#160;and&#160;associated&#160;helper&#160;functions&#160;appear&#160;in&#160;different</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft727">files,&#160;excerpted&#160;in&#160;<a href="out.html#7">Figure&#160;3(</a>a-b).&#160;Algebraic&#160;datatypes&#160;(i.e.&#160;recursive&#160;sum&#160;types)&#160;are&#160;represented&#160;in<br/>Hazel&#160;as&#160;constructors&#160;separated&#160;by</p>
<p style="position:absolute;top:201px;left:285px;white-space:nowrap" class="ft735">+&#160;(rather&#160;than&#160;|&#160;in&#160;similar&#160;languages&#160;like&#160;OCaml).</p>
<p style="position:absolute;top:481px;left:69px;white-space:nowrap" class="ft737">Fig.&#160;3.&#160;(a)&#160;The&#160;types&#160;relevant&#160;to&#160;the&#160;EmojiPainter&#160;MVU&#160;app.&#160;(b)&#160;An&#160;excerpt&#160;of&#160;already-implemented&#160;functions<br/>in&#160;another&#160;file&#160;(with&#160;definitions&#160;collapsed&#160;by&#160;Hazel’s&#160;outliner).&#160;(c)&#160;The&#160;stubbed&#160;function&#160;header,&#160;where&#160;the<br/>developer&#160;has&#160;requested&#160;LLM&#160;completion&#160;by&#160;inserting</p>
<p style="position:absolute;top:510px;left:372px;white-space:nowrap" class="ft726">??&#160;in&#160;the&#160;hole.</p>
<p style="position:absolute;top:564px;left:69px;white-space:nowrap" class="ft719">2.2</p>
<p style="position:absolute;top:564px;left:103px;white-space:nowrap" class="ft719">Hazel&#160;Assistant</p>
<p style="position:absolute;top:586px;left:68px;white-space:nowrap" class="ft727">The&#160;Hazel&#160;Assistant&#160;is&#160;a&#160;programming&#160;assistant&#160;that&#160;generates&#160;code&#160;completions&#160;by&#160;two&#160;mechanisms.<br/>To&#160;provide&#160;fast,&#160;local&#160;completions,&#160;the&#160;Hazel&#160;Assistant&#160;generates&#160;type-directed&#160;completions&#160;<a href="out.html#27">[12],</a></p>
<p style="position:absolute;top:622px;left:69px;white-space:nowrap" class="ft727">using&#160;localized&#160;syntactic&#160;and&#160;static&#160;information&#160;to&#160;inform&#160;small&#160;completions&#160;with&#160;type-directed<br/>lookahead&#160;as&#160;shown&#160;in&#160;<a href="out.html#7">Figure&#160;4(</a>a-b).&#160;This&#160;feature&#160;can&#160;be&#160;invoked&#160;even&#160;when&#160;there&#160;are&#160;syntax&#160;errors<br/>because&#160;Hazel&#160;tracks&#160;syntactic&#160;obligations&#160;in&#160;a&#160;backpack,&#160;e.g.&#160;as&#160;shown&#160;in&#160;<a href="out.html#7">Figure&#160;4(</a>b)&#160;where&#160;both</p>
<p style="position:absolute;top:673px;left:71px;white-space:nowrap" class="ft726">=&gt;&#160;and&#160;<b>end&#160;</b>are&#160;necessary&#160;to&#160;complete&#160;the&#160;case&#160;expression&#160;<a href="out.html#29">[47].</a></p>
<p style="position:absolute;top:849px;left:127px;white-space:nowrap" class="ft717">Fig.&#160;4.&#160;The&#160;Hazel&#160;Assistant&#160;defaults&#160;to&#160;providing&#160;only&#160;type-directed&#160;token&#160;completion.</p>
<p style="position:absolute;top:885px;left:84px;white-space:nowrap" class="ft720">To&#160;request&#160;an&#160;LLM&#160;completion&#160;from&#160;the&#160;Hazel&#160;Assistant,&#160;the&#160;developer&#160;can&#160;fill&#160;any&#160;expression</p>
<p style="position:absolute;top:903px;left:69px;white-space:nowrap" class="ft720">hole&#160;with</p>
<p style="position:absolute;top:900px;left:134px;white-space:nowrap" class="ft726">??&#160;which&#160;starts&#160;to&#160;animate&#160;as&#160;suggested&#160;in&#160;<a href="out.html#7">Figure&#160;3(</a>c).&#160;GPT-4,&#160;our&#160;underlying&#160;model</p>
<p style="position:absolute;top:921px;left:69px;white-space:nowrap" class="ft727">in&#160;this&#160;section,&#160;is&#160;not&#160;particularly&#160;fast&#160;as&#160;of&#160;this&#160;writing,&#160;so&#160;the&#160;developer&#160;can&#160;continue&#160;to&#160;edit<br/>elsewhere&#160;while&#160;waiting&#160;for&#160;GPT-4&#160;to&#160;return&#160;a&#160;completion.&#160;For&#160;this&#160;example,&#160;<a href="out.html#8">Figure&#160;5&#160;</a>shows&#160;an<br/>example&#160;of&#160;a&#160;GPT-4-generated&#160;completion.&#160;The&#160;developer&#160;can&#160;inspect&#160;this&#160;completion&#160;(which&#160;would<br/>display&#160;any&#160;type&#160;errors&#160;found)&#160;and&#160;accept&#160;it&#160;with&#160;the</p>
<p style="position:absolute;top:972px;left:394px;white-space:nowrap" class="ft726">Tab&#160;key.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft79">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 8 -->
<a name="8"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft838{font-size:15px;font-family:NVCMIJ+txsys;color:#000000;}
	.ft839{font-size:13px;font-family:DQFGLI+Inconsolatazi4;color:#8d8600;}
	.ft840{font-size:15px;line-height:17px;font-family:JZXWNF+LinLibertineT;color:#721679;}
-->
</style>
<div id="page8-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out008.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft816">288:8</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft816">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:327px;left:69px;white-space:nowrap" class="ft837">Fig.&#160;5.&#160;The&#160;Hazel&#160;LLM&#160;Assistant,&#160;combining&#160;static&#160;information&#160;with&#160;generative&#160;creation&#160;via&#160;language&#160;models,<br/>is&#160;capable&#160;of&#160;offering&#160;more&#160;substantial&#160;completions</p>
<p style="position:absolute;top:396px;left:69px;white-space:nowrap" class="ft819">2.3</p>
<p style="position:absolute;top:396px;left:103px;white-space:nowrap" class="ft819">The&#160;Hazel&#160;Assistant&#160;Trialogue</p>
<p style="position:absolute;top:419px;left:69px;white-space:nowrap" class="ft827">Our&#160;generative&#160;hole&#160;filling&#160;process&#160;consists&#160;of&#160;the&#160;following&#160;steps,&#160;construed&#160;here&#160;as&#160;a&#160;‘trialogue’<br/>between&#160;programmer,&#160;the&#160;Hazel&#160;Language&#160;Server,&#160;and&#160;a&#160;language&#160;model.&#160;This&#160;is&#160;depicted&#160;in&#160;<a href="out.html#2">Figure&#160;1<br/></a>as&#160;a&#160;series&#160;of&#160;chat&#160;messages.&#160;In&#160;our&#160;setup,&#160;the&#160;primary&#160;interaction&#160;is&#160;between&#160;the&#160;language&#160;model<br/>and&#160;the&#160;Hazel&#160;Language&#160;Server,&#160;which&#160;acts&#160;on&#160;behalf&#160;of&#160;the&#160;user&#160;in&#160;response&#160;to&#160;a&#160;request&#160;for&#160;LLM<br/>hole&#160;filling,&#160;kicking&#160;off&#160;the&#160;following&#160;exchange.&#160;Here&#160;we&#160;use&#160;the&#160;messaging&#160;terminology&#160;from&#160;the<br/>OpenAI&#160;Chat&#160;API&#160;<a href="out.html#29">[54],&#160;</a>which&#160;distinguishes&#160;System,&#160;User,&#160;and&#160;Model&#160;messages:</p>
<p style="position:absolute;top:532px;left:84px;white-space:nowrap" class="ft827">(1)&#160;System&#160;Message:&#160;Hazel&#160;Crash&#160;Course&#160;and&#160;few-shot&#160;examples<br/>(2)&#160;User&#160;Message:&#160;Program&#160;sketch&#160;augmented&#160;by&#160;static&#160;retrieval</p>
<p style="position:absolute;top:568px;left:105px;white-space:nowrap" class="ft820">(i.e.&#160;relevant&#160;semantic&#160;context&#160;from&#160;the&#160;language&#160;server)</p>
<p style="position:absolute;top:586px;left:84px;white-space:nowrap" class="ft827">(3)&#160;Model&#160;Message:&#160;Suggested&#160;hole&#160;filling<br/>(4)&#160;User&#160;Message:&#160;Syntax&#160;and&#160;type&#160;errors&#160;in&#160;the&#160;completion,&#160;if&#160;any<br/>(5)&#160;Model&#160;Message:&#160;A&#160;corrected&#160;completion,&#160;if&#160;necessary</p>
<p style="position:absolute;top:646px;left:84px;white-space:nowrap" class="ft820">We&#160;repeat&#160;steps&#160;4-5,&#160;i.e.&#160;we&#160;perform&#160;syntactic&#160;and&#160;static&#160;error&#160;correction&#160;when&#160;needed,&#160;stopping</p>
<p style="position:absolute;top:664px;left:69px;white-space:nowrap" class="ft820">after&#160;at&#160;most&#160;two&#160;iterations&#160;to&#160;limit&#160;latency.</p>
<p style="position:absolute;top:699px;left:69px;white-space:nowrap" class="ft819">2.4</p>
<p style="position:absolute;top:699px;left:103px;white-space:nowrap" class="ft819">System&#160;Message:&#160;The&#160;Hazel&#160;Crash&#160;Course</p>
<p style="position:absolute;top:721px;left:68px;white-space:nowrap" class="ft820">The&#160;system&#160;message&#160;is&#160;generic,&#160;common&#160;to&#160;each&#160;prompt.&#160;For&#160;an&#160;instruction-tuned&#160;model&#160;(GPT-4),</p>
<p style="position:absolute;top:739px;left:69px;white-space:nowrap" class="ft820">the&#160;system&#160;message&#160;consists&#160;of&#160;three&#160;sections:</p>
<p style="position:absolute;top:757px;left:84px;white-space:nowrap" class="ft820">First,&#160;we&#160;provide&#160;a&#160;list&#160;of&#160;instructions&#160;delineating&#160;the&#160;task.&#160;In&#160;particular,&#160;we&#160;instruct&#160;the&#160;model&#160;to</p>
<p style="position:absolute;top:775px;left:69px;white-space:nowrap" class="ft827">provide&#160;a&#160;code&#160;fragment&#160;to&#160;replace&#160;a&#160;sentinel&#160;value&#160;representing&#160;the&#160;target&#160;hole&#160;in&#160;the&#160;program<br/>sketch.&#160;For&#160;example,&#160;the&#160;model&#160;is&#160;given&#160;the&#160;instructions:</p>
<p style="position:absolute;top:817px;left:92px;white-space:nowrap" class="ft838">•</p>
<p style="position:absolute;top:815px;left:105px;white-space:nowrap" class="ft839">&#34;Reply&#160;only&#160;with&#160;code&#34;</p>
<p style="position:absolute;top:835px;left:92px;white-space:nowrap" class="ft838">•</p>
<p style="position:absolute;top:833px;left:105px;white-space:nowrap" class="ft839">&#34;DO&#160;NOT&#160;include&#160;the&#160;program&#160;sketch&#160;in&#160;your&#160;reply&#34;</p>
<p style="position:absolute;top:859px;left:84px;white-space:nowrap" class="ft820">Second,&#160;an&#160;informal&#160;specification&#160;of&#160;Hazel&#160;syntax&#160;with&#160;emphasis&#160;on&#160;‘negative&#160;characterization’,</p>
<p style="position:absolute;top:877px;left:69px;white-space:nowrap" class="ft827">listing&#160;differences&#160;from&#160;syntactically-similar&#160;higher-resource&#160;languages.&#160;As&#160;this&#160;kind&#160;of&#160;‘prompt<br/>engineering’&#160;is&#160;as-yet&#160;a&#160;task-sensitive&#160;and&#160;inexact&#160;process,&#160;this&#160;section,&#160;along&#160;with&#160;the&#160;one&#160;above,</p>
<p style="position:absolute;top:913px;left:68px;white-space:nowrap" class="ft820">was&#160;constructed&#160;though&#160;an&#160;ad-hoc&#160;process&#160;of&#160;discovering&#160;repeated&#160;syntactic&#160;errors&#160;in&#160;model&#160;output.</p>
<p style="position:absolute;top:931px;left:69px;white-space:nowrap" class="ft820">For&#160;example:</p>
<p style="position:absolute;top:955px;left:92px;white-space:nowrap" class="ft838">•</p>
<p style="position:absolute;top:953px;left:105px;white-space:nowrap" class="ft839">&#34;No&#160;'rec'&#160;keyword&#160;is&#160;necessary&#160;for&#160;'let'&#160;to&#160;define&#160;a&#160;recursive&#160;function&#34;</p>
<p style="position:absolute;top:973px;left:92px;white-space:nowrap" class="ft838">•</p>
<p style="position:absolute;top:971px;left:105px;white-space:nowrap" class="ft839">&#34;There&#160;is&#160;no&#160;dot&#160;accessor&#160;notation&#160;for&#160;tuples;&#160;use&#160;pattern&#160;matching&#34;</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft89">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 9 -->
<a name="9"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft941{font-size:13px;line-height:20px;font-family:DQFGLI+Inconsolatazi4;color:#000000;}
-->
</style>
<div id="page9-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out009.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft916">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:635px;white-space:nowrap" class="ft916">288:9</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft920">Finally,&#160;we&#160;positively&#160;characterise&#160;hazel&#160;syntax&#160;via&#160;a&#160;fixed&#160;list&#160;of&#160;input/output&#160;pairs&#160;of&#160;sketches</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft920">and&#160;program&#160;completions&#160;(few-shot&#160;prompting).&#160;We&#160;show&#160;one&#160;example&#160;below:</p>
<p style="position:absolute;top:173px;left:92px;white-space:nowrap" class="ft938">•</p>
<p style="position:absolute;top:173px;left:105px;white-space:nowrap" class="ft923">Sketch</p>
<p style="position:absolute;top:198px;left:111px;white-space:nowrap" class="ft925"><b>let</b></p>
<p style="position:absolute;top:194px;left:143px;white-space:nowrap" class="ft926">List.&#160;length&#160;:&#160;[(&#160;String&#160;,&#160;Bool&#160;)]&#160;-&gt;&#160;Int&#160;=</p>
<p style="position:absolute;top:214px;left:127px;white-space:nowrap" class="ft925"><b>fun</b></p>
<p style="position:absolute;top:210px;left:159px;white-space:nowrap" class="ft926">xs&#160;-&gt;&#160;??&#160;<b>end&#160;in</b></p>
<p style="position:absolute;top:240px;left:92px;white-space:nowrap" class="ft938">•</p>
<p style="position:absolute;top:240px;left:105px;white-space:nowrap" class="ft923">Completion</p>
<p style="position:absolute;top:265px;left:111px;white-space:nowrap" class="ft925"><b>case</b></p>
<p style="position:absolute;top:262px;left:151px;white-space:nowrap" class="ft926">xs</p>
<p style="position:absolute;top:278px;left:110px;white-space:nowrap" class="ft926">|&#160;[]&#160;=&gt;&#160;0</p>
<p style="position:absolute;top:295px;left:110px;white-space:nowrap" class="ft941">|&#160;_::&#160;xs&#160;=&gt;&#160;1&#160;+&#160;List.&#160;length&#160;(xs)<br/><b>end</b></p>
<p style="position:absolute;top:347px;left:84px;white-space:nowrap" class="ft920">For&#160;the&#160;smaller&#160;completion&#160;model&#160;(StarCoder2-15B)&#160;discussed&#160;below,&#160;which&#160;has&#160;a&#160;longer&#160;context</p>
<p style="position:absolute;top:364px;left:68px;white-space:nowrap" class="ft920">window&#160;(16k&#160;versus&#160;8k&#160;for&#160;GPT-4-0613)&#160;but&#160;is&#160;not&#160;instruction-tuned,&#160;we&#160;omit&#160;the&#160;first&#160;two&#160;sections,</p>
<p style="position:absolute;top:382px;left:69px;white-space:nowrap" class="ft927">in&#160;lieu&#160;of&#160;providing&#160;a&#160;longer&#160;list&#160;of&#160;syntax&#160;examples,&#160;which&#160;are&#160;provided&#160;simply&#160;as&#160;a&#160;list&#160;of&#160;definitions<br/>rather&#160;than&#160;input-output&#160;pairs.</p>
<p style="position:absolute;top:434px;left:69px;white-space:nowrap" class="ft919">2.5</p>
<p style="position:absolute;top:434px;left:103px;white-space:nowrap" class="ft919">Type&#160;Retrieval</p>
<p style="position:absolute;top:827px;left:69px;white-space:nowrap" class="ft917">Fig.&#160;6.&#160;A&#160;programmer&#160;requests&#160;a&#160;hole&#160;filling&#160;(A)&#160;by&#160;typing</p>
<p style="position:absolute;top:823px;left:396px;white-space:nowrap" class="ft926">??&#160;,&#160;either&#160;intentionally&#160;or&#160;in&#160;a&#160;fit&#160;of&#160;frustration.</p>
<p style="position:absolute;top:843px;left:68px;white-space:nowrap" class="ft937">The&#160;Hazel&#160;Language&#160;Server&#160;provides&#160;codebase-wide&#160;(B)&#160;semantic&#160;information&#160;relevant&#160;to&#160;the&#160;hole,&#160;collecting<br/>types&#160;based&#160;on&#160;the&#160;expected&#160;type&#160;(C)&#160;and&#160;selecting&#160;type-relevant&#160;headers&#160;from&#160;the&#160;context&#160;(D).&#160;These&#160;are<br/>combined&#160;into&#160;a&#160;contextualized&#160;text&#160;prompt&#160;(E)&#160;which&#160;is&#160;sent&#160;(F)&#160;to&#160;the&#160;LLM&#160;resulting&#160;in&#160;hole&#160;filling&#160;(G).</p>
<p style="position:absolute;top:918px;left:84px;white-space:nowrap" class="ft920">The&#160;base&#160;EmojiPaint&#160;update&#160;function&#160;program&#160;sketch&#160;is&#160;as&#160;follows:</p>
<p style="position:absolute;top:940px;left:74px;white-space:nowrap" class="ft931">(*&#160;Update&#160;the&#160;EmojiPaint&#160;app&#160;model&#160;based&#160;on&#160;an&#160;action&#160;*)<br/><b>let</b></p>
<p style="position:absolute;top:956px;left:106px;white-space:nowrap" class="ft926">update&#160;:&#160;(Model&#160;,&#160;Action&#160;)&#160;-&gt;&#160;Model&#160;=&#160;??&#160;<b>in</b></p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft99">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 10 -->
<a name="10"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page10-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out010.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1016">288:10</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft1016">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft1020">We&#160;augment&#160;this&#160;sketch&#160;with&#160;additional&#160;static&#160;information&#160;obtained&#160;via&#160;the&#160;Hazel&#160;Language</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1027">Server,&#160;serialized&#160;into&#160;text,&#160;displayed&#160;as&#160;a&#160;kind&#160;of&#160;projected&#160;view&#160;of&#160;the&#160;codebase&#160;–&#160;a&#160;static&#160;program<br/>slice&#160;contextualized&#160;to&#160;the&#160;relevant&#160;program&#160;hole.&#160;Specifically,&#160;we&#160;retrieve&#160;the&#160;following&#160;static<br/>information&#160;(diagrammed&#160;in&#160;<a href="out.html#9">Figure&#160;6):</a></p>
<p style="position:absolute;top:207px;left:92px;white-space:nowrap" class="ft1038">•&#160;Type&#160;Retrieval:&#160;The&#160;expected&#160;type&#160;at&#160;the&#160;cursor,&#160;along&#160;with&#160;the&#160;definitions&#160;of&#160;any&#160;types&#160;aliases</p>
<p style="position:absolute;top:225px;left:105px;white-space:nowrap" class="ft1027">occurring&#160;in&#160;that&#160;type,&#160;and&#160;the&#160;definitions&#160;of&#160;aliases&#160;occurring&#160;in&#160;that&#160;definition,&#160;and&#160;so&#160;on<br/>recursively&#160;until&#160;we&#160;arrive&#160;at&#160;base&#160;types.</p>
<p style="position:absolute;top:260px;left:92px;white-space:nowrap" class="ft1038">•&#160;Header&#160;Retrieval:&#160;A&#160;selection&#160;of&#160;values,&#160;annotated&#160;with&#160;their&#160;types,&#160;filtered&#160;from&#160;the&#160;typing</p>
<p style="position:absolute;top:278px;left:105px;white-space:nowrap" class="ft1020">context&#160;based&#160;on&#160;a&#160;type-directed&#160;metric&#160;of&#160;relatedness&#160;to&#160;the&#160;expected&#160;type&#160;described&#160;below.</p>
<p style="position:absolute;top:300px;left:84px;white-space:nowrap" class="ft1020">While&#160;we&#160;use&#160;Hazel&#160;to&#160;illustrate&#160;our&#160;approach,&#160;our&#160;goal&#160;is&#160;to&#160;outline&#160;an&#160;approximate&#160;API&#160;which</p>
<p style="position:absolute;top:318px;left:69px;white-space:nowrap" class="ft1027">could&#160;be&#160;implemented&#160;by&#160;any&#160;language&#160;server&#160;for&#160;a&#160;typed&#160;language&#160;which&#160;could&#160;drive&#160;a&#160;similar<br/>system&#160;in&#160;another&#160;language.&#160;We’ll&#160;define&#160;the&#160;approximate&#160;methods&#160;for&#160;such&#160;an&#160;API&#160;as&#160;we&#160;go,&#160;and<br/>later&#160;collect&#160;them&#160;in&#160;<a href="out.html#22">section&#160;5.</a></p>
<p style="position:absolute;top:381px;left:69px;white-space:nowrap" class="ft1034">2.5.1</p>
<p style="position:absolute;top:381px;left:111px;white-space:nowrap" class="ft1034">Relevant&#160;Type&#160;Definitions.&#160;Given&#160;the&#160;above&#160;program&#160;sketch,&#160;the&#160;expected&#160;type&#160;of&#160;the&#160;hole</p>
<p style="position:absolute;top:396px;left:71px;white-space:nowrap" class="ft1026">??&#160;is&#160;(Model,&#160;Action)&#160;-&gt;&#160;Model.&#160;While&#160;in&#160;this&#160;example,&#160;adding&#160;the&#160;expected&#160;type&#160;to&#160;the&#160;prompt</p>
<p style="position:absolute;top:417px;left:69px;white-space:nowrap" class="ft1027">is&#160;strictly&#160;redundant,&#160;as&#160;it&#160;already&#160;appears&#160;as&#160;the&#160;function’s&#160;type&#160;annotation,&#160;in&#160;general&#160;Hazel’s<br/>bidirectional&#160;type&#160;system&#160;<a href="out.html#29">[51,&#160;</a><a href="out.html#31">87]&#160;</a>allows&#160;a&#160;similar&#160;expected&#160;type&#160;to&#160;be&#160;extracted&#160;in&#160;any&#160;position&#160;for</p>
<p style="position:absolute;top:452px;left:68px;white-space:nowrap" class="ft1020">which&#160;there&#160;exists&#160;type&#160;constraints,&#160;such&#160;as&#160;in&#160;function&#160;argument&#160;position,&#160;or&#160;in&#160;a&#160;module&#160;signature</p>
<p style="position:absolute;top:470px;left:69px;white-space:nowrap" class="ft1020">including</p>
<p style="position:absolute;top:468px;left:130px;white-space:nowrap" class="ft1026">update.</p>
<p style="position:absolute;top:488px;left:84px;white-space:nowrap" class="ft1020">Absent&#160;this&#160;sort&#160;of&#160;context,&#160;this&#160;type&#160;is&#160;elucidatory&#160;on&#160;its&#160;own.&#160;Based&#160;on&#160;the&#160;provided&#160;comment,</p>
<p style="position:absolute;top:506px;left:69px;white-space:nowrap" class="ft1027">a&#160;language&#160;model&#160;might&#160;and&#160;likely&#160;will&#160;‘guess’&#160;that&#160;these&#160;refer&#160;to&#160;the&#160;state&#160;and&#160;state&#160;changes&#160;of&#160;an<br/>Model-View-Update&#160;application.&#160;But&#160;as&#160;we&#160;shall&#160;see,&#160;it&#160;is&#160;unlikely&#160;to&#160;guess&#160;the&#160;precise&#160;structures&#160;of<br/>the&#160;types&#160;the&#160;programmer&#160;has&#160;actually&#160;used.&#160;An&#160;example&#160;demonstrating&#160;the&#160;common&#160;case&#160;is&#160;show<br/>in&#160;<a href="out.html#10">Figure&#160;7:</a></p>
<p style="position:absolute;top:751px;left:69px;white-space:nowrap" class="ft1037">Fig.&#160;7.&#160;A&#160;typical&#160;completion&#160;with&#160;no&#160;static&#160;retrieval.&#160;Here,&#160;the&#160;language&#160;model&#160;hallucinates&#160;plausible&#160;but<br/>incorrect&#160;constructors&#160;for&#160;the&#160;Action&#160;type,&#160;and&#160;hallucinates&#160;Model&#160;as&#160;a&#160;record&#160;type&#160;using&#160;syntax&#160;not&#160;supported<br/>in&#160;Hazel.</p>
<p style="position:absolute;top:821px;left:84px;white-space:nowrap" class="ft1020">Hence&#160;we&#160;do&#160;automatically&#160;what&#160;a&#160;programmer&#160;in&#160;an&#160;unfamiliar&#160;codebase&#160;might&#160;do&#160;manually:</p>
<p style="position:absolute;top:838px;left:69px;white-space:nowrap" class="ft1027">recursively&#160;pursue&#160;type&#160;definitions&#160;to&#160;unwind&#160;the&#160;local&#160;semantic&#160;context&#160;hinted&#160;at&#160;by&#160;the&#160;type<br/>expectation.&#160;Providing&#160;this&#160;list&#160;to&#160;a&#160;language&#160;model&#160;is&#160;analogous&#160;to&#160;a&#160;human&#160;using&#160;the&#160;IDE&#160;to&#160;hover<br/>over&#160;types&#160;and&#160;jump&#160;iteratively&#160;to&#160;their&#160;definitions.&#160;First,&#160;we&#160;extract&#160;relevant&#160;type&#160;aliases:</p>
<p style="position:absolute;top:896px;left:92px;white-space:nowrap" class="ft1038">•</p>
<p style="position:absolute;top:893px;left:105px;white-space:nowrap" class="ft1035">Model</p>
<p style="position:absolute;top:913px;left:92px;white-space:nowrap" class="ft1038">•</p>
<p style="position:absolute;top:911px;left:105px;white-space:nowrap" class="ft1035">Action</p>
<p style="position:absolute;top:935px;left:84px;white-space:nowrap" class="ft1020">Then,&#160;we&#160;retrieve&#160;their&#160;definitions:</p>
<p style="position:absolute;top:956px;left:92px;white-space:nowrap" class="ft1038">•&#160;<b>type</b></p>
<p style="position:absolute;top:954px;left:136px;white-space:nowrap" class="ft1036">Model&#160;=&#160;(Grid,&#160;Emoji,&#160;[Emoji])</p>
<p style="position:absolute;top:974px;left:92px;white-space:nowrap" class="ft1038">•&#160;<b>type</b></p>
<p style="position:absolute;top:972px;left:136px;white-space:nowrap" class="ft1036">Action&#160;=&#160;SelectEmoji(Emoji)&#160;+&#160;StampEmoji(Row,&#160;Col)&#160;+&#160;...</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft109">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 11 -->
<a name="11"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1142{font-size:15px;font-family:QIZVEJ+LibertineMathMI;color:#000000;}
-->
</style>
<div id="page11-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out011.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1116">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft1116">288:11</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft1120">And&#160;finally,&#160;we&#160;transitively&#160;complete&#160;this&#160;process,&#160;retrieving&#160;any&#160;additional&#160;aliases&#160;which&#160;occur</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1120">in&#160;those&#160;definitions:&#160;the&#160;aliases</p>
<p style="position:absolute;top:147px;left:263px;white-space:nowrap" class="ft1135">Grid&#160;and&#160;Emoji&#160;from&#160;the&#160;Model&#160;definition&#160;and&#160;the&#160;aliases&#160;Row,&#160;and</p>
<p style="position:absolute;top:165px;left:69px;white-space:nowrap" class="ft1135">Col&#160;from&#160;the&#160;Action&#160;definition:</p>
<p style="position:absolute;top:189px;left:92px;white-space:nowrap" class="ft1138">•&#160;<b>type</b></p>
<p style="position:absolute;top:187px;left:136px;white-space:nowrap" class="ft1136">Emoji&#160;=&#160;String</p>
<p style="position:absolute;top:207px;left:92px;white-space:nowrap" class="ft1138">•&#160;<b>type</b></p>
<p style="position:absolute;top:205px;left:136px;white-space:nowrap" class="ft1136">Row&#160;=&#160;Int</p>
<p style="position:absolute;top:225px;left:92px;white-space:nowrap" class="ft1138">•&#160;<b>type</b></p>
<p style="position:absolute;top:223px;left:136px;white-space:nowrap" class="ft1136">Col&#160;=&#160;Int</p>
<p style="position:absolute;top:243px;left:92px;white-space:nowrap" class="ft1138">•&#160;<b>type</b></p>
<p style="position:absolute;top:240px;left:136px;white-space:nowrap" class="ft1136">Grid&#160;=&#160;[[Emoji]]</p>
<p style="position:absolute;top:264px;left:84px;white-space:nowrap" class="ft1120">Note&#160;that&#160;even&#160;though&#160;these&#160;type&#160;definitions&#160;are,&#160;from&#160;the&#160;point&#160;of&#160;view&#160;of&#160;the&#160;Language&#160;Server,</p>
<p style="position:absolute;top:282px;left:69px;white-space:nowrap" class="ft1127">abstract&#160;entries&#160;in&#160;the&#160;typing&#160;context,&#160;we&#160;are&#160;specifically&#160;electing&#160;to&#160;reproduce&#160;them&#160;in&#160;format<br/>resembling&#160;their&#160;original&#160;lexical&#160;concrete&#160;syntax.&#160;We&#160;have&#160;noticed&#160;that&#160;attempting&#160;this&#160;kind&#160;of<br/>naturalistic&#160;reproduction&#160;increases&#160;that&#160;chance&#160;that&#160;language&#160;model&#160;generations&#160;stay&#160;on-task,<br/>generating&#160;code&#160;in&#160;the&#160;relevant&#160;concrete&#160;syntax&#160;without&#160;reverting&#160;to&#160;prose&#160;or&#160;ill-formed&#160;syntax.</p>
<p style="position:absolute;top:354px;left:84px;white-space:nowrap" class="ft1120">To&#160;support&#160;the&#160;above&#160;method,&#160;a&#160;language&#160;server&#160;could&#160;implement&#160;the&#160;following&#160;methods,&#160;which</p>
<p style="position:absolute;top:372px;left:69px;white-space:nowrap" class="ft1120">may&#160;be&#160;implementable&#160;as&#160;thin&#160;glosses&#160;on&#160;top&#160;of&#160;existing&#160;methods&#160;such&#160;as&#160;’Go&#160;to&#160;type&#160;definition’:</p>
<p style="position:absolute;top:401px;left:92px;white-space:nowrap" class="ft1138">•</p>
<p style="position:absolute;top:399px;left:105px;white-space:nowrap" class="ft1126">getExpectedType:&#160;(Program,&#160;LexicalLocation)&#160;-&gt;&#160;Type</p>
<p style="position:absolute;top:419px;left:92px;white-space:nowrap" class="ft1138">•</p>
<p style="position:absolute;top:417px;left:105px;white-space:nowrap" class="ft1126">extractAliases:&#160;Type&#160;-&gt;&#160;[Type]</p>
<p style="position:absolute;top:437px;left:92px;white-space:nowrap" class="ft1138">•</p>
<p style="position:absolute;top:435px;left:105px;white-space:nowrap" class="ft1126">getTypeDefinition:&#160;TypeAlias&#160;-&gt;&#160;Type</p>
<p style="position:absolute;top:466px;left:68px;white-space:nowrap" class="ft1120">To&#160;briefly&#160;contrast&#160;this&#160;process&#160;to&#160;embedding-vector-based&#160;retrieval&#160;augmented&#160;generation:</p>
<p style="position:absolute;top:488px;left:92px;white-space:nowrap" class="ft1138">•&#160;While&#160;vector&#160;retrieval&#160;might&#160;flag&#160;these&#160;definitions&#160;as&#160;possibly&#160;relevant,&#160;note&#160;that&#160;they&#160;are</p>
<p style="position:absolute;top:506px;left:105px;white-space:nowrap" class="ft1127">necessarily&#160;relevant.&#160;Our&#160;knowledge&#160;of&#160;the&#160;language&#160;semantics&#160;means&#160;we&#160;know&#160;that&#160;any<br/>completion&#160;must&#160;respect&#160;these&#160;types,&#160;an&#160;assurance&#160;which&#160;allows&#160;us&#160;to&#160;offload&#160;burden&#160;from<br/>the&#160;more&#160;expensive&#160;and&#160;imprecise&#160;associative&#160;lookup.</p>
<p style="position:absolute;top:559px;left:92px;white-space:nowrap" class="ft1138">•&#160;This&#160;necessary&#160;relevance&#160;also&#160;increases&#160;the&#160;chance&#160;that&#160;subsequent&#160;recursive&#160;retrievals&#160;will</p>
<p style="position:absolute;top:577px;left:105px;white-space:nowrap" class="ft1127">be&#160;relevant,&#160;addressing&#160;the&#160;issue&#160;of&#160;reliable&#160;multi-hop&#160;lookups&#160;noted&#160;by&#160;industry&#160;implementers<br/><a href="out.html#26">[6]</a></p>
<p style="position:absolute;top:613px;left:92px;white-space:nowrap" class="ft1138">•&#160;Static&#160;retrieval&#160;necessarily&#160;respects&#160;scope.&#160;Vector&#160;retrieval&#160;may&#160;return&#160;related-seeming&#160;defi-</p>
<p style="position:absolute;top:631px;left:105px;white-space:nowrap" class="ft1127">nitions,&#160;but&#160;without&#160;exact&#160;knowledge&#160;of&#160;the&#160;language&#160;semantics,&#160;there&#160;is&#160;no&#160;guarantee&#160;that<br/>these&#160;will&#160;be&#160;the&#160;definitions&#160;relevant&#160;to&#160;this&#160;lexical&#160;context.</p>
<p style="position:absolute;top:681px;left:69px;white-space:nowrap" class="ft1119">2.6</p>
<p style="position:absolute;top:681px;left:103px;white-space:nowrap" class="ft1119">Relevant&#160;Headers&#160;from&#160;the&#160;Typing&#160;Context</p>
<p style="position:absolute;top:703px;left:69px;white-space:nowrap" class="ft1127">In&#160;addition&#160;to&#160;relevant&#160;type&#160;definitions,&#160;we&#160;augment&#160;the&#160;prompt&#160;with&#160;the&#160;names&#160;and&#160;types&#160;(which<br/>together&#160;we&#160;term&#160;the&#160;headers)&#160;of&#160;relevant&#160;values&#160;–&#160;typically&#160;functions&#160;–&#160;from&#160;the&#160;typing&#160;context.<br/>From&#160;a&#160;user&#160;interface&#160;perspective,&#160;this&#160;is&#160;analogous&#160;to&#160;a&#160;type-directed&#160;autocomplete&#160;menu.</p>
<p style="position:absolute;top:757px;left:84px;white-space:nowrap" class="ft1120">Our&#160;extraction&#160;method&#160;divides&#160;into&#160;three&#160;stages:</p>
<p style="position:absolute;top:779px;left:84px;white-space:nowrap" class="ft1127">(1)&#160;Use&#160;the&#160;expected&#160;type&#160;to&#160;identify&#160;a&#160;list&#160;of&#160;target&#160;types<br/>(2)&#160;Filter&#160;the&#160;typing&#160;context&#160;for&#160;values&#160;with&#160;types&#160;related&#160;in&#160;a&#160;certain&#160;way&#160;to&#160;these&#160;target&#160;types<br/>(3)&#160;Assign&#160;scores&#160;to&#160;each&#160;element&#160;of&#160;the&#160;resulting&#160;list,&#160;and&#160;return&#160;the&#160;prefix&#160;of&#160;that&#160;list&#160;truncated</p>
<p style="position:absolute;top:833px;left:105px;white-space:nowrap" class="ft1120">at&#160;some&#160;scoring&#160;and&#160;length&#160;thresholds&#160;(here,&#160;score&#160;&gt;&#160;0.0&#160;and&#160;10&#160;items&#160;respectively)</p>
<p style="position:absolute;top:854px;left:84px;white-space:nowrap" class="ft1120">The&#160;resulting&#160;context&#160;entries&#160;are&#160;formatted&#160;as&#160;code&#160;sketches,&#160;again&#160;to&#160;facilitate&#160;language&#160;model</p>
<p style="position:absolute;top:872px;left:69px;white-space:nowrap" class="ft1120">ingestion.&#160;For&#160;example&#160;the&#160;pair&#160;(</p>
<p style="position:absolute;top:870px;left:267px;white-space:nowrap" class="ft1126">string_of_int,&#160;Int&#160;-&gt;&#160;String)&#160;is&#160;formatted&#160;as:</p>
<p style="position:absolute;top:904px;left:106px;white-space:nowrap" class="ft1125"><b>let</b></p>
<p style="position:absolute;top:901px;left:139px;white-space:nowrap" class="ft1126">string_of_int&#160;:&#160;Int&#160;-&gt;&#160;String&#160;=</p>
<p style="position:absolute;top:904px;left:405px;white-space:nowrap" class="ft1125"><b>in</b></p>
<p style="position:absolute;top:938px;left:84px;white-space:nowrap" class="ft1120">Here,&#160;the&#160;body&#160;of&#160;the&#160;definition&#160;is&#160;simply&#160;omitted.&#160;Interestingly,&#160;we&#160;originally&#160;used&#160;ellipsis&#160;(...)</p>
<p style="position:absolute;top:956px;left:69px;white-space:nowrap" class="ft1127">in&#160;place&#160;of&#160;the&#160;body,&#160;but&#160;this&#160;resulted&#160;in&#160;an&#160;increased&#160;chance&#160;the&#160;model&#160;(especially&#160;the&#160;smaller<br/>StarCoder2&#160;model)&#160;would&#160;itself&#160;emit&#160;the&#160;token&#160;...&#160;in&#160;lieu&#160;of&#160;a&#160;full&#160;completion.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft119">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 12 -->
<a name="12"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page12-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out012.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1216">288:12</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft1216">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:132px;left:69px;white-space:nowrap" class="ft1234">2.6.1</p>
<p style="position:absolute;top:132px;left:110px;white-space:nowrap" class="ft1234">Identification&#160;of&#160;Target&#160;Types.&#160;First,&#160;we&#160;deconstructing&#160;the&#160;expected&#160;type&#160;to&#160;identify&#160;relevant</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1227">sub-components&#160;which&#160;could&#160;be&#160;used,&#160;in&#160;conjunction&#160;with&#160;their&#160;relevant&#160;elimination&#160;forms,&#160;to<br/>construct&#160;the&#160;target.&#160;Our&#160;initial&#160;target&#160;type&#160;is&#160;simply&#160;the&#160;type&#160;of&#160;the&#160;hole&#160;itself:</p>
<p style="position:absolute;top:194px;left:84px;white-space:nowrap" class="ft1223">Target&#160;types&#160;=</p>
<p style="position:absolute;top:192px;left:183px;white-space:nowrap" class="ft1235">(Model,&#160;Action)&#160;-&gt;&#160;Model</p>
<p style="position:absolute;top:221px;left:84px;white-space:nowrap" class="ft1220">Then,&#160;if&#160;that&#160;type&#160;is&#160;a&#160;compound&#160;type,&#160;we&#160;consider&#160;its&#160;components.&#160;In&#160;particular,&#160;if&#160;the&#160;type&#160;is&#160;a</p>
<p style="position:absolute;top:239px;left:69px;white-space:nowrap" class="ft1227">product&#160;type,&#160;we&#160;consider&#160;its&#160;components&#160;to&#160;be&#160;targets,&#160;and&#160;if&#160;the&#160;type&#160;is&#160;an&#160;arrow&#160;type&#160;(as&#160;it&#160;is<br/>here),&#160;we&#160;consider&#160;its&#160;return&#160;type&#160;to&#160;be&#160;a&#160;target.</p>
<p style="position:absolute;top:284px;left:84px;white-space:nowrap" class="ft1223">Target&#160;types&#160;=</p>
<p style="position:absolute;top:282px;left:183px;white-space:nowrap" class="ft1235">(Model,&#160;Action)&#160;-&gt;&#160;Model,&#160;Model,&#160;...</p>
<p style="position:absolute;top:311px;left:84px;white-space:nowrap" class="ft1220">In&#160;principle,&#160;we&#160;could&#160;continue&#160;this&#160;deconstruction&#160;recursively&#160;indefinitely,&#160;but&#160;for&#160;our&#160;immediate</p>
<p style="position:absolute;top:329px;left:69px;white-space:nowrap" class="ft1227">purpose&#160;of&#160;identifying&#160;likely-relevant&#160;types,&#160;we’ve&#160;found&#160;it&#160;suffices&#160;to&#160;extend&#160;one&#160;more&#160;iteration;<br/>that&#160;is,&#160;product/arrow&#160;types&#160;containing&#160;product/arrow&#160;types.&#160;It&#160;simplifies&#160;our&#160;calculations&#160;to<br/>internally&#160;normalize&#160;all&#160;type&#160;definitions&#160;(Hazel&#160;is&#160;structurally&#160;typed).&#160;Here,&#160;we&#160;will&#160;only&#160;do&#160;so<br/>opportunistically&#160;for&#160;clarity&#160;of&#160;presentation:</p>
<p style="position:absolute;top:409px;left:84px;white-space:nowrap" class="ft1223">Type&#160;of&#160;hole&#160;=</p>
<p style="position:absolute;top:407px;left:184px;white-space:nowrap" class="ft1235">((String,&#160;(Grid,&#160;Emoji,&#160;[Emoji])),&#160;Action)&#160;-&gt;&#160;(Grid,&#160;Emoji,&#160;[Emoji])</p>
<p style="position:absolute;top:427px;left:84px;white-space:nowrap" class="ft1223">Target&#160;types&#160;=</p>
<p style="position:absolute;top:425px;left:183px;white-space:nowrap" class="ft1235">(Model,&#160;Action)&#160;-&gt;&#160;Model,&#160;Model,&#160;Grid,&#160;Emoji,&#160;[Emoji]</p>
<p style="position:absolute;top:454px;left:84px;white-space:nowrap" class="ft1220">One&#160;can&#160;likely&#160;see&#160;other&#160;ways&#160;of&#160;extending&#160;target&#160;type&#160;extraction.&#160;Possibilities&#160;included&#160;destruc-</p>
<p style="position:absolute;top:472px;left:69px;white-space:nowrap" class="ft1227">turing&#160;more&#160;compound&#160;types&#160;such&#160;as&#160;records,&#160;or&#160;for&#160;function&#160;types,&#160;also&#160;considering&#160;the&#160;input<br/>types&#160;as&#160;a&#160;kind&#160;of&#160;negative&#160;target,&#160;in&#160;that&#160;we&#160;may&#160;want&#160;to&#160;prioritize&#160;types&#160;that&#160;consume&#160;a&#160;relevant<br/>type&#160;from&#160;the&#160;local&#160;context.&#160;For&#160;now&#160;we&#160;proceed&#160;with&#160;the&#160;simple&#160;approach&#160;outlined.</p>
<p style="position:absolute;top:526px;left:84px;white-space:nowrap" class="ft1220">We&#160;do&#160;not,&#160;however,&#160;return&#160;unaliased&#160;base&#160;types&#160;such&#160;as</p>
<p style="position:absolute;top:524px;left:438px;white-space:nowrap" class="ft1235">Bool&#160;or&#160;String&#160;as&#160;target&#160;types.&#160;Early</p>
<p style="position:absolute;top:544px;left:69px;white-space:nowrap" class="ft1227">experimentation&#160;indicated&#160;that,&#160;given&#160;that&#160;there&#160;are&#160;typically&#160;many&#160;standard&#160;library&#160;functions&#160;on<br/>base&#160;types,&#160;often&#160;with&#160;no&#160;a&#160;priori&#160;way&#160;to&#160;distinguish&#160;their&#160;relevance&#160;based&#160;on&#160;types,&#160;such&#160;functions</p>
<p style="position:absolute;top:580px;left:68px;white-space:nowrap" class="ft1220">would&#160;often&#160;act&#160;as&#160;confounders,&#160;since&#160;which&#160;happened&#160;to&#160;be&#160;included&#160;was&#160;incidental.&#160;In&#160;practice,&#160;a</p>
<p style="position:absolute;top:598px;left:69px;white-space:nowrap" class="ft1227">standard&#160;library&#160;would&#160;already&#160;be&#160;well-understood&#160;by&#160;an&#160;LLM&#160;from&#160;the&#160;pre-training&#160;or&#160;fine-tuning<br/>step.&#160;For&#160;Hazel,&#160;we&#160;replicate&#160;much&#160;of&#160;the&#160;OCaml&#160;standard&#160;library&#160;to&#160;sidestep&#160;this&#160;need.</p>
<p style="position:absolute;top:649px;left:69px;white-space:nowrap" class="ft1234">2.6.2</p>
<p style="position:absolute;top:649px;left:111px;white-space:nowrap" class="ft1234">Filtering&#160;the&#160;Context.&#160;For&#160;each&#160;target&#160;type,&#160;we&#160;filter&#160;the&#160;typing&#160;context&#160;to&#160;retrieve&#160;types</p>
<p style="position:absolute;top:667px;left:68px;white-space:nowrap" class="ft1220">which&#160;can&#160;be&#160;used,&#160;again&#160;in&#160;conjunction&#160;with&#160;appropriate&#160;elimination&#160;forms,&#160;to&#160;produce&#160;the&#160;target.</p>
<p style="position:absolute;top:685px;left:84px;white-space:nowrap" class="ft1220">This&#160;is&#160;essentially&#160;similar&#160;to&#160;target&#160;type&#160;extraction.&#160;In&#160;particular,&#160;we&#160;return&#160;types&#160;which&#160;are</p>
<p style="position:absolute;top:703px;left:69px;white-space:nowrap" class="ft1227">consistent&#160;with&#160;the&#160;target,&#160;arrow&#160;types&#160;whose&#160;return&#160;type&#160;is&#160;consistent&#160;with&#160;the&#160;target,&#160;and&#160;product<br/>types&#160;whose&#160;have&#160;a&#160;component&#160;consistent&#160;with&#160;the&#160;target.&#160;For&#160;example:</p>
<p style="position:absolute;top:747px;left:84px;white-space:nowrap" class="ft1223">Target&#160;type</p>
<p style="position:absolute;top:745px;left:164px;white-space:nowrap" class="ft1235">Grid&#160;yields</p>
<p style="position:absolute;top:775px;left:92px;white-space:nowrap" class="ft1238">•</p>
<p style="position:absolute;top:773px;left:105px;white-space:nowrap" class="ft1226">updateGrid:&#160;(Grid,&#160;Row,&#160;Col,&#160;Emoji)&#160;-&gt;&#160;Grid</p>
<p style="position:absolute;top:793px;left:92px;white-space:nowrap" class="ft1238">•</p>
<p style="position:absolute;top:791px;left:105px;white-space:nowrap" class="ft1226">clearGrid:&#160;Grid&#160;-&gt;&#160;Grid</p>
<p style="position:absolute;top:811px;left:92px;white-space:nowrap" class="ft1238">•</p>
<p style="position:absolute;top:809px;left:105px;white-space:nowrap" class="ft1226">fillRowInGrid:&#160;(Grid,&#160;Row,&#160;Emoji)&#160;-&gt;&#160;Grid</p>
<p style="position:absolute;top:864px;left:69px;white-space:nowrap" class="ft1234">2.6.3</p>
<p style="position:absolute;top:864px;left:110px;white-space:nowrap" class="ft1234">Sorting&#160;and&#160;scoring&#160;the&#160;filtered&#160;context.&#160;Prior&#160;work&#160;<a href="out.html#27">[12]&#160;</a>has&#160;surveyed&#160;various&#160;ways&#160;in&#160;which</p>
<p style="position:absolute;top:881px;left:69px;white-space:nowrap" class="ft1227">semantic&#160;information&#160;can&#160;be&#160;used&#160;to&#160;sort&#160;typing-context-originating&#160;suggestions&#160;for&#160;relevance.&#160;For<br/>our&#160;purposes&#160;here&#160;we&#160;use&#160;a&#160;simple&#160;scheme&#160;intended&#160;as&#160;a&#160;proof-of-concept&#160;to&#160;establish&#160;a&#160;baseline<br/>for&#160;more&#160;sophisticated&#160;methods.</p>
<p style="position:absolute;top:935px;left:84px;white-space:nowrap" class="ft1220">By&#160;default,&#160;Hazel&#160;context&#160;entries&#160;are&#160;sorted&#160;by&#160;locality&#160;of&#160;definition,&#160;which&#160;provides&#160;a&#160;reasonable</p>
<p style="position:absolute;top:953px;left:69px;white-space:nowrap" class="ft1227">default&#160;for&#160;relevance.&#160;Thus&#160;we&#160;sort&#160;stably&#160;with&#160;respect&#160;to&#160;the&#160;locality&#160;ordering&#160;for&#160;context&#160;entries<br/>having&#160;the&#160;same&#160;score.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft129">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 13 -->
<a name="13"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1343{font-size:13px;line-height:20px;font-family:DQFGLI+Inconsolatazi4;color:#8d8600;}
-->
</style>
<div id="page13-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out013.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1316">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft1316">288:13</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft1320">By&#160;default,&#160;all&#160;entries&#160;are&#160;assigned&#160;a&#160;score&#160;of&#160;1.0.&#160;However,&#160;if&#160;a&#160;type&#160;contains&#160;the&#160;(gradual)</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1320">unknown&#160;type&#160;(</p>
<p style="position:absolute;top:147px;left:163px;white-space:nowrap" class="ft1335">?),&#160;a&#160;multiplier&#160;is&#160;applied&#160;based&#160;on&#160;the&#160;ratio&#160;of&#160;unknown&#160;to&#160;known&#160;type&#160;constructors</p>
<p style="position:absolute;top:167px;left:69px;white-space:nowrap" class="ft1320">in&#160;the&#160;type&#160;(for&#160;example,&#160;the&#160;type</p>
<p style="position:absolute;top:165px;left:275px;white-space:nowrap" class="ft1335">[?]&#160;–&#160;a&#160;list&#160;of&#160;unknown&#160;type&#160;–&#160;would&#160;receive&#160;a&#160;multiplier&#160;of&#160;0.5,</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft1327">since&#160;the&#160;list&#160;constructor&#160;is&#160;known).&#160;This&#160;acts&#160;simply&#160;to&#160;de-prioritize&#160;incomplete&#160;implementations,<br/>about&#160;which&#160;not&#160;enough&#160;information&#160;is&#160;available&#160;to&#160;make&#160;it&#160;a&#160;good&#160;suggestion.</p>
<p style="position:absolute;top:221px;left:84px;white-space:nowrap" class="ft1320">Here&#160;are&#160;the&#160;relevant&#160;headers&#160;from&#160;the&#160;EmojiPainter&#160;example:</p>
<p style="position:absolute;top:253px;left:74px;white-space:nowrap" class="ft1343">&#34;&#160;Consider&#160;using&#160;these&#160;variables&#160;relevant&#160;to&#160;the&#160;expected&#160;type&#160;:&#34;<br/><b>let</b></p>
<p style="position:absolute;top:269px;left:106px;white-space:nowrap" class="ft1326">model_init&#160;:&#160;Model&#160;=</p>
<p style="position:absolute;top:273px;left:276px;white-space:nowrap" class="ft1325"><b>in</b></p>
<p style="position:absolute;top:290px;left:74px;white-space:nowrap" class="ft1325"><b>let</b></p>
<p style="position:absolute;top:286px;left:107px;white-space:nowrap" class="ft1326">fillRowInGrid&#160;:&#160;((&#160;Grid&#160;,&#160;Row&#160;,&#160;Emoji&#160;)&#160;-&gt;&#160;Grid&#160;)&#160;=</p>
<p style="position:absolute;top:290px;left:485px;white-space:nowrap" class="ft1325"><b>in</b></p>
<p style="position:absolute;top:306px;left:74px;white-space:nowrap" class="ft1325"><b>let</b></p>
<p style="position:absolute;top:302px;left:106px;white-space:nowrap" class="ft1326">clearGrid&#160;:&#160;(Grid&#160;-&gt;&#160;Grid)&#160;=</p>
<p style="position:absolute;top:306px;left:340px;white-space:nowrap" class="ft1325"><b>in</b></p>
<p style="position:absolute;top:322px;left:74px;white-space:nowrap" class="ft1325"><b>let</b></p>
<p style="position:absolute;top:319px;left:106px;white-space:nowrap" class="ft1326">updateGrid&#160;:&#160;((&#160;Grid&#160;,&#160;Row&#160;,&#160;Col&#160;,&#160;Emoji&#160;)&#160;-&gt;&#160;Grid)&#160;=</p>
<p style="position:absolute;top:322px;left:502px;white-space:nowrap" class="ft1325"><b>in</b></p>
<p style="position:absolute;top:359px;left:84px;white-space:nowrap" class="ft1320">In&#160;order&#160;to&#160;implement&#160;relevant&#160;header&#160;extraction&#160;in&#160;an&#160;arbitrarily&#160;language&#160;server,&#160;one&#160;could</p>
<p style="position:absolute;top:377px;left:69px;white-space:nowrap" class="ft1320">provide&#160;the&#160;following&#160;methods:</p>
<p style="position:absolute;top:411px;left:92px;white-space:nowrap" class="ft1338">•</p>
<p style="position:absolute;top:409px;left:105px;white-space:nowrap" class="ft1326">getTargetTypes:&#160;Type&#160;-&gt;&#160;[Type]</p>
<p style="position:absolute;top:429px;left:92px;white-space:nowrap" class="ft1338">•</p>
<p style="position:absolute;top:427px;left:105px;white-space:nowrap" class="ft1326">filterContext:&#160;Context,&#160;Type&#160;-&gt;&#160;[(Name,&#160;Type)]</p>
<p style="position:absolute;top:447px;left:92px;white-space:nowrap" class="ft1338">•</p>
<p style="position:absolute;top:445px;left:105px;white-space:nowrap" class="ft1326">scoreEntry:&#160;(Name,&#160;Type)&#160;-&gt;&#160;Float</p>
<p style="position:absolute;top:482px;left:69px;white-space:nowrap" class="ft1319">2.7</p>
<p style="position:absolute;top:482px;left:103px;white-space:nowrap" class="ft1319">Syntactic&#160;and&#160;Semantic&#160;Error&#160;Correction</p>
<p style="position:absolute;top:504px;left:68px;white-space:nowrap" class="ft1320">The&#160;use&#160;of&#160;instruction-tuned&#160;language&#160;models&#160;makes&#160;available&#160;a&#160;lightweight&#160;form&#160;of&#160;program</p>
<p style="position:absolute;top:522px;left:69px;white-space:nowrap" class="ft1327">repair&#160;based&#160;on&#160;an&#160;iterative&#160;loop&#160;of&#160;generating&#160;completions&#160;and&#160;retrieving&#160;error&#160;messages&#160;from<br/>compilers&#160;or&#160;static&#160;analyzers.&#160;The&#160;general&#160;technique&#160;of&#160;looping&#160;LLM&#160;code&#160;generation&#160;on&#160;compiler<br/>errors&#160;appears&#160;to&#160;have&#160;emerged&#160;in&#160;tandem&#160;with&#160;early&#160;LLM&#160;code&#160;generation&#160;experiments&#160;<a href="out.html#29">[59]&#160;</a><a href="out.html#31">[84]<br/></a>and&#160;has&#160;been&#160;examined&#160;in&#160;greater&#160;detail&#160;by&#160;Joshi&#160;et&#160;al.&#160;<a href="out.html#28">[33].</a></p>
<p style="position:absolute;top:594px;left:84px;white-space:nowrap" class="ft1320">After&#160;receiving&#160;a&#160;response&#160;from&#160;the&#160;model,&#160;we&#160;substitute&#160;the&#160;received&#160;completion&#160;into&#160;the</p>
<p style="position:absolute;top:612px;left:69px;white-space:nowrap" class="ft1327">original&#160;program&#160;sketch.&#160;We&#160;then&#160;query&#160;the&#160;Hazel&#160;Language&#160;Server&#160;to&#160;parse&#160;the&#160;resulting&#160;program.<br/>Hazel&#160;parsing&#160;is&#160;strongly&#160;incremental,&#160;enabling&#160;the&#160;(partial)&#160;type-checking&#160;of&#160;programs&#160;even&#160;in&#160;the<br/>presence&#160;of&#160;unrecognized&#160;or&#160;missing&#160;delimiters.&#160;We&#160;then&#160;query&#160;the&#160;language&#160;server&#160;for&#160;a&#160;list&#160;of<br/>static&#160;errors,&#160;which&#160;include&#160;syntax&#160;and&#160;type&#160;errors.&#160;If&#160;there&#160;are&#160;any&#160;such&#160;errors,&#160;we&#160;serialize&#160;them<br/>to&#160;a&#160;string,&#160;and&#160;send&#160;them&#160;to&#160;the&#160;language&#160;model.</p>
<p style="position:absolute;top:702px;left:84px;white-space:nowrap" class="ft1320">In&#160;order&#160;to&#160;maintain&#160;model&#160;context,&#160;we&#160;append&#160;the&#160;errors&#160;to&#160;a&#160;growing&#160;log&#160;of&#160;messages&#160;beginning</p>
<p style="position:absolute;top:720px;left:68px;white-space:nowrap" class="ft1320">with&#160;the&#160;original&#160;prompt.&#160;The&#160;number&#160;of&#160;correction&#160;rounds&#160;which&#160;can&#160;be&#160;performed&#160;in&#160;this&#160;way</p>
<p style="position:absolute;top:738px;left:69px;white-space:nowrap" class="ft1327">is&#160;thus&#160;limited&#160;by&#160;the&#160;length&#160;of&#160;the&#160;context&#160;window;&#160;in&#160;our&#160;case,&#160;using&#160;the&#160;8k&#160;token&#160;window&#160;of<br/>GPT4-0613,&#160;we&#160;are&#160;effectively&#160;capped&#160;at&#160;5&#160;rounds.&#160;However,&#160;we&#160;have&#160;noticed&#160;that&#160;2&#160;rounds&#160;are<br/>often&#160;sufficient&#160;to&#160;eliminate&#160;static&#160;errors,&#160;and&#160;that&#160;rounds&#160;in&#160;excess&#160;of&#160;2&#160;tend&#160;to&#160;show&#160;diminishing<br/>returns,&#160;so&#160;we&#160;have&#160;capped&#160;the&#160;maximum&#160;number&#160;of&#160;rounds&#160;at&#160;2.</p>
<p style="position:absolute;top:809px;left:84px;white-space:nowrap" class="ft1320">To&#160;support&#160;this&#160;in&#160;another&#160;language,&#160;its&#160;language&#160;server&#160;must&#160;be&#160;able&#160;to&#160;localize&#160;static&#160;errors,</p>
<p style="position:absolute;top:827px;left:69px;white-space:nowrap" class="ft1327">reporting&#160;locations&#160;and&#160;error&#160;messages.&#160;Ideally,&#160;it&#160;would&#160;produce&#160;a&#160;list&#160;of&#160;errors,&#160;rather&#160;than&#160;just<br/>the&#160;first&#160;error&#160;encountered,&#160;as&#160;is&#160;supported&#160;by&#160;Hazel’s&#160;total&#160;type&#160;error&#160;localization&#160;and&#160;recovery<br/>system&#160;<a href="out.html#31">[87].&#160;</a>This&#160;could&#160;be&#160;achieved&#160;by&#160;implementing&#160;the&#160;following&#160;method:</p>
<p style="position:absolute;top:897px;left:92px;white-space:nowrap" class="ft1338">•</p>
<p style="position:absolute;top:895px;left:105px;white-space:nowrap" class="ft1326">getStaticErrors:&#160;Program&#160;-&gt;&#160;[StaticError]</p>
<p style="position:absolute;top:932px;left:69px;white-space:nowrap" class="ft1319">2.8</p>
<p style="position:absolute;top:932px;left:103px;white-space:nowrap" class="ft1319">Experimental&#160;Evaluation</p>
<p style="position:absolute;top:955px;left:68px;white-space:nowrap" class="ft1320">We&#160;now&#160;evaluate&#160;the&#160;effectiveness&#160;of&#160;this&#160;method&#160;of&#160;proactive&#160;static&#160;contextualization&#160;and&#160;retro-</p>
<p style="position:absolute;top:972px;left:69px;white-space:nowrap" class="ft1320">spective&#160;correction&#160;for&#160;LLM&#160;code&#160;completion.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft139">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 14 -->
<a name="14"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1444{font-size:15px;font-family:IXRNWO+LinLibertineTBI;color:#000000;}
-->
</style>
<div id="page14-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out014.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1416">288:14</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft1416">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:132px;left:69px;white-space:nowrap" class="ft1434">2.8.1</p>
<p style="position:absolute;top:132px;left:111px;white-space:nowrap" class="ft1434">MVUBench.&#160;Hazel&#160;is&#160;a&#160;low-resource&#160;language,&#160;so&#160;we&#160;are&#160;unable&#160;to&#160;conduct&#160;an&#160;at-scale</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1427">evaluation&#160;in&#160;this&#160;context.&#160;Instead,&#160;as&#160;previously&#160;motivated,&#160;we&#160;construct&#160;a&#160;benchmark&#160;suite&#160;of&#160;five<br/>MVU&#160;applications&#160;including&#160;the&#160;EmojiPainter&#160;example&#160;from&#160;the&#160;previous&#160;sections:</p>
<p style="position:absolute;top:194px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:194px;left:105px;white-space:nowrap" class="ft1423">Todo&#160;(TO):&#160;Maintains&#160;a&#160;list&#160;of&#160;tasks</p>
<p style="position:absolute;top:212px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:212px;left:105px;white-space:nowrap" class="ft1423">Room&#160;Booking&#160;(BO):&#160;Manages&#160;a&#160;room&#160;booking&#160;schedule</p>
<p style="position:absolute;top:230px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:230px;left:105px;white-space:nowrap" class="ft1423">Emoji&#160;Painter&#160;(EM):&#160;Paints&#160;emoji&#160;stamps&#160;on&#160;a&#160;small&#160;canvas</p>
<p style="position:absolute;top:248px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:248px;left:105px;white-space:nowrap" class="ft1423">Playlist&#160;Manager&#160;(PL):&#160;Manages&#160;a&#160;music&#160;playlist</p>
<p style="position:absolute;top:266px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:266px;left:105px;white-space:nowrap" class="ft1423">Password&#160;Strength&#160;Checker&#160;(PA):&#160;Rates&#160;a&#160;password&#160;via&#160;a&#160;dynamic&#160;set&#160;of&#160;properties</p>
<p style="position:absolute;top:292px;left:84px;white-space:nowrap" class="ft1420">The&#160;baseline&#160;program&#160;sketch&#160;provided&#160;to&#160;the&#160;language&#160;model&#160;for&#160;each&#160;of&#160;these&#160;programs&#160;is</p>
<p style="position:absolute;top:310px;left:69px;white-space:nowrap" class="ft1420">simply&#160;the&#160;type-annotated&#160;function&#160;header&#160;for&#160;its&#160;corresponding</p>
<p style="position:absolute;top:308px;left:477px;white-space:nowrap" class="ft1426">update&#160;function,&#160;along&#160;with&#160;a</p>
<p style="position:absolute;top:328px;left:69px;white-space:nowrap" class="ft1427">single-line&#160;comment&#160;describing&#160;that&#160;function’s&#160;purpose,&#160;including&#160;the&#160;name&#160;of&#160;the&#160;application,&#160;in<br/>line&#160;with&#160;the&#160;running&#160;example.</p>
<p style="position:absolute;top:364px;left:84px;white-space:nowrap" class="ft1420">Each&#160;application&#160;also&#160;comes&#160;with&#160;a&#160;simulated&#160;repository&#160;containing&#160;relevant&#160;(and&#160;less&#160;relevant)</p>
<p style="position:absolute;top:382px;left:69px;white-space:nowrap" class="ft1420">type&#160;and&#160;utility&#160;function&#160;definitions.</p>
<p style="position:absolute;top:400px;left:84px;white-space:nowrap" class="ft1420">We&#160;also&#160;provide&#160;a&#160;small&#160;test&#160;suite&#160;for&#160;each&#160;example,&#160;consisting&#160;of&#160;10-15&#160;tests&#160;ensuring&#160;that&#160;each</p>
<p style="position:absolute;top:418px;left:69px;white-space:nowrap" class="ft1420">MVU&#160;action&#160;behaves&#160;as&#160;a&#160;user&#160;might&#160;reasonably&#160;expect&#160;without&#160;additional&#160;specification.</p>
<p style="position:absolute;top:436px;left:84px;white-space:nowrap" class="ft1420">In&#160;such&#160;a&#160;situation,&#160;a&#160;naive&#160;language&#160;model&#160;completion&#160;would&#160;be&#160;informed&#160;only&#160;by&#160;the</p>
<p style="position:absolute;top:434px;left:620px;white-space:nowrap" class="ft1426">update</p>
<p style="position:absolute;top:454px;left:69px;white-space:nowrap" class="ft1420">function&#160;type&#160;aliases&#160;(which&#160;are&#160;often&#160;generic&#160;terms&#160;such&#160;as</p>
<p style="position:absolute;top:452px;left:442px;white-space:nowrap" class="ft1426">Model)&#160;and&#160;the&#160;single-line&#160;comment</p>
<p style="position:absolute;top:472px;left:68px;white-space:nowrap" class="ft1420">(which&#160;only&#160;hints&#160;at&#160;the&#160;intended&#160;functionality).&#160;While&#160;it&#160;is&#160;still&#160;possible&#160;that&#160;in&#160;very&#160;typical</p>
<p style="position:absolute;top:490px;left:69px;white-space:nowrap" class="ft1427">situations,&#160;the&#160;model&#160;might&#160;correctly&#160;guess&#160;appropriate&#160;types&#160;and&#160;names,&#160;more&#160;likely&#160;(as&#160;we&#160;shall<br/>see)&#160;it&#160;will&#160;hallucinate&#160;plausible-but-incorrect&#160;completions.&#160;By&#160;varying&#160;the&#160;methods&#160;through&#160;which<br/>additional&#160;context&#160;is&#160;provided,&#160;and&#160;the&#160;corrective&#160;methods&#160;applied&#160;to&#160;resulting&#160;completions,&#160;we<br/>provide&#160;a&#160;baseline&#160;analysis&#160;for&#160;the&#160;relative&#160;effects&#160;and&#160;interactions&#160;of&#160;these&#160;methods&#160;on&#160;LLM&#160;code<br/>completion.</p>
<p style="position:absolute;top:594px;left:69px;white-space:nowrap" class="ft1434">2.8.2</p>
<p style="position:absolute;top:594px;left:110px;white-space:nowrap" class="ft1434">Feature&#160;Ablation&#160;Experiment.&#160;Our&#160;main&#160;experiment&#160;consisted&#160;of&#160;320&#160;completions&#160;trials,&#160;each</p>
<p style="position:absolute;top:612px;left:69px;white-space:nowrap" class="ft1427">of&#160;which&#160;makes&#160;between&#160;one&#160;and&#160;three&#160;calls&#160;to&#160;the&#160;language&#160;model.&#160;These&#160;320&#160;trials&#160;divide&#160;as<br/>follows:</p>
<p style="position:absolute;top:656px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:656px;left:105px;white-space:nowrap" class="ft1423">8&#160;feature&#160;ablation&#160;configurations</p>
<p style="position:absolute;top:674px;left:104px;white-space:nowrap" class="ft1427">–&#160;Type&#160;Retrieval:&#160;Whether&#160;to&#160;include&#160;expected&#160;type&#160;and&#160;type&#160;definitions<br/>–&#160;Header&#160;Retrieval:&#160;Whether&#160;to&#160;include&#160;relevant&#160;headers&#160;from&#160;the&#160;typing&#160;context<br/>–&#160;Error&#160;Rounds:&#160;Whether&#160;to&#160;perform&#160;up&#160;to&#160;2&#160;static&#160;error&#160;correction</p>
<p style="position:absolute;top:728px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:728px;left:105px;white-space:nowrap" class="ft1423">5&#160;program&#160;sketches&#160;(TO,&#160;BO,&#160;EM,&#160;PL,&#160;PA)</p>
<p style="position:absolute;top:746px;left:92px;white-space:nowrap" class="ft1438">•</p>
<p style="position:absolute;top:746px;left:105px;white-space:nowrap" class="ft1427">20&#160;completion&#160;trials&#160;per&#160;combination&#160;(to&#160;account&#160;for&#160;model&#160;non-determinism&#160;<a href="out.html#29">[56]).&#160;</a>We<br/>ran&#160;these&#160;experiments&#160;at&#160;temperature&#160;0.6&#160;(a&#160;hyperparameter&#160;effecting&#160;the&#160;stochasticity&#160;of<br/>token&#160;sampling),&#160;selected&#160;based&#160;on&#160;trial&#160;experiments&#160;as&#160;a&#160;balance&#160;between&#160;noisy&#160;variance<br/>and&#160;producing&#160;a&#160;range&#160;of&#160;interestingly&#160;distinct&#160;completions</p>
<p style="position:absolute;top:832px;left:69px;white-space:nowrap" class="ft1434">2.8.3</p>
<p style="position:absolute;top:832px;left:110px;white-space:nowrap" class="ft1434">Comparison&#160;Baseline&#160;1:&#160;No&#160;Context.&#160;The&#160;ablation&#160;configurations&#160;lacking&#160;all&#160;static&#160;retrieval</p>
<p style="position:absolute;top:850px;left:69px;white-space:nowrap" class="ft1427">feature&#160;serves&#160;as&#160;a&#160;lower&#160;bound&#160;baseline&#160;–&#160;without&#160;any&#160;context&#160;except&#160;the&#160;brief&#160;comment&#160;on<br/>the</p>
<p style="position:absolute;top:865px;left:93px;white-space:nowrap" class="ft1426">update&#160;function,&#160;we&#160;would&#160;expect&#160;even&#160;high-performing&#160;models&#160;to&#160;perform&#160;poorly&#160;due&#160;to</p>
<p style="position:absolute;top:886px;left:69px;white-space:nowrap" class="ft1427">lack&#160;of&#160;context.&#160;This&#160;is&#160;the&#160;current&#160;reality&#160;for&#160;AI&#160;programming&#160;assistants&#160;that&#160;do&#160;not&#160;attempt<br/>repository-level&#160;retrieval.</p>
<p style="position:absolute;top:936px;left:69px;white-space:nowrap" class="ft1434">2.8.4</p>
<p style="position:absolute;top:936px;left:110px;white-space:nowrap" class="ft1434">Comparison&#160;Baseline&#160;2:&#160;Exhaustive&#160;Retrieval.&#160;An&#160;additional&#160;baseline&#160;configuration,&#160;beyond</p>
<p style="position:absolute;top:954px;left:69px;white-space:nowrap" class="ft1427">those&#160;outlined&#160;above,&#160;is&#160;to&#160;perform&#160;exhaustive&#160;retrieval&#160;of&#160;all&#160;application&#160;code,&#160;excluding&#160;tests,&#160;up<br/>to&#160;the&#160;context&#160;window&#160;limit.&#160;This&#160;serves&#160;as&#160;a&#160;token-inefficient&#160;upper&#160;bound&#160;on&#160;performance.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft149">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 15 -->
<a name="15"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page15-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out015.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1516">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft1516">288:15</p>
<p style="position:absolute;top:132px;left:69px;white-space:nowrap" class="ft1534">2.8.5</p>
<p style="position:absolute;top:132px;left:110px;white-space:nowrap" class="ft1534">Comparison&#160;Baseline&#160;3:&#160;Vector&#160;Retrieval&#160;with&#160;Confounds.&#160;Finally,&#160;we&#160;compare&#160;our&#160;approach</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft1527">to&#160;vector&#160;retrieval.&#160;Given&#160;that&#160;our&#160;test&#160;corpus&#160;consists&#160;of&#160;5&#160;relatively&#160;small&#160;programs,&#160;we&#160;have<br/>emulated&#160;a&#160;larger&#160;more&#160;realistic&#160;codebase&#160;by&#160;combining&#160;those&#160;five&#160;programs,&#160;minus&#160;tests&#160;and<br/>update&#160;functions,&#160;along&#160;with&#160;Hazel’s&#160;standard&#160;library,&#160;to&#160;create&#160;a&#160;1000-line&#160;simulated&#160;codebase&#160;from</p>
<p style="position:absolute;top:203px;left:68px;white-space:nowrap" class="ft1520">which&#160;context&#160;can&#160;be&#160;drawn.&#160;Combining&#160;these&#160;programs&#160;has&#160;the&#160;effect&#160;of&#160;creating&#160;some&#160;possible</p>
<p style="position:absolute;top:221px;left:69px;white-space:nowrap" class="ft1527">lexical&#160;confounders,&#160;e.g.&#160;two&#160;types&#160;having&#160;the&#160;same&#160;name;&#160;we&#160;contend&#160;that&#160;this&#160;construction,&#160;albeit<br/>synthetic,&#160;nonetheless&#160;emulates&#160;a&#160;legitimate&#160;source&#160;of&#160;confusion&#160;for&#160;a&#160;scope-unaware&#160;method&#160;like<br/>vector&#160;retrieval.</p>
<p style="position:absolute;top:275px;left:84px;white-space:nowrap" class="ft1520">We&#160;have&#160;used&#160;the&#160;simplest&#160;standard&#160;RAG&#160;strategy,&#160;uniformly&#160;dividing&#160;the&#160;codebase&#160;into&#160;150-</p>
<p style="position:absolute;top:293px;left:69px;white-space:nowrap" class="ft1527">character&#160;chunks,&#160;which&#160;were&#160;submitted&#160;to&#160;OpenAI’s&#160;Ada&#160;(text-embedding-ada-002),&#160;a&#160;commercial<br/>embeddings&#160;model&#160;<a href="out.html#29">[49].&#160;</a>The&#160;retrieved&#160;1536-element&#160;vectors,&#160;along&#160;with&#160;their&#160;associated&#160;text&#160;chunks,<br/>are&#160;then&#160;stored&#160;locally&#160;in&#160;a&#160;JSON&#160;file&#160;acting&#160;as&#160;a&#160;basic&#160;vector&#160;database.</p>
<p style="position:absolute;top:347px;left:84px;white-space:nowrap" class="ft1520">In&#160;order&#160;to&#160;retrieve&#160;chunks&#160;relevant&#160;to&#160;a&#160;provided&#160;sketch&#160;(our&#160;function&#160;headers&#160;and&#160;comments),</p>
<p style="position:absolute;top:365px;left:68px;white-space:nowrap" class="ft1520">we&#160;submit&#160;that&#160;sketch&#160;to&#160;the&#160;same&#160;API&#160;endpoint,&#160;and&#160;then&#160;search&#160;our&#160;vector&#160;database&#160;for&#160;the&#160;top&#160;6</p>
<p style="position:absolute;top:383px;left:69px;white-space:nowrap" class="ft1520">chunks&#160;with&#160;the&#160;highest&#160;cosine&#160;similarity&#160;<a href="out.html#29">[49].</a></p>
<p style="position:absolute;top:400px;left:84px;white-space:nowrap" class="ft1520">The&#160;above&#160;parameters&#160;(150&#160;character&#160;chunks,&#160;6&#160;entries)&#160;are&#160;chosen&#160;so&#160;that&#160;the&#160;total&#160;(900&#160;characters)</p>
<p style="position:absolute;top:418px;left:69px;white-space:nowrap" class="ft1527">lines&#160;up&#160;with&#160;the&#160;average&#160;length&#160;of&#160;the&#160;total&#160;static&#160;retrieval&#160;context&#160;(types&#160;+&#160;relevant&#160;context)&#160;for<br/>our&#160;5&#160;examples,&#160;with&#160;the&#160;chunk&#160;size&#160;being&#160;set&#160;as&#160;small&#160;as&#160;possible&#160;while&#160;still&#160;being&#160;able&#160;to&#160;fully<br/>contain&#160;most&#160;type&#160;definitions&#160;in&#160;our&#160;corpus.</p>
<p style="position:absolute;top:472px;left:84px;white-space:nowrap" class="ft1520">It&#160;should&#160;be&#160;noted&#160;that&#160;there&#160;exist&#160;a&#160;variety&#160;of&#160;more&#160;advanced&#160;chunking&#160;strategies&#160;which&#160;may</p>
<p style="position:absolute;top:490px;left:69px;white-space:nowrap" class="ft1527">yield&#160;better&#160;results,&#160;including&#160;overlapping&#160;windows,&#160;chunks&#160;aligned&#160;to&#160;inferred&#160;authorial&#160;intent&#160;<a href="out.html#30">[76],<br/></a>and&#160;semantic&#160;chunking&#160;which&#160;takes&#160;into&#160;account&#160;source&#160;syntax.&#160;However,&#160;all&#160;these&#160;strategies&#160;have<br/>complex&#160;trade-offs&#160;which&#160;take&#160;us&#160;beyond&#160;our&#160;immediate&#160;comparative&#160;goals;&#160;for&#160;example,&#160;chunking<br/>by&#160;top-level&#160;definitions&#160;(a&#160;language-aware&#160;approach)&#160;might&#160;prevent&#160;issues&#160;with&#160;a&#160;poorly-truncated<br/>definition&#160;being&#160;included&#160;in&#160;a&#160;prompt,&#160;but&#160;seeing&#160;as&#160;definitions&#160;can&#160;range&#160;widely&#160;in&#160;size,&#160;being<br/>forced&#160;to&#160;include&#160;an&#160;entire&#160;definition&#160;may&#160;prevent&#160;multiple&#160;chunks&#160;which&#160;are&#160;together&#160;more&#160;relevant<br/>from&#160;being&#160;included.</p>
<p style="position:absolute;top:616px;left:84px;white-space:nowrap" class="ft1520">As&#160;such,&#160;we&#160;have&#160;elected&#160;to&#160;leave&#160;the&#160;RAG&#160;baseline&#160;structurally&#160;agnostic,&#160;so&#160;as&#160;to&#160;more&#160;cleanly</p>
<p style="position:absolute;top:634px;left:69px;white-space:nowrap" class="ft1527">contrast&#160;it&#160;with&#160;semantic&#160;methods,&#160;while&#160;noting&#160;it&#160;is&#160;likely&#160;that&#160;ultimately&#160;these&#160;two&#160;methods&#160;are<br/>not&#160;exclusive&#160;and&#160;can&#160;be&#160;used&#160;synergistically&#160;in&#160;a&#160;production&#160;setting&#160;(for&#160;example,&#160;balancing&#160;the<br/>ratio&#160;of&#160;typed&#160;semantic&#160;versus&#160;associative&#160;RAG&#160;depending&#160;on&#160;the&#160;amount&#160;of&#160;static&#160;information<br/>available&#160;at&#160;a&#160;given&#160;lexical&#160;location).&#160;We&#160;return&#160;to&#160;this&#160;theme&#160;in&#160;<a href="out.html#23">section&#160;6.</a></p>
<p style="position:absolute;top:727px;left:69px;white-space:nowrap" class="ft1519">2.9</p>
<p style="position:absolute;top:727px;left:103px;white-space:nowrap" class="ft1519">Hazel&#160;GPT-4&#160;Results</p>
<p style="position:absolute;top:967px;left:140px;white-space:nowrap" class="ft1517">Fig.&#160;8.&#160;Hazel&#160;GPT-4:&#160;Results&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft159">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 16 -->
<a name="16"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1645{font-size:13px;line-height:12px;font-family:WVOPFG+LinBiolinumT;color:#000000;}
	.ft1646{font-size:15px;line-height:15px;font-family:JZXWNF+LinLibertineT;color:#000000;}
-->
</style>
<div id="page16-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out016.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1616">288:16</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft1616">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:69px;white-space:nowrap" class="ft1627"><a href="out.html#15">Figure&#160;8&#160;</a>shows&#160;the&#160;results&#160;of&#160;our&#160;evaluation&#160;for&#160;GPT-4.&#160;We&#160;see&#160;a&#160;clear&#160;trend&#160;of&#160;more&#160;semantic<br/>information&#160;yielding&#160;better&#160;results&#160;on&#160;the&#160;held-out&#160;tests.&#160;The&#160;no-context&#160;baseline&#160;(no/no/no)&#160;alone<br/>does&#160;not&#160;suffice&#160;to&#160;yield&#160;meaningful&#160;generations,&#160;often&#160;returning&#160;syntactically&#160;incorrect&#160;code&#160;as<br/>the&#160;model&#160;hallucinates&#160;data&#160;types&#160;and&#160;syntax&#160;(such&#160;as&#160;OCaml-style&#160;records)&#160;which&#160;do&#160;not&#160;exist&#160;in<br/>Hazel,&#160;despite&#160;the&#160;inclusion&#160;of&#160;the&#160;Hazel&#160;Crash&#160;Course.</p>
<p style="position:absolute;top:221px;left:84px;white-space:nowrap" class="ft1620">Including&#160;type&#160;definitions&#160;seem&#160;absolutely&#160;necessary&#160;to&#160;allow&#160;the&#160;model&#160;to&#160;scaffold&#160;the&#160;update</p>
<p style="position:absolute;top:239px;left:69px;white-space:nowrap" class="ft1627">function.&#160;Without&#160;this&#160;scaffolding,&#160;relevant&#160;function&#160;headers&#160;alone&#160;show&#160;little&#160;effect&#160;on&#160;correctness.<br/>However,&#160;in&#160;combination&#160;with&#160;types,&#160;function&#160;headers&#160;have&#160;a&#160;large&#160;multiplicative&#160;effect,&#160;increasing<br/>test&#160;performance&#160;threefold.&#160;<a href="out.html#16">Figure&#160;9&#160;</a>provides&#160;concrete&#160;examples&#160;of&#160;this&#160;interaction:</p>
<p style="position:absolute;top:571px;left:69px;white-space:nowrap" class="ft1637">Fig.&#160;9.&#160;Some&#160;sample&#160;completions&#160;for&#160;various&#160;configurations.&#160;In&#160;(a),&#160;without&#160;any&#160;supporting&#160;context,&#160;we&#160;see<br/>reasonable-but-incorrect&#160;guesses&#160;at&#160;both&#160;the</p>
<p style="position:absolute;top:584px;left:328px;white-space:nowrap" class="ft1626">Action&#160;constructors&#160;and&#160;the&#160;Model&#160;type;&#160;furthermore,&#160;the</p>
<p style="position:absolute;top:604px;left:69px;white-space:nowrap" class="ft1645">model&#160;completion&#160;uses&#160;record&#160;syntax&#160;which&#160;does&#160;not&#160;exist&#160;in&#160;Hazel.&#160;(b)&#160;uses&#160;the&#160;provided&#160;types&#160;correctly<br/>but&#160;hallucinates&#160;helper&#160;names.&#160;In&#160;(c)&#160;we&#160;see&#160;uses&#160;of&#160;appropriate&#160;helpers,&#160;but&#160;(mostly)&#160;incorrect&#160;guesses&#160;for<br/>Action&#160;constructors.&#160;(d)&#160;exploits&#160;the&#160;provided&#160;context&#160;to&#160;produce&#160;a&#160;fully&#160;correct&#160;solution.</p>
<p style="position:absolute;top:669px;left:84px;white-space:nowrap" class="ft1620">Similarly,&#160;error&#160;rounds&#160;on&#160;their&#160;own&#160;are&#160;ineffective&#160;on&#160;code&#160;consisting&#160;largely&#160;of&#160;hallucinated&#160;types</p>
<p style="position:absolute;top:687px;left:69px;white-space:nowrap" class="ft1627">and&#160;functions.&#160;But&#160;given&#160;the&#160;scaffolding&#160;effect&#160;of&#160;relevant&#160;static&#160;information,&#160;they&#160;act&#160;multiplicatively,<br/>increasing&#160;performance&#160;by&#160;a&#160;factor&#160;of&#160;4&#160;for&#160;types&#160;without&#160;headers,&#160;and&#160;a&#160;factor&#160;of&#160;1.5&#160;for&#160;both&#160;types<br/>and&#160;headers.&#160;Error&#160;rounds&#160;were&#160;particularly&#160;effective&#160;at&#160;transforming&#160;almost-correct&#160;completions<br/>to&#160;fully&#160;correct&#160;ones,&#160;as&#160;shown&#160;in&#160;<a href="out.html#17">Figure&#160;10.</a></p>
<p style="position:absolute;top:759px;left:84px;white-space:nowrap" class="ft1620">One&#160;phenomenon&#160;of&#160;note&#160;was&#160;that&#160;sometimes&#160;even&#160;poor&#160;error&#160;messages&#160;proved&#160;effective;&#160;the</p>
<p style="position:absolute;top:777px;left:69px;white-space:nowrap" class="ft1627">error&#160;in&#160;<a href="out.html#17">Figure&#160;11&#160;</a>is&#160;an&#160;at-most&#160;partially&#160;accurate&#160;characterization&#160;of&#160;the&#160;syntax&#160;error,&#160;but&#160;knowing<br/>there&#160;was&#160;a&#160;syntax&#160;error&#160;proved&#160;sufficient&#160;for&#160;the&#160;model&#160;to&#160;correct&#160;it,&#160;perhaps&#160;due&#160;to&#160;the&#160;additional<br/>context&#160;provided&#160;in&#160;the&#160;Hazel&#160;Crash&#160;Course.</p>
<p style="position:absolute;top:831px;left:84px;white-space:nowrap" class="ft1620">The&#160;combination&#160;of&#160;types&#160;and&#160;headers&#160;performed&#160;well&#160;against&#160;the&#160;Vector&#160;Retrieval&#160;baseline,</p>
<p style="position:absolute;top:849px;left:69px;white-space:nowrap" class="ft1620">though&#160;it&#160;should&#160;be&#160;noted&#160;that&#160;this&#160;was&#160;disproportionately&#160;due&#160;to&#160;a&#160;single&#160;confounding&#160;chunk</p>
<p style="position:absolute;top:867px;left:68px;white-space:nowrap" class="ft1620">which&#160;was&#160;retrieved&#160;for&#160;each&#160;example,&#160;even&#160;though&#160;it&#160;is&#160;only&#160;relevant&#160;to&#160;the&#160;Todo&#160;application&#160;(see</p>
<p style="position:absolute;top:885px;left:69px;white-space:nowrap" class="ft1627"><a href="out.html#17">Figure&#160;12).&#160;</a>We&#160;believe&#160;that,&#160;due&#160;to&#160;the&#160;fact&#160;that&#160;this&#160;chunk&#160;coincidentally&#160;includes&#160;the&#160;word&#160;symbol<br/>Model&#160;twice&#160;alongside&#160;Action,&#160;it&#160;is&#160;deemed&#160;relevant&#160;to&#160;each&#160;update&#160;sketch.&#160;The&#160;inclusion&#160;of&#160;this<br/>snippet&#160;often&#160;resulted&#160;in&#160;the&#160;language&#160;model&#160;attempting&#160;to&#160;implement&#160;a&#160;Todo&#160;application,&#160;or&#160;some<br/>hybrid&#160;thereof.&#160;We&#160;debated&#160;refining&#160;the&#160;chunking&#160;strategy&#160;to&#160;remove&#160;this&#160;confounder,&#160;but&#160;found&#160;it<br/>easy&#160;to&#160;inadvertently&#160;create&#160;similar&#160;scenarios;&#160;ultimately,&#160;it&#160;is&#160;a&#160;representative&#160;artefact&#160;of&#160;a&#160;process</p>
<p style="position:absolute;top:974px;left:68px;white-space:nowrap" class="ft1620">which&#160;is&#160;fundamentally&#160;non-scope-aware.&#160;See&#160;<a href="out.html#21">section&#160;4&#160;</a>for&#160;further&#160;discussion.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft169">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 17 -->
<a name="17"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft1747{font-size:13px;font-family:KMHYXY+LinBiolinumTI;color:#000000;}
-->
</style>
<div id="page17-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out017.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1716">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft1716">288:17</p>
<p style="position:absolute;top:409px;left:69px;white-space:nowrap" class="ft1737">Fig.&#160;10.&#160;Error&#160;rounds&#160;were&#160;generally&#160;very&#160;effective&#160;at&#160;correcting&#160;an&#160;almost-correct&#160;program.&#160;Here,&#160;the&#160;error<br/>round&#160;reply&#160;included&#160;a&#160;type&#160;inconsistency&#160;error&#160;on</p>
<p style="position:absolute;top:422px;left:358px;white-space:nowrap" class="ft1726">model&#160;and&#160;an&#160;unbound&#160;variable&#160;error&#160;in&#160;grid,&#160;both&#160;of</p>
<p style="position:absolute;top:442px;left:68px;white-space:nowrap" class="ft1717">which&#160;were&#160;corrected&#160;in&#160;the&#160;model’s&#160;reply</p>
<p style="position:absolute;top:682px;left:69px;white-space:nowrap" class="ft1717">Fig.&#160;11.&#160;Here,&#160;a&#160;parse&#160;error&#160;(match/with&#160;used&#160;instead&#160;of</p>
<p style="position:absolute;top:678px;left:384px;white-space:nowrap" class="ft1726">case)&#160;was&#160;corrected,&#160;even&#160;though&#160;the&#160;Hazel&#160;error</p>
<p style="position:absolute;top:698px;left:69px;white-space:nowrap" class="ft1717">message&#160;in&#160;this&#160;case&#160;is&#160;somewhat&#160;unclear:</p>
<p style="position:absolute;top:698px;left:308px;white-space:nowrap" class="ft1747">“The&#160;parser&#160;has&#160;detected&#160;unmatched&#160;delimiters:</p>
<p style="position:absolute;top:694px;left:570px;white-space:nowrap" class="ft1726">=&gt;&#160;,&#160;=&gt;&#160;,&#160;=&gt;&#160;,&#160;=&gt;&#160;.</p>
<p style="position:absolute;top:714px;left:69px;white-space:nowrap" class="ft1747">The&#160;presence&#160;of&#160;a</p>
<p style="position:absolute;top:711px;left:167px;white-space:nowrap" class="ft1726">=&gt;&#160;in&#160;the&#160;list&#160;likely&#160;indicates&#160;that&#160;a&#160;-&gt;&#160;was&#160;mistakenly&#160;used&#160;in&#160;a&#160;case&#160;expression.”</p>
<p style="position:absolute;top:922px;left:170px;white-space:nowrap" class="ft1717">Fig.&#160;12.&#160;A&#160;confounding&#160;snippet&#160;commonly&#160;retrieved&#160;by&#160;vector&#160;retrieval</p>
<p style="position:absolute;top:973px;left:84px;white-space:nowrap" class="ft1720">See&#160;<a href="out.html#18">Figure&#160;13&#160;</a>for&#160;additional&#160;examples&#160;of&#160;more&#160;atypical&#160;completions.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft179">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 18 -->
<a name="18"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page18-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out018.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1816">288:18</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft1816">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:342px;left:69px;white-space:nowrap" class="ft1837">Fig.&#160;13.&#160;Some&#160;more&#160;exotic&#160;completions:&#160;(a)&#160;is&#160;an&#160;excerpt&#160;of&#160;a&#160;very&#160;long&#160;solution&#160;which,&#160;not&#160;having&#160;access&#160;to<br/>headers,&#160;almost&#160;successfully&#160;managed&#160;to&#160;re-implement&#160;the&#160;required&#160;logic&#160;in-line.&#160;In&#160;(b)&#160;we&#160;see&#160;an&#160;example&#160;of<br/>a&#160;completion&#160;containing&#160;explicit&#160;holes,&#160;likely&#160;due&#160;to&#160;their&#160;presence&#160;in&#160;our&#160;few-shot&#160;example&#160;sketches.&#160;In&#160;(c),<br/>the&#160;LLM&#160;somewhat&#160;quixotically&#160;suggests&#160;substituting&#160;a&#160;different&#160;emoji&#160;in&#160;lieu&#160;of&#160;the&#160;empty&#160;string.</p>
<p style="position:absolute;top:440px;left:84px;white-space:nowrap" class="ft1820">It&#160;is&#160;worth&#160;nothing&#160;that&#160;although&#160;the&#160;results&#160;for&#160;types&#160;+&#160;headers&#160;are&#160;similar&#160;to&#160;those&#160;for&#160;exhaustive</p>
<p style="position:absolute;top:458px;left:69px;white-space:nowrap" class="ft1827">retrieval,&#160;with&#160;exhaustive&#160;retrieval&#160;performing&#160;somewhat&#160;better,&#160;our&#160;experiments&#160;are&#160;not&#160;powerful<br/>enough&#160;to&#160;significantly&#160;distinguish&#160;between&#160;these&#160;cases,&#160;as&#160;the&#160;sizes&#160;of&#160;our&#160;programs&#160;are&#160;small<br/>enough&#160;that&#160;the&#160;context&#160;size&#160;delta&#160;is&#160;not&#160;reflective&#160;of&#160;real-world&#160;use&#160;cases.&#160;Specifically,&#160;the&#160;size&#160;of<br/>the&#160;retrieval&#160;context&#160;averaged&#160;890&#160;characters&#160;for&#160;our&#160;programs,&#160;whereas&#160;the&#160;exhaustive&#160;context<br/>averaged&#160;1370&#160;characters.&#160;As&#160;it&#160;stands&#160;the&#160;performance&#160;delta&#160;seems&#160;to&#160;compare&#160;positively&#160;to&#160;the<br/>context&#160;length&#160;(and&#160;hence&#160;cost)&#160;delta,&#160;but&#160;more&#160;data&#160;is&#160;needed&#160;to&#160;make&#160;this&#160;conclusive.</p>
<p style="position:absolute;top:770px;left:120px;white-space:nowrap" class="ft1817">Fig.&#160;14.&#160;Hazel&#160;GPT-4:&#160;Time&#160;elapsed&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:812px;left:69px;white-space:nowrap" class="ft1834">2.9.1</p>
<p style="position:absolute;top:812px;left:110px;white-space:nowrap" class="ft1834">Token&#160;and&#160;Time&#160;Performance.&#160;<a href="out.html#18">Figure&#160;14&#160;</a>shows&#160;the&#160;time&#160;taken&#160;in&#160;seconds&#160;for&#160;all&#160;trials.&#160;The</p>
<p style="position:absolute;top:830px;left:69px;white-space:nowrap" class="ft1827">time&#160;taken&#160;is&#160;dominated&#160;by&#160;the&#160;number&#160;of&#160;round&#160;trips&#160;through&#160;the&#160;API,&#160;with&#160;each&#160;round&#160;scaling&#160;in<br/>proportion&#160;to&#160;the&#160;sum&#160;of&#160;the&#160;length&#160;of&#160;the&#160;context&#160;and&#160;the&#160;length&#160;of&#160;the&#160;generation.&#160;Generally&#160;these<br/>times&#160;are&#160;too&#160;long&#160;for&#160;use&#160;in&#160;a&#160;practical&#160;completion&#160;setting;&#160;our&#160;intention&#160;is&#160;to&#160;determine&#160;a&#160;ceiling<br/>on&#160;current&#160;performance&#160;with&#160;respect&#160;to&#160;correctness&#160;rather&#160;than&#160;present&#160;a&#160;practical&#160;system.&#160;Note<br/>however&#160;that&#160;these&#160;times&#160;will&#160;likely&#160;decrease&#160;quickly&#160;with&#160;hardware&#160;and&#160;software&#160;advances.&#160;As&#160;of<br/>May&#160;2024&#160;GPT<a href="out.html#29">-4o[53]&#160;</a>performs&#160;on&#160;average&#160;twice&#160;as&#160;fast&#160;as&#160;the&#160;GPT-4-0613&#160;model&#160;checkpoint&#160;used<br/>for&#160;our&#160;experiments.&#160;However,&#160;the&#160;long&#160;worst-case&#160;times&#160;for&#160;error&#160;rounds&#160;suggests&#160;that&#160;capping&#160;at<br/>a&#160;single&#160;correction&#160;round&#160;may&#160;be&#160;more&#160;practical,&#160;or&#160;motivate&#160;the&#160;use&#160;of&#160;summarization&#160;to&#160;reduce<br/>token&#160;count&#160;during&#160;error&#160;rounds.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft189">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 19 -->
<a name="19"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page19-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out019.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft1916">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft1916">288:19</p>
<p style="position:absolute;top:290px;left:123px;white-space:nowrap" class="ft1917">Fig.&#160;15.&#160;Hazel&#160;GPT-4:&#160;Tokens&#160;used&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:347px;left:84px;white-space:nowrap" class="ft1920">Figure&#160;<a href="out.html#19">Figure&#160;15&#160;</a>shows&#160;the&#160;total&#160;tokens&#160;used,&#160;both&#160;sent&#160;and&#160;received&#160;from&#160;the&#160;API.&#160;These&#160;are</p>
<p style="position:absolute;top:365px;left:69px;white-space:nowrap" class="ft1920">roughly&#160;proportional&#160;to&#160;the&#160;time&#160;taken,&#160;and&#160;precisely&#160;proportional&#160;to&#160;the&#160;total&#160;cost.</p>
<p style="position:absolute;top:401px;left:69px;white-space:nowrap" class="ft1919">2.10</p>
<p style="position:absolute;top:401px;left:110px;white-space:nowrap" class="ft1919">Hazel&#160;StarCoder2-15B&#160;Results</p>
<p style="position:absolute;top:576px;left:122px;white-space:nowrap" class="ft1917">Fig.&#160;16.&#160;Hazel&#160;StarCoder2:&#160;Results&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:627px;left:84px;white-space:nowrap" class="ft1920">To&#160;assess&#160;the&#160;effectiveness&#160;of&#160;static&#160;retrieval&#160;with&#160;smaller&#160;completion&#160;models,&#160;we&#160;conducted&#160;tests</p>
<p style="position:absolute;top:645px;left:69px;white-space:nowrap" class="ft1927">using&#160;StarCoder2-15B,&#160;a&#160;model&#160;small&#160;enough&#160;to&#160;be&#160;run&#160;locally&#160;on&#160;consumer&#160;hardware.&#160;The&#160;average<br/>percentage&#160;of&#160;tests&#160;passed,&#160;shown&#160;in&#160;the&#160;rightmost&#160;column&#160;of&#160;<a href="out.html#19">Figure&#160;16,&#160;</a>exhibits&#160;a&#160;consistent&#160;trend</p>
<p style="position:absolute;top:681px;left:68px;white-space:nowrap" class="ft1920">with&#160;the&#160;GPT-4&#160;results.&#160;In&#160;the&#160;absence&#160;of&#160;any&#160;type&#160;or&#160;header&#160;information,&#160;StarCoder2&#160;performed</p>
<p style="position:absolute;top:699px;left:69px;white-space:nowrap" class="ft1927">poorly.&#160;The&#160;addition&#160;of&#160;type&#160;information&#160;drastically&#160;improves&#160;performance,&#160;increasing&#160;the&#160;percent-<br/>age&#160;of&#160;correct&#160;solutions&#160;by&#160;an&#160;order&#160;of&#160;magnitude.&#160;Furthermore,&#160;incorporating&#160;headers&#160;leads&#160;to&#160;an<br/>additional&#160;50%&#160;increase&#160;in&#160;relative&#160;performance.</p>
<p style="position:absolute;top:753px;left:84px;white-space:nowrap" class="ft1920">However,&#160;two&#160;examples,&#160;BO&#160;and&#160;TO,&#160;experienced&#160;degraded&#160;performance&#160;after&#160;the&#160;inclusion&#160;of</p>
<p style="position:absolute;top:771px;left:69px;white-space:nowrap" class="ft1927">headers.&#160;After&#160;close&#160;examination&#160;of&#160;the&#160;headers&#160;and&#160;the&#160;output&#160;programs,&#160;we&#160;discovered&#160;that&#160;the<br/>completions&#160;tending&#160;to&#160;use&#160;type-appropriate&#160;but&#160;in-fact&#160;irrelevant&#160;retrieved&#160;headers.&#160;We&#160;hypothesize<br/>that&#160;smaller&#160;completion&#160;models,&#160;such&#160;as&#160;StarCoder2,&#160;are&#160;more&#160;sensitive&#160;to&#160;code&#160;that&#160;appears&#160;near&#160;the<br/>end&#160;of&#160;the&#160;context&#160;window,&#160;making&#160;them&#160;more&#160;susceptible&#160;to&#160;the&#160;influence&#160;of&#160;irrelevant&#160;information.</p>
<p style="position:absolute;top:843px;left:68px;white-space:nowrap" class="ft1920">We&#160;touch&#160;on&#160;this&#160;failure&#160;mode&#160;again&#160;when&#160;we&#160;consider&#160;related&#160;work&#160;in&#160;<a href="out.html#23">section&#160;6.</a></p>
<p style="position:absolute;top:861px;left:84px;white-space:nowrap" class="ft1920">Vector&#160;retrieval&#160;baseline&#160;performance&#160;was&#160;significantly&#160;worse&#160;(in&#160;absolute&#160;and&#160;relative&#160;terms)</p>
<p style="position:absolute;top:878px;left:69px;white-space:nowrap" class="ft1927">than&#160;with&#160;the&#160;larger&#160;model.&#160;We&#160;conjecture&#160;that&#160;this&#160;is&#160;due&#160;to&#160;a&#160;heightened&#160;sensitivity&#160;to&#160;erroneous<br/>syntax&#160;in&#160;the&#160;prompt&#160;created&#160;by&#160;chunk&#160;truncation.</p>
<p style="position:absolute;top:932px;left:69px;white-space:nowrap" class="ft1919">3</p>
<p style="position:absolute;top:932px;left:91px;white-space:nowrap" class="ft1919">Static&#160;Retrieval&#160;in&#160;TypeScript</p>
<p style="position:absolute;top:954px;left:68px;white-space:nowrap" class="ft1920">To&#160;confirm&#160;that&#160;the&#160;above&#160;results&#160;are&#160;not&#160;an&#160;artefact&#160;of&#160;using&#160;a&#160;low-resource&#160;language,&#160;we&#160;also</p>
<p style="position:absolute;top:972px;left:69px;white-space:nowrap" class="ft1920">experimented&#160;with&#160;static&#160;retrieval&#160;in&#160;TypeScript.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft199">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 20 -->
<a name="20"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page20-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out020.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2016">288:20</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft2016">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:132px;left:69px;white-space:nowrap" class="ft2019">3.1</p>
<p style="position:absolute;top:132px;left:103px;white-space:nowrap" class="ft2019">TypeScript&#160;Methodology</p>
<p style="position:absolute;top:154px;left:69px;white-space:nowrap" class="ft2020">Our&#160;methodology&#160;roughly&#160;follows&#160;the&#160;Hazel&#160;experiments.&#160;As&#160;TypeScript&#160;is&#160;a&#160;high&#160;resource&#160;language,</p>
<p style="position:absolute;top:172px;left:68px;white-space:nowrap" class="ft2020">well-represented&#160;in&#160;training&#160;sets,&#160;we&#160;did&#160;not&#160;need&#160;to&#160;provide&#160;a&#160;syntax&#160;crash&#160;course&#160;as&#160;we&#160;did&#160;for</p>
<p style="position:absolute;top:190px;left:69px;white-space:nowrap" class="ft2027">Hazel.&#160;TypeScript&#160;lacks&#160;the&#160;explicit&#160;support&#160;for&#160;typed&#160;holes&#160;and&#160;thus&#160;a&#160;convenient&#160;way&#160;to&#160;extract<br/>semantic&#160;information.&#160;We&#160;emulated&#160;typed&#160;holes&#160;using&#160;a&#160;previously&#160;established&#160;approach&#160;<a href="out.html#27">[14]&#160;</a>using<br/>generic&#160;functions&#160;<a href="out.html#20">(Figure&#160;17).</a></p>
<p style="position:absolute;top:394px;left:192px;white-space:nowrap" class="ft2017">Fig.&#160;17.&#160;Hovering&#160;over&#160;a&#160;simulated&#160;program&#160;hole&#160;in&#160;TypeScript</p>
<p style="position:absolute;top:446px;left:84px;white-space:nowrap" class="ft2020">Specifically,&#160;we&#160;prefix&#160;the&#160;sketch&#160;file&#160;with&#160;the&#160;declaration:</p>
<p style="position:absolute;top:444px;left:444px;white-space:nowrap" class="ft2026">declare&#160;<b>function&#160;</b>_&lt;T&gt;():&#160;T.&#160;Then,</p>
<p style="position:absolute;top:464px;left:68px;white-space:nowrap" class="ft2020">we&#160;represent&#160;a&#160;program&#160;hole&#160;as&#160;an&#160;application&#160;of&#160;that&#160;generic&#160;function:</p>
<p style="position:absolute;top:462px;left:496px;white-space:nowrap" class="ft2026">_()&#160;.&#160;Calling&#160;the&#160;TypeScript</p>
<p style="position:absolute;top:482px;left:69px;white-space:nowrap" class="ft2027">language&#160;server’s&#160;hover&#160;method&#160;on&#160;the&#160;hole&#160;gives&#160;us&#160;a&#160;corresponding&#160;type&#160;signature.&#160;It&#160;should&#160;be<br/>noted&#160;that&#160;this&#160;method&#160;of&#160;emulating&#160;typed&#160;holes&#160;is&#160;not&#160;fully&#160;general.&#160;While&#160;it&#160;works&#160;consistently<br/>for&#160;holes&#160;replacing&#160;the&#160;bodies&#160;of&#160;function&#160;definitions,&#160;it&#160;fails&#160;in&#160;some&#160;syntactic&#160;positions,&#160;including<br/>as&#160;an&#160;operand&#160;of&#160;infix&#160;operators.</p>
<p style="position:absolute;top:554px;left:84px;white-space:nowrap" class="ft2020">Static&#160;retrieval&#160;of&#160;type&#160;definitions&#160;is&#160;performed&#160;via&#160;the&#160;TypeScript&#160;language&#160;server.&#160;In&#160;particular</p>
<p style="position:absolute;top:572px;left:68px;white-space:nowrap" class="ft2020">we&#160;use&#160;coordinated&#160;calls&#160;to&#160;the&#160;Go&#160;to&#160;Type&#160;Definition&#160;and&#160;Hover&#160;methods&#160;to&#160;recursively&#160;retrieve</p>
<p style="position:absolute;top:590px;left:69px;white-space:nowrap" class="ft2020">relevant&#160;types&#160;from&#160;the&#160;source&#160;lexically.</p>
<p style="position:absolute;top:607px;left:84px;white-space:nowrap" class="ft2020">There&#160;does&#160;not&#160;appear&#160;to&#160;be&#160;any&#160;direct&#160;way&#160;of&#160;retrieving&#160;a&#160;typing&#160;context&#160;given&#160;a&#160;lexical</p>
<p style="position:absolute;top:625px;left:69px;white-space:nowrap" class="ft2027">location,&#160;or&#160;even&#160;a&#160;complete&#160;list&#160;of&#160;variables&#160;in&#160;scope&#160;using&#160;the&#160;TypeScript&#160;language&#160;server.&#160;We<br/>experimented&#160;with&#160;different&#160;methods&#160;to&#160;retrieve&#160;relevant&#160;headers,&#160;including&#160;scanning&#160;the&#160;repository<br/>using&#160;CodeQL,&#160;but&#160;were&#160;did&#160;not&#160;find&#160;a&#160;fully&#160;satisfactory&#160;general&#160;approach.&#160;Rather&#160;than&#160;incurring<br/>the&#160;engineering&#160;cost&#160;of&#160;a&#160;compiler-level&#160;intervention,&#160;we&#160;simulated&#160;the&#160;retrieval&#160;of&#160;relevant&#160;headers<br/>manually,&#160;emulating&#160;the&#160;same&#160;methodology&#160;as&#160;the&#160;Hazel&#160;Language&#160;Server.&#160;As&#160;such,&#160;our&#160;TypeScript<br/>implementation&#160;should&#160;be&#160;considered&#160;a&#160;rough&#160;proof-of-concept;&#160;our&#160;experience&#160;here&#160;motivated&#160;our<br/>prospective&#160;LSP&#160;extension&#160;outlined&#160;in&#160;<a href="out.html#22">section&#160;5.</a></p>
<p style="position:absolute;top:751px;left:84px;white-space:nowrap" class="ft2027">We&#160;used&#160;the&#160;TypeScript&#160;compiler&#160;to&#160;collate&#160;static&#160;errors&#160;for&#160;correction&#160;rounds.<br/>Adapting&#160;MVUBench&#160;to&#160;TypeScript&#160;was&#160;done&#160;with&#160;the&#160;aid&#160;of&#160;Claude&#160;<a href="out.html#26">[4],&#160;</a>an&#160;LLM&#160;chat&#160;agent&#160;(See</p>
<p style="position:absolute;top:787px;left:69px;white-space:nowrap" class="ft2027"><a href="out.html#26">section&#160;9&#160;</a>for&#160;more&#160;about&#160;our&#160;supporting&#160;LLM&#160;usage).&#160;Transliterated&#160;code&#160;was&#160;manually&#160;adjusted&#160;to<br/>establish&#160;basic&#160;conformance&#160;to&#160;TypeScript&#160;idioms,&#160;for&#160;example&#160;adding&#160;elements&#160;to&#160;array&#160;at&#160;the&#160;end,<br/>versus&#160;at&#160;the&#160;start&#160;is&#160;standard&#160;for&#160;linked&#160;lists&#160;in&#160;functional&#160;languages&#160;like&#160;Hazel.&#160;Our&#160;experience<br/>here&#160;suggests&#160;that&#160;MVUBench&#160;can&#160;be&#160;ported&#160;with&#160;relative&#160;ease&#160;to&#160;other&#160;similar&#160;languages.</p>
<p style="position:absolute;top:878px;left:69px;white-space:nowrap" class="ft2019">3.2</p>
<p style="position:absolute;top:878px;left:103px;white-space:nowrap" class="ft2019">TypeScript&#160;GPT-4&#160;Results</p>
<p style="position:absolute;top:900px;left:69px;white-space:nowrap" class="ft2027">In&#160;broad&#160;strokes&#160;the&#160;TypeScript&#160;results&#160;<a href="out.html#21">(Figure&#160;18)&#160;</a>are&#160;similar&#160;to&#160;the&#160;Hazel&#160;results.&#160;We&#160;see,&#160;somewhat<br/>unsurprisingly,&#160;that&#160;a&#160;higher-resource&#160;language,&#160;well&#160;represented&#160;in&#160;the&#160;training&#160;set,&#160;achieves&#160;better<br/>overall&#160;completions&#160;from&#160;the&#160;language&#160;model.&#160;Unlike&#160;with&#160;Hazel,&#160;some&#160;trials&#160;passed&#160;some&#160;tests<br/>even&#160;with&#160;no&#160;type&#160;information&#160;provided.&#160;With&#160;type&#160;definitions&#160;included,&#160;the&#160;TypeScript&#160;results&#160;are<br/>flatter&#160;than&#160;the&#160;Hazel&#160;results.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft209">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 21 -->
<a name="21"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page21-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out021.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2116">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft2116">288:21</p>
<p style="position:absolute;top:304px;left:123px;white-space:nowrap" class="ft2117">Fig.&#160;18.&#160;TypeScript&#160;GPT-4:&#160;Results&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:357px;left:84px;white-space:nowrap" class="ft2120">The&#160;ratio&#160;of&#160;tests&#160;passed&#160;with-versus-without&#160;headers&#160;is&#160;3&#160;for&#160;Hazel,&#160;and&#160;1.5&#160;for&#160;TypeScript.&#160;From</p>
<p style="position:absolute;top:375px;left:69px;white-space:nowrap" class="ft2127">examining&#160;the&#160;generated&#160;completions,&#160;we&#160;see&#160;that&#160;the&#160;model,&#160;when&#160;not&#160;provided&#160;with&#160;relevant<br/>headers,&#160;is&#160;significantly&#160;more&#160;able&#160;to&#160;produce&#160;equivalent&#160;working&#160;logic&#160;inline&#160;than&#160;it&#160;was&#160;in&#160;Hazel.</p>
<p style="position:absolute;top:411px;left:84px;white-space:nowrap" class="ft2120">The&#160;TypeScript&#160;performance&#160;proved&#160;less&#160;dependent&#160;on&#160;error&#160;rounds.&#160;In&#160;Hazel,&#160;the&#160;ratio&#160;of&#160;tests</p>
<p style="position:absolute;top:429px;left:69px;white-space:nowrap" class="ft2127">passing&#160;with-versus-without&#160;error&#160;rounds&#160;was&#160;about&#160;2,&#160;whereas&#160;for&#160;TypeScript&#160;it&#160;is&#160;about&#160;1.2.&#160;Again,<br/>this&#160;is&#160;likely&#160;due&#160;to&#160;the&#160;fact&#160;that&#160;the&#160;model&#160;is&#160;far&#160;more&#160;familiar&#160;with&#160;TypeScript&#160;syntax,&#160;and&#160;unlikely<br/>to&#160;make&#160;the&#160;kind&#160;of&#160;syntax&#160;errors&#160;which&#160;the&#160;error&#160;rounds&#160;were&#160;vital&#160;for&#160;correcting&#160;in&#160;the&#160;Hazel<br/>experiment.</p>
<p style="position:absolute;top:500px;left:84px;white-space:nowrap" class="ft2120">Performance&#160;relative&#160;to&#160;the&#160;exhaustive&#160;and&#160;vector&#160;retrieval&#160;baselines,&#160;including&#160;the&#160;high&#160;per-</p>
<p style="position:absolute;top:518px;left:69px;white-space:nowrap" class="ft2120">example&#160;variance&#160;of&#160;the&#160;latter,&#160;are&#160;relatively&#160;in&#160;line&#160;with&#160;the&#160;Hazel&#160;results.</p>
<p style="position:absolute;top:553px;left:69px;white-space:nowrap" class="ft2119">3.3</p>
<p style="position:absolute;top:553px;left:103px;white-space:nowrap" class="ft2119">TypeScript&#160;StarCoder2-15B&#160;Results</p>
<p style="position:absolute;top:728px;left:108px;white-space:nowrap" class="ft2117">Fig.&#160;19.&#160;TypeScript&#160;StarCoder2:&#160;Results&#160;for&#160;guided&#160;completion&#160;(20&#160;trials&#160;per,&#160;temperature&#160;0.6)</p>
<p style="position:absolute;top:773px;left:84px;white-space:nowrap" class="ft2120">The&#160;TypeScript&#160;StarCoder2&#160;results&#160;<a href="out.html#21">(Figure&#160;19)&#160;</a>appear&#160;roughly&#160;in&#160;line&#160;with&#160;the&#160;Hazel&#160;results</p>
<p style="position:absolute;top:791px;left:69px;white-space:nowrap" class="ft2120">modulo&#160;the&#160;considerations&#160;of&#160;the&#160;previous&#160;section.</p>
<p style="position:absolute;top:825px;left:69px;white-space:nowrap" class="ft2119">4</p>
<p style="position:absolute;top:825px;left:91px;white-space:nowrap" class="ft2119">Threats&#160;to&#160;Validity</p>
<p style="position:absolute;top:847px;left:68px;white-space:nowrap" class="ft2120">The&#160;improvement&#160;seen&#160;from&#160;the&#160;inclusion&#160;of&#160;relevant&#160;function&#160;headers&#160;is&#160;highly&#160;contingent&#160;on</p>
<p style="position:absolute;top:865px;left:69px;white-space:nowrap" class="ft2127">the&#160;fact&#160;that&#160;many&#160;relevant&#160;functions&#160;have&#160;already&#160;been&#160;implemented.&#160;While&#160;we&#160;believe&#160;that&#160;this<br/>approximates&#160;a&#160;common&#160;case&#160;in&#160;programming&#160;practice&#160;for&#160;which&#160;naive&#160;contextualization&#160;strategies<br/>fail,&#160;validating&#160;this&#160;claim&#160;would&#160;require&#160;larger-scale&#160;study,&#160;using&#160;at-scale&#160;programs&#160;which&#160;are&#160;more<br/>neutrally&#160;selected.</p>
<p style="position:absolute;top:937px;left:84px;white-space:nowrap" class="ft2120">More&#160;broadly,&#160;MVUBench&#160;is&#160;not&#160;(and&#160;is&#160;not&#160;meant&#160;to)&#160;be&#160;representative&#160;of&#160;all&#160;coding&#160;tasks,&#160;but</p>
<p style="position:absolute;top:955px;left:69px;white-space:nowrap" class="ft2127">rather&#160;to&#160;present&#160;a&#160;challenge&#160;to&#160;contemporary&#160;techniques&#160;and&#160;help&#160;evaluate&#160;approaches&#160;to&#160;semantic<br/>contextualization&#160;(e.g.&#160;vector&#160;retrieval,&#160;which&#160;we&#160;evaluate&#160;in&#160;<a href="out.html#15">subsubsection&#160;2.8.5).</a></p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft219">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 22 -->
<a name="22"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page22-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out022.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2216">288:22</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft2216">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft2220">Our&#160;TypeScript&#160;MVUBench&#160;is&#160;a&#160;very&#160;close&#160;translation&#160;of&#160;the&#160;Hazel&#160;code;&#160;although&#160;the&#160;MVU</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft2227">paradigm&#160;is&#160;in&#160;use&#160;in&#160;the&#160;TypeScript&#160;world&#160;<a href="out.html#26">[8],&#160;</a>there&#160;is&#160;a&#160;question&#160;as&#160;to&#160;the&#160;applicability&#160;of&#160;these<br/>methods&#160;to&#160;a&#160;broader&#160;range&#160;of&#160;TypeScript&#160;programming&#160;styles.</p>
<p style="position:absolute;top:185px;left:84px;white-space:nowrap" class="ft2220">The&#160;appropriateness&#160;of&#160;our&#160;baselines&#160;is&#160;arguable.&#160;This&#160;is&#160;an&#160;idealized&#160;setup&#160;in&#160;which&#160;the&#160;baseline</p>
<p style="position:absolute;top:203px;left:69px;white-space:nowrap" class="ft2227">case&#160;is&#160;to&#160;provide&#160;no&#160;information&#160;beyond&#160;the&#160;function&#160;header;&#160;it&#160;is&#160;unsurprising&#160;that&#160;adding&#160;related<br/>context&#160;drastically&#160;improves&#160;the&#160;result.&#160;In&#160;many&#160;real&#160;cases&#160;the&#160;cursor&#160;window&#160;would&#160;contain&#160;a<br/>large&#160;amount&#160;of&#160;relevant&#160;code.&#160;We&#160;have&#160;chosen&#160;here&#160;to&#160;focus&#160;on&#160;the&#160;situation&#160;where&#160;the&#160;window<br/>does&#160;not&#160;contain&#160;much&#160;relevant&#160;code,&#160;but&#160;it&#160;remains&#160;to&#160;validate&#160;the&#160;relative&#160;rate&#160;of&#160;occurrence&#160;of<br/>these&#160;scenarios&#160;in&#160;the&#160;wild.</p>
<p style="position:absolute;top:293px;left:84px;white-space:nowrap" class="ft2220">Our&#160;RAG&#160;baseline&#160;is&#160;relatively&#160;simplistic,&#160;and&#160;practical&#160;implementations&#160;are&#160;increasingly&#160;inte-</p>
<p style="position:absolute;top:311px;left:69px;white-space:nowrap" class="ft2227">grating&#160;more&#160;sophisticated&#160;methods&#160;which&#160;may&#160;more&#160;closely&#160;approximate&#160;static&#160;retrieval.&#160;The&#160;fact<br/>that&#160;we&#160;compensated&#160;for&#160;the&#160;small&#160;size&#160;of&#160;our&#160;examples&#160;by&#160;creating&#160;a&#160;conjoined&#160;codebase&#160;to&#160;create<br/>our&#160;embedding&#160;vector&#160;database&#160;may&#160;not&#160;be&#160;adequately&#160;representative&#160;of&#160;a&#160;real&#160;large-scale&#160;codebase.</p>
<p style="position:absolute;top:389px;left:69px;white-space:nowrap" class="ft2219">5</p>
<p style="position:absolute;top:389px;left:91px;white-space:nowrap" class="ft2219">ChatLSP</p>
<p style="position:absolute;top:412px;left:69px;white-space:nowrap" class="ft2227">Here&#160;we&#160;sketch&#160;a&#160;conservative&#160;extension&#160;to&#160;the&#160;Language&#160;Server&#160;Protocol&#160;to&#160;support&#160;static&#160;con-<br/>textualization,&#160;motivated&#160;in&#160;part&#160;the&#160;awkwardness&#160;of&#160;implementing&#160;static&#160;contextualization&#160;in</p>
<p style="position:absolute;top:448px;left:68px;white-space:nowrap" class="ft2220">TypeScript&#160;using&#160;its&#160;existing&#160;language&#160;server.&#160;The&#160;interface&#160;differs&#160;somewhat&#160;from&#160;the&#160;API&#160;we</p>
<p style="position:absolute;top:466px;left:69px;white-space:nowrap" class="ft2227">sketched&#160;incrementally&#160;in&#160;<a href="out.html#6">section&#160;2,&#160;</a>as&#160;the&#160;LSP&#160;is&#160;presentation-centric,&#160;operating&#160;in&#160;terms&#160;of&#160;strings<br/>and&#160;affordances&#160;rather&#160;than&#160;language-specific&#160;semantic&#160;data&#160;types.</p>
<p style="position:absolute;top:501px;left:84px;white-space:nowrap" class="ft2220">Immediately&#160;following,&#160;we&#160;will&#160;sketch&#160;how&#160;one&#160;might&#160;implement&#160;this&#160;ChatLSP&#160;API&#160;in&#160;terms</p>
<p style="position:absolute;top:519px;left:69px;white-space:nowrap" class="ft2227">of&#160;our&#160;Static&#160;Contextualization&#160;API,&#160;the&#160;latter&#160;serving&#160;more&#160;as&#160;an&#160;internal&#160;interface&#160;for&#160;language<br/>server&#160;implementers.</p>
<p style="position:absolute;top:580px;left:69px;white-space:nowrap" class="ft2219">5.1</p>
<p style="position:absolute;top:580px;left:103px;white-space:nowrap" class="ft2219">ChatLSP&#160;API&#160;Methods</p>
<p style="position:absolute;top:607px;left:84px;white-space:nowrap" class="ft2220">(1)&#160;aiTutorial:&#160;A&#160;constant&#160;(lexical-context-independent)&#160;method&#160;for&#160;low&#160;resource&#160;languages&#160;(like</p>
<p style="position:absolute;top:625px;left:105px;white-space:nowrap" class="ft2227">Hazel)&#160;to&#160;specify&#160;a&#160;textual&#160;tutorial&#160;intended&#160;for&#160;LLMs&#160;having&#160;robust&#160;support&#160;for&#160;in-context<br/>learning.&#160;For&#160;high&#160;resource&#160;languages,&#160;the&#160;default&#160;implementation&#160;will&#160;simply&#160;return&#160;a&#160;string<br/>stating&#160;which&#160;language&#160;is&#160;in&#160;use.</p>
<p style="position:absolute;top:679px;left:84px;white-space:nowrap" class="ft2227">(2)&#160;expectedType:&#160;Returns&#160;a&#160;string&#160;specifying&#160;the&#160;expected&#160;type&#160;at&#160;the&#160;cursor,&#160;if&#160;available<br/>(3)&#160;retrieveRelevantTypes:&#160;Returns&#160;a&#160;string&#160;containing&#160;type&#160;definitions&#160;that&#160;may&#160;be&#160;relevant</p>
<p style="position:absolute;top:715px;left:105px;white-space:nowrap" class="ft2220">at&#160;the&#160;cursor&#160;location</p>
<p style="position:absolute;top:732px;left:84px;white-space:nowrap" class="ft2220">(4)&#160;retrieveRelevantHeaders:&#160;Returns&#160;a&#160;string&#160;containing&#160;headers&#160;that&#160;may&#160;be&#160;relevant&#160;at&#160;the</p>
<p style="position:absolute;top:750px;left:105px;white-space:nowrap" class="ft2220">cursor&#160;location</p>
<p style="position:absolute;top:768px;left:84px;white-space:nowrap" class="ft2220">(5)&#160;errorReport:&#160;Returns&#160;an&#160;error&#160;report&#160;that&#160;can&#160;be&#160;used&#160;to&#160;determine&#160;if&#160;an&#160;error&#160;round&#160;is</p>
<p style="position:absolute;top:786px;left:105px;white-space:nowrap" class="ft2220">needed,&#160;and&#160;if&#160;so,&#160;how&#160;the&#160;feedback&#160;should&#160;be&#160;presented&#160;to&#160;the&#160;LLM.</p>
<p style="position:absolute;top:824px;left:84px;white-space:nowrap" class="ft2220">This&#160;API&#160;gives&#160;leeway&#160;to&#160;the&#160;language&#160;server&#160;to&#160;decide&#160;how&#160;to&#160;implement&#160;these&#160;commands.&#160;For&#160;a</p>
<p style="position:absolute;top:842px;left:69px;white-space:nowrap" class="ft2227">language&#160;with&#160;a&#160;rich&#160;static&#160;analyzer,&#160;e.g.&#160;GHC&#160;(Haskell)&#160;with&#160;its&#160;support&#160;for&#160;hole-oriented&#160;program-<br/>ming&#160;and&#160;existing&#160;functionality&#160;to&#160;retrieve&#160;relevant&#160;headers&#160;(e.g.&#160;see&#160;the&#160;work&#160;of&#160;<a href="out.html#27">Gissurarson[26]),<br/></a>it&#160;should&#160;be&#160;very&#160;straightforward&#160;to&#160;implement&#160;these&#160;five&#160;ChatLSP-specific&#160;commands.</p>
<p style="position:absolute;top:895px;left:84px;white-space:nowrap" class="ft2220">To&#160;sketch&#160;the&#160;language&#160;server&#160;side&#160;of&#160;this&#160;interface,&#160;we&#160;collect&#160;the&#160;<a href="out.html#6">section&#160;2&#160;</a>static&#160;contextualization</p>
<p style="position:absolute;top:913px;left:68px;white-space:nowrap" class="ft2220">API&#160;below.&#160;First,&#160;we&#160;define&#160;the&#160;following&#160;types&#160;aliases:</p>
<p style="position:absolute;top:951px;left:92px;white-space:nowrap" class="ft2238">•&#160;<b>type</b></p>
<p style="position:absolute;top:948px;left:136px;white-space:nowrap" class="ft2236">Header&#160;=&#160;(Name,&#160;Type)</p>
<p style="position:absolute;top:969px;left:92px;white-space:nowrap" class="ft2238">•&#160;<b>type</b></p>
<p style="position:absolute;top:966px;left:136px;white-space:nowrap" class="ft2236">Context&#160;=&#160;[Header]</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft229">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 23 -->
<a name="23"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page23-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out023.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2316">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft2316">288:23</p>
<p style="position:absolute;top:132px;left:69px;white-space:nowrap" class="ft2319">5.2</p>
<p style="position:absolute;top:132px;left:103px;white-space:nowrap" class="ft2319">Static&#160;Contextualization&#160;Language&#160;Server&#160;API</p>
<p style="position:absolute;top:154px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:152px;left:105px;white-space:nowrap" class="ft2326">getExpectedType:&#160;(Program,&#160;LexicalLocation)&#160;-&gt;&#160;Type</p>
<p style="position:absolute;top:172px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:170px;left:105px;white-space:nowrap" class="ft2326">getTypingContext:&#160;(Program,&#160;LexicalLocation)&#160;-&gt;&#160;Context</p>
<p style="position:absolute;top:190px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:187px;left:105px;white-space:nowrap" class="ft2326">extractAliases:&#160;Type&#160;-&gt;&#160;[TypeAlias]</p>
<p style="position:absolute;top:208px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:205px;left:105px;white-space:nowrap" class="ft2326">getTypeDefinition:&#160;TypeAlias&#160;-&gt;&#160;Type</p>
<p style="position:absolute;top:226px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:223px;left:105px;white-space:nowrap" class="ft2326">getTargetTypes:&#160;Type&#160;-&gt;&#160;[Type]</p>
<p style="position:absolute;top:243px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:241px;left:105px;white-space:nowrap" class="ft2326">filterContext:&#160;Context,&#160;Type&#160;-&gt;&#160;Context</p>
<p style="position:absolute;top:261px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:259px;left:105px;white-space:nowrap" class="ft2326">scoreEntry:&#160;Header&#160;-&gt;&#160;Float</p>
<p style="position:absolute;top:279px;left:92px;white-space:nowrap" class="ft2338">•</p>
<p style="position:absolute;top:277px;left:105px;white-space:nowrap" class="ft2326">getStaticErrors:&#160;Program&#160;-&gt;&#160;[StaticError]</p>
<p style="position:absolute;top:306px;left:84px;white-space:nowrap" class="ft2320">ChatLSP&#160;API&#160;methods&#160;(2)&#160;and&#160;(5)&#160;correspond&#160;directly&#160;to</p>
<p style="position:absolute;top:304px;left:427px;white-space:nowrap" class="ft2326">getExpectedType&#160;and&#160;getStaticErrors.</p>
<p style="position:absolute;top:324px;left:68px;white-space:nowrap" class="ft2320">The&#160;following&#160;pseudocode&#160;outlines&#160;how&#160;methods&#160;(3)&#160;and&#160;(4)&#160;could&#160;be&#160;implemented&#160;using&#160;the&#160;Static</p>
<p style="position:absolute;top:342px;left:69px;white-space:nowrap" class="ft2320">Contextualization&#160;Language&#160;Server&#160;API:</p>
<p style="position:absolute;top:366px;left:74px;white-space:nowrap" class="ft2326">retrieveRelevantTypes&#160;:&#160;Type&#160;→&#160;[Type]</p>
<p style="position:absolute;top:382px;left:74px;white-space:nowrap" class="ft2326">retrieveRelevantTypes&#160;t&#160;=&#160;concatMap&#160;(\&#160;alias&#160;→</p>
<p style="position:absolute;top:403px;left:90px;white-space:nowrap" class="ft2325"><b>let</b></p>
<p style="position:absolute;top:399px;left:122px;white-space:nowrap" class="ft2326">def&#160;=&#160;getTypeDefinition&#160;alias</p>
<p style="position:absolute;top:419px;left:90px;white-space:nowrap" class="ft2325"><b>in</b></p>
<p style="position:absolute;top:415px;left:114px;white-space:nowrap" class="ft2326">def&#160;:&#160;getRelevantTypes&#160;def)&#160;(&#160;extractAliases&#160;t)</p>
<p style="position:absolute;top:448px;left:74px;white-space:nowrap" class="ft2326">retrieveRelevantHeaders&#160;:&#160;Type&#160;→&#160;Context&#160;→&#160;[&#160;Header&#160;]</p>
<p style="position:absolute;top:465px;left:74px;white-space:nowrap" class="ft2326">retrieveRelevantHeaders&#160;t&#160;context&#160;=</p>
<p style="position:absolute;top:485px;left:90px;white-space:nowrap" class="ft2325"><b>let</b></p>
<p style="position:absolute;top:481px;left:123px;white-space:nowrap" class="ft2326">relevantTypes&#160;=&#160;retrieveRelevantTypes&#160;t</p>
<p style="position:absolute;top:497px;left:123px;white-space:nowrap" class="ft2326">filteredHeaders&#160;=&#160;concatMap&#160;(&#160;filterContext&#160;context&#160;)&#160;relevantTypes</p>
<p style="position:absolute;top:514px;left:123px;white-space:nowrap" class="ft2326">sortedHeaders&#160;=&#160;sortBy&#160;scoreEntry&#160;filteredHeaders</p>
<p style="position:absolute;top:534px;left:98px;white-space:nowrap" class="ft2325"><b>in</b></p>
<p style="position:absolute;top:530px;left:122px;white-space:nowrap" class="ft2326">take&#160;NUMHEADERS&#160;sortedHeaders</p>
<p style="position:absolute;top:563px;left:74px;white-space:nowrap" class="ft2324">--&#160;Usage&#160;(&#160;given&#160;a&#160;Program&#160;and&#160;a&#160;LexicalLocation&#160;)</p>
<p style="position:absolute;top:580px;left:74px;white-space:nowrap" class="ft2326">retrieveRelevantTypes&#160;(&#160;getExpectedType&#160;(Program&#160;,&#160;LexicalLocation&#160;))</p>
<p style="position:absolute;top:596px;left:74px;white-space:nowrap" class="ft2326">relevantHeaders&#160;=&#160;retrieveRelevantHeaders</p>
<p style="position:absolute;top:613px;left:90px;white-space:nowrap" class="ft2326">(&#160;getExpectedType&#160;Program&#160;LexicalLocation&#160;)</p>
<p style="position:absolute;top:629px;left:90px;white-space:nowrap" class="ft2326">(&#160;getTypingContext&#160;Program&#160;LexicalLocation&#160;)</p>
<p style="position:absolute;top:681px;left:69px;white-space:nowrap" class="ft2319">6</p>
<p style="position:absolute;top:681px;left:91px;white-space:nowrap" class="ft2319">Related&#160;work</p>
<p style="position:absolute;top:703px;left:68px;white-space:nowrap" class="ft2320">The&#160;introduction&#160;covered&#160;the&#160;broader&#160;literature&#160;on&#160;LLMs&#160;for&#160;code,&#160;so&#160;we&#160;focus&#160;here&#160;specifically&#160;on</p>
<p style="position:absolute;top:721px;left:69px;white-space:nowrap" class="ft2320">other&#160;methods&#160;for&#160;semantic&#160;contextualization&#160;of&#160;LLM-based&#160;code&#160;generation&#160;systems.</p>
<p style="position:absolute;top:739px;left:84px;white-space:nowrap" class="ft2320">Error&#160;correction&#160;using&#160;instruction-tuned&#160;models&#160;is&#160;a&#160;widespread&#160;technique&#160;and&#160;not&#160;itself&#160;a&#160;novel</p>
<p style="position:absolute;top:757px;left:69px;white-space:nowrap" class="ft2327">contribution&#160;of&#160;this&#160;paper,&#160;e.g.&#160;much&#160;work&#160;on&#160;program&#160;repair&#160;with&#160;LLMs&#160;is&#160;fundamentally&#160;rooted<br/>in&#160;this&#160;idea&#160;<a href="out.html#28">[33,&#160;</a><a href="out.html#29">63].&#160;</a>The&#160;contribution&#160;of&#160;this&#160;paper&#160;is&#160;the&#160;observation&#160;that&#160;error&#160;looping&#160;alone&#160;is<br/>not&#160;sufficient&#160;in&#160;a&#160;context-poor&#160;setting,&#160;and&#160;that&#160;error&#160;looping&#160;together&#160;with&#160;contextualization&#160;is<br/>the&#160;most&#160;effective&#160;technique,&#160;particularly&#160;for&#160;a&#160;low-resource&#160;language&#160;like&#160;Hazel.</p>
<p style="position:absolute;top:828px;left:84px;white-space:nowrap" class="ft2320">The&#160;observation&#160;that&#160;LLMs&#160;perform&#160;poorly&#160;when&#160;they&#160;lack&#160;repository-level&#160;context&#160;has&#160;been</p>
<p style="position:absolute;top:846px;left:69px;white-space:nowrap" class="ft2327">made&#160;in&#160;a&#160;number&#160;of&#160;recent&#160;papers,&#160;which&#160;have&#160;approached&#160;it&#160;in&#160;a&#160;variety&#160;of&#160;ways.&#160;We&#160;discussed<br/>the&#160;benchmarks&#160;used&#160;in&#160;these&#160;papers&#160;in&#160;<a href="out.html#4">subsubsection&#160;1.1.2&#160;</a>so&#160;we&#160;do&#160;not&#160;repeat&#160;the&#160;discussion&#160;here.</p>
<p style="position:absolute;top:882px;left:84px;white-space:nowrap" class="ft2320">RepoCoder&#160;<a href="out.html#30">[83]&#160;</a>uses&#160;vector&#160;retrieval&#160;to&#160;contextualize&#160;Python&#160;code.&#160;Our&#160;experiments&#160;demonstrate</p>
<p style="position:absolute;top:900px;left:69px;white-space:nowrap" class="ft2320">that&#160;vector&#160;retrieval&#160;is&#160;sensitive&#160;to&#160;semantic&#160;confounds&#160;easily&#160;handled&#160;by&#160;static&#160;retrieval.</p>
<p style="position:absolute;top:918px;left:84px;white-space:nowrap" class="ft2320">The&#160;Repo-Level&#160;Prompt&#160;Generator&#160;<a href="out.html#30">[67]&#160;</a>uses&#160;machine&#160;learning&#160;to&#160;decide&#160;how&#160;to&#160;construct&#160;a&#160;useful</p>
<p style="position:absolute;top:936px;left:69px;white-space:nowrap" class="ft2327">prompt,&#160;drawing&#160;information&#160;from&#160;coarse-grained&#160;static&#160;information&#160;like&#160;imports&#160;and&#160;parent-child<br/>relationships&#160;between&#160;classes.&#160;Even&#160;this&#160;level&#160;of&#160;contextualization&#160;showed&#160;substantial&#160;promise<br/>relative&#160;to&#160;baselines.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft239">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 24 -->
<a name="24"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page24-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out024.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2416">288:24</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft2416">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft2420">Pei&#160;et&#160;al.&#160;<a href="out.html#29">[60]&#160;</a>tackle&#160;the&#160;difficult&#160;problem&#160;of&#160;contextualizing&#160;Python&#160;function&#160;calls&#160;using&#160;a&#160;static</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft2420">analyzer&#160;from&#160;Python,&#160;which&#160;can&#160;provide&#160;function&#160;implementations&#160;and&#160;function&#160;usage&#160;examples.</p>
<p style="position:absolute;top:167px;left:68px;white-space:nowrap" class="ft2420">Again,&#160;even&#160;this&#160;level&#160;of&#160;contextualization&#160;is&#160;quite&#160;helpful.&#160;Our&#160;focus&#160;here&#160;was&#160;on&#160;gradually&#160;typed</p>
<p style="position:absolute;top:185px;left:69px;white-space:nowrap" class="ft2427">languages,&#160;and&#160;we&#160;did&#160;not&#160;include&#160;function&#160;implementations&#160;or&#160;usage&#160;examples,&#160;suggesting&#160;potential<br/>future&#160;work.</p>
<p style="position:absolute;top:221px;left:84px;white-space:nowrap" class="ft2420">CodeTrek&#160;<a href="out.html#29">[58]&#160;</a>also&#160;uses&#160;program&#160;analyses,&#160;generated&#160;from&#160;task-&#160;and&#160;error-relevant&#160;queries&#160;and</p>
<p style="position:absolute;top:239px;left:69px;white-space:nowrap" class="ft2420">expressed&#160;in&#160;CodeQL,&#160;to&#160;generate&#160;semantic&#160;contextualization&#160;for&#160;program&#160;repair&#160;tasks&#160;in&#160;Python.</p>
<p style="position:absolute;top:257px;left:68px;white-space:nowrap" class="ft2420">This&#160;too&#160;was&#160;quite&#160;effective&#160;and&#160;suggests&#160;that&#160;richer&#160;static&#160;analyses&#160;might&#160;be&#160;of&#160;interest&#160;in&#160;particular</p>
<p style="position:absolute;top:275px;left:69px;white-space:nowrap" class="ft2427">settings.&#160;For&#160;hole&#160;filling,&#160;however,&#160;it&#160;may&#160;be&#160;that&#160;lightweight&#160;static&#160;methods,&#160;like&#160;type&#160;checking,<br/>are&#160;more&#160;efficient.&#160;However,&#160;we&#160;look&#160;forward&#160;to&#160;future&#160;direct&#160;comparisons&#160;of&#160;these&#160;methods.</p>
<p style="position:absolute;top:311px;left:84px;white-space:nowrap" class="ft2420">Li&#160;et&#160;al.&#160;<a href="out.html#28">[38]&#160;</a>also&#160;identify&#160;the&#160;semantic&#160;contextualization&#160;problem&#160;and&#160;propose&#160;IDECoder,&#160;a</p>
<p style="position:absolute;top:329px;left:69px;white-space:nowrap" class="ft2427">system&#160;that&#160;uses&#160;the&#160;static&#160;information&#160;tracked&#160;by&#160;an&#160;IDE&#160;or&#160;language&#160;server&#160;to&#160;contextualize&#160;LLM<br/>code&#160;completion.&#160;This&#160;is&#160;an&#160;outline&#160;of&#160;early&#160;experiments&#160;in&#160;this&#160;direction&#160;which&#160;have&#160;not&#160;yet&#160;been<br/>fully&#160;evaluated,&#160;but&#160;we&#160;agree&#160;with&#160;the&#160;thrusts&#160;of&#160;the&#160;argument&#160;made&#160;here&#160;and&#160;look&#160;forward&#160;to<br/>additional&#160;experimentation&#160;in&#160;this&#160;direction&#160;by&#160;the&#160;community.</p>
<p style="position:absolute;top:400px;left:84px;white-space:nowrap" class="ft2420">CoCoMIC&#160;<a href="out.html#27">[19]&#160;</a>is&#160;a&#160;framework&#160;that&#160;learns&#160;in-file&#160;and&#160;cross-file&#160;context&#160;jointly&#160;atop&#160;an&#160;LLM.</p>
<p style="position:absolute;top:418px;left:68px;white-space:nowrap" class="ft2420">This&#160;differs&#160;from&#160;our&#160;approach&#160;in&#160;that&#160;it&#160;deploys&#160;a&#160;learning&#160;step&#160;to&#160;decide&#160;which&#160;cross-file&#160;context</p>
<p style="position:absolute;top:436px;left:69px;white-space:nowrap" class="ft2427">to&#160;attend&#160;to,&#160;which&#160;may&#160;be&#160;subject&#160;to&#160;similar&#160;issues&#160;as&#160;vector&#160;retrieval&#160;approaches&#160;when&#160;given<br/>confounding&#160;contexts.&#160;However,&#160;this&#160;represents&#160;a&#160;fascinating&#160;future&#160;direction&#160;when&#160;combined&#160;with<br/>static&#160;retrieval,&#160;which&#160;can&#160;often&#160;lead&#160;to&#160;too&#160;much&#160;information&#160;to&#160;include&#160;in&#160;a&#160;token&#160;window.</p>
<p style="position:absolute;top:490px;left:84px;white-space:nowrap" class="ft2420">In&#160;a&#160;similar&#160;vein,&#160;RLCoder&#160;<a href="out.html#30">[76]&#160;</a>uses&#160;reinforcement&#160;learning&#160;to&#160;rank&#160;retrieved&#160;code&#160;snippets</p>
<p style="position:absolute;top:508px;left:69px;white-space:nowrap" class="ft2427">for&#160;repository-level&#160;code&#160;completion.&#160;Seemingly&#160;uniquely,&#160;they&#160;do&#160;not&#160;simply&#160;return&#160;the&#160;top&#160;k<br/>candidates,&#160;but&#160;impose&#160;a&#160;stop&#160;threshold,&#160;which&#160;may&#160;result&#160;in&#160;no&#160;candidates&#160;being&#160;added&#160;to&#160;the<br/>prompt&#160;if&#160;they&#160;are&#160;deemed&#160;of&#160;negative&#160;worth.&#160;Our&#160;StarCoder&#160;results&#160;suggest&#160;smaller&#160;models&#160;are<br/>especially&#160;sensitive&#160;to&#160;plausible&#160;but&#160;irrelevant&#160;inclusions,&#160;further&#160;supporting&#160;this&#160;line&#160;of&#160;investigation.</p>
<p style="position:absolute;top:580px;left:68px;white-space:nowrap" class="ft2420">A&#160;similar&#160;RL-based&#160;approach&#160;using&#160;statically&#160;derived&#160;candidates&#160;seems&#160;a&#160;promising&#160;future&#160;direction.</p>
<p style="position:absolute;top:598px;left:84px;white-space:nowrap" class="ft2420">Dehallucinator&#160;<a href="out.html#27">[22]&#160;</a>is&#160;an&#160;approach&#160;that&#160;performs&#160;semantic&#160;lookup&#160;after&#160;an&#160;initial&#160;generation</p>
<p style="position:absolute;top:616px;left:69px;white-space:nowrap" class="ft2427">phase&#160;to&#160;lookup&#160;potentially&#160;relevant&#160;definitions&#160;that&#160;were&#160;invalid,&#160;e.g.&#160;not&#160;in&#160;scope.&#160;This&#160;is&#160;a<br/>more&#160;sophisticated&#160;form&#160;of&#160;error&#160;correction&#160;and&#160;could&#160;be&#160;combined&#160;with&#160;the&#160;kind&#160;of&#160;proactive<br/>contextualization&#160;that&#160;we’ve&#160;described.</p>
<p style="position:absolute;top:669px;left:84px;white-space:nowrap" class="ft2420">Agrawal&#160;et&#160;al.&#160;<a href="out.html#26">[2]&#160;</a>and&#160;Wei&#160;et&#160;al.&#160;<a href="out.html#30">[77]&#160;</a>propose&#160;an&#160;approach&#160;that&#160;modifies&#160;token&#160;sampling&#160;by</p>
<p style="position:absolute;top:687px;left:69px;white-space:nowrap" class="ft2427">leveraging&#160;the&#160;semantic&#160;code&#160;completion&#160;systems&#160;already&#160;available&#160;in&#160;modern&#160;IDEs,&#160;which&#160;implicitly<br/>provide&#160;some&#160;context.&#160;One&#160;issue&#160;with&#160;this&#160;approach&#160;is&#160;that&#160;they&#160;can&#160;only&#160;sample&#160;from&#160;tokens&#160;that<br/>the&#160;model&#160;has&#160;assigned&#160;some&#160;baseline&#160;level&#160;of&#160;probability,&#160;but&#160;without&#160;semantic&#160;context&#160;this&#160;may<br/>not&#160;be&#160;the&#160;case.&#160;There&#160;is&#160;likely&#160;substantial&#160;room&#160;for&#160;future&#160;work&#160;in&#160;combining&#160;static&#160;retrieval&#160;with<br/>this&#160;sort&#160;of&#160;structure-guided&#160;sampling,&#160;and&#160;perhaps&#160;with&#160;providing&#160;more&#160;fine-grained&#160;retrieval&#160;at<br/>each&#160;token&#160;rather&#160;than&#160;once&#160;at&#160;the&#160;onset&#160;of&#160;code&#160;completion.</p>
<p style="position:absolute;top:795px;left:84px;white-space:nowrap" class="ft2420">Zan&#160;et&#160;al.&#160;<a href="out.html#30">[82]&#160;</a>retrieves&#160;potentially&#160;relevant&#160;code&#160;from&#160;API&#160;documentation,&#160;then&#160;further&#160;proposes</p>
<p style="position:absolute;top:813px;left:69px;white-space:nowrap" class="ft2427">a&#160;continuous&#160;training&#160;approach&#160;to&#160;incorporate&#160;this&#160;information&#160;into&#160;the&#160;model&#160;weights.&#160;In&#160;contrast,<br/>our&#160;approach&#160;is&#160;focused&#160;on&#160;black-box&#160;pre-trained&#160;models.&#160;In&#160;the&#160;future,&#160;incorporating&#160;commonly<br/>used&#160;private&#160;APIs&#160;into&#160;a&#160;continuous&#160;training&#160;loop&#160;would&#160;improve&#160;token&#160;efficiency,&#160;leaving&#160;more<br/>room&#160;in&#160;the&#160;context&#160;for&#160;truly&#160;novel&#160;definitions.</p>
<p style="position:absolute;top:885px;left:84px;white-space:nowrap" class="ft2420">Zhang&#160;et&#160;al.&#160;<a href="out.html#31">[86]&#160;</a>builds&#160;a&#160;prompt&#160;context&#160;for&#160;program&#160;repair&#160;by&#160;retrieving&#160;class&#160;signatures&#160;and</p>
<p style="position:absolute;top:903px;left:69px;white-space:nowrap" class="ft2427">method&#160;implementations&#160;based&#160;on&#160;model-extracted&#160;keywords&#160;from&#160;GitHub&#160;issue&#160;descriptions.&#160;This<br/>is&#160;similar&#160;(and&#160;likely&#160;complementary)&#160;to&#160;our&#160;approach&#160;in&#160;that&#160;the&#160;authors&#160;define&#160;an&#160;LSP-like&#160;API&#160;for<br/>retrieval,&#160;but&#160;base&#160;this&#160;retrieval&#160;on&#160;inferring&#160;intent&#160;from&#160;unstructured&#160;text&#160;rather&#160;than&#160;cursor-local<br/>derived&#160;semantics.</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft249">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 25 -->
<a name="25"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page25-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out025.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2516">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft2516">288:25</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft2520">Chakraborty&#160;et&#160;al.&#160;<a href="out.html#27">[16]&#160;</a>uses&#160;RAG-based&#160;methods&#160;to&#160;retrieve&#160;relevant&#160;types&#160;from&#160;a&#160;large&#160;corpus&#160;to</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft2527">support&#160;synthesis&#160;of&#160;programs/proofs&#160;in&#160;the&#160;dependently-typed&#160;F*&#160;language.&#160;Corpus-based&#160;RAG&#160;on<br/>types&#160;is&#160;complementary&#160;to&#160;our&#160;approach,&#160;as&#160;it&#160;provides&#160;an&#160;avenue&#160;to&#160;retrieve&#160;semantically-similar<br/>code&#160;in&#160;cases&#160;where&#160;there&#160;are&#160;no&#160;local&#160;values&#160;with&#160;appropriate&#160;types.</p>
<p style="position:absolute;top:203px;left:84px;white-space:nowrap" class="ft2520">Parasaram&#160;et&#160;al.&#160;<a href="out.html#29">[57]&#160;</a>examines&#160;the&#160;issue&#160;of&#160;‘fact&#160;selection’&#160;for&#160;program&#160;repair&#160;prompt&#160;construction:</p>
<p style="position:absolute;top:221px;left:69px;white-space:nowrap" class="ft2527">How&#160;to&#160;decide&#160;which&#160;context&#160;to&#160;include&#160;and&#160;how&#160;that&#160;decision&#160;effects&#160;performance.&#160;They&#160;consider<br/>multiple&#160;types&#160;of&#160;static&#160;and&#160;dynamic&#160;information,&#160;with&#160;particular&#160;focus&#160;on&#160;localized&#160;dynamics,<br/>complementary&#160;to&#160;our&#160;more&#160;specific&#160;treatment&#160;of&#160;localized&#160;static&#160;information.</p>
<p style="position:absolute;top:275px;left:84px;white-space:nowrap" class="ft2520">Liu&#160;et&#160;al.&#160;<a href="out.html#28">[39]&#160;</a>have&#160;very&#160;recently&#160;proposed&#160;a&#160;general&#160;framework&#160;for&#160;applying&#160;static&#160;analysis</p>
<p style="position:absolute;top:293px;left:69px;white-space:nowrap" class="ft2527">to&#160;repository-level&#160;code&#160;completion.&#160;They&#160;consider&#160;integration&#160;across&#160;three&#160;phases:&#160;prompting,<br/>decoding,&#160;and&#160;post-processing,&#160;the&#160;first&#160;and&#160;last&#160;corresponding&#160;to&#160;our&#160;static&#160;contextualization<br/>and&#160;correction&#160;approaches.&#160;In&#160;particular,&#160;their&#160;‘token-level&#160;dependency&#160;analysis’,&#160;which&#160;uses<br/>Java/Python&#160;static&#160;analyzers&#160;to&#160;add&#160;a&#160;list&#160;of&#160;plausible&#160;next&#160;tokens&#160;to&#160;the&#160;prompt,&#160;is&#160;similar&#160;to&#160;our<br/>header&#160;retrieval&#160;strategy.</p>
<p style="position:absolute;top:383px;left:84px;white-space:nowrap" class="ft2520">Significant&#160;industry&#160;work&#160;in&#160;contextualizing&#160;code&#160;generation&#160;includes&#160;the&#160;now-standard&#160;keyword</p>
<p style="position:absolute;top:400px;left:69px;white-space:nowrap" class="ft2527">and&#160;vector&#160;embeddings&#160;approaches&#160;(as&#160;used&#160;for&#160;example&#160;by&#160;Sourcegraph&#160;Cody&#160;<a href="out.html#30">[70]),&#160;</a>but&#160;many<br/>recognize&#160;new&#160;approaches&#160;are&#160;needed:&#160;the&#160;authors&#160;of&#160;the&#160;Cursor&#160;AI&#160;Code&#160;Editor&#160;call&#160;for&#160;better<br/>multi-hop&#160;retrieval&#160;<a href="out.html#26">[6],&#160;</a>a&#160;natural&#160;fit&#160;for&#160;structured&#160;scope-and-semantics-aware&#160;contextualization.</p>
<p style="position:absolute;top:454px;left:68px;white-space:nowrap" class="ft2520">The&#160;Zed&#160;editor&#160;features&#160;affordances&#160;for&#160;programmers&#160;to&#160;manually&#160;build&#160;and&#160;inspect&#160;prompt&#160;contexts</p>
<p style="position:absolute;top:472px;left:69px;white-space:nowrap" class="ft2520"><a href="out.html#30">[69]&#160;</a>which&#160;may&#160;facilitate&#160;exploration&#160;of&#160;the&#160;relative&#160;benefits&#160;of&#160;different&#160;contextualization&#160;methods.</p>
<p style="position:absolute;top:490px;left:68px;white-space:nowrap" class="ft2527">The&#160;Aider&#160;‘AI&#160;pair&#160;programmer’&#160;uses&#160;Tree-sitter&#160;ASTs&#160;to&#160;augment&#160;prompts&#160;with&#160;a&#160;condensed<br/>whole-codebase&#160;map&#160;<a href="out.html#26">[3],&#160;</a>an&#160;approach&#160;we&#160;believe&#160;may&#160;synergize&#160;with&#160;using&#160;cursor-local&#160;semantic</p>
<p style="position:absolute;top:526px;left:69px;white-space:nowrap" class="ft2520">information&#160;to&#160;control&#160;the&#160;granularity&#160;of&#160;such&#160;a&#160;projection.</p>
<p style="position:absolute;top:544px;left:84px;white-space:nowrap" class="ft2520">Finally,&#160;we&#160;note&#160;that&#160;there&#160;is&#160;also&#160;a&#160;vast&#160;literature&#160;on&#160;non-LLM-based&#160;code&#160;generation&#160;systems,</p>
<p style="position:absolute;top:562px;left:69px;white-space:nowrap" class="ft2520">some&#160;of&#160;which&#160;also&#160;use&#160;types&#160;to&#160;restrict&#160;the&#160;search&#160;space&#160;<a href="out.html#29">[55].&#160;</a>Our&#160;approach&#160;helps&#160;bring&#160;these&#160;two</p>
<p style="position:absolute;top:580px;left:68px;white-space:nowrap" class="ft2527">worlds&#160;together,&#160;e.g.&#160;by&#160;using&#160;a&#160;form&#160;of&#160;typed&#160;term&#160;enumeration&#160;to&#160;generate&#160;the&#160;relevant&#160;headers.<br/>We&#160;hope&#160;that&#160;our&#160;results&#160;will&#160;lead&#160;to&#160;more&#160;interactions&#160;between&#160;the&#160;programming&#160;languages&#160;and</p>
<p style="position:absolute;top:616px;left:69px;white-space:nowrap" class="ft2520">the&#160;AI&#160;communities.</p>
<p style="position:absolute;top:647px;left:69px;white-space:nowrap" class="ft2519">7</p>
<p style="position:absolute;top:647px;left:91px;white-space:nowrap" class="ft2519">Discussion&#160;and&#160;Conclusion</p>
<p style="position:absolute;top:669px;left:68px;white-space:nowrap" class="ft2520">An&#160;AI&#160;model,&#160;no&#160;matter&#160;how&#160;powerful,&#160;cannot&#160;determine&#160;a&#160;human’s&#160;intent&#160;without&#160;access&#160;to</p>
<p style="position:absolute;top:687px;left:69px;white-space:nowrap" class="ft2527">necessary&#160;context.&#160;Most&#160;existing&#160;attempts&#160;to&#160;provide&#160;this&#160;contextualization&#160;are&#160;lexically&#160;grounded,<br/>deriving&#160;from&#160;loose,&#160;associative&#160;methods&#160;developed&#160;for&#160;natural&#160;language.&#160;We&#160;believe&#160;that&#160;typed<br/>holes&#160;provide&#160;a&#160;bridge&#160;between&#160;local&#160;expressions&#160;of&#160;human&#160;intent&#160;and&#160;broader&#160;semantic&#160;context,<br/>and&#160;that&#160;type&#160;theory&#160;provides&#160;a&#160;formal&#160;characterization&#160;of&#160;contextualization,&#160;rooted&#160;fundamentally<br/>in&#160;the&#160;notion&#160;of&#160;typing&#160;contexts.&#160;In&#160;particular,&#160;contextual&#160;modal&#160;type&#160;theory&#160;(CMTT)&#160;<a href="out.html#29">[48]&#160;</a>and<br/>gradual&#160;type&#160;theory&#160;<a href="out.html#30">[68]&#160;</a>provide&#160;a&#160;foundation&#160;for&#160;program&#160;sketching&#160;with&#160;holes,&#160;where&#160;expression<br/>holes&#160;corresponding&#160;to&#160;metavariables&#160;with&#160;a&#160;corresponding&#160;type&#160;and&#160;typing&#160;context&#160;and&#160;type&#160;holes<br/>correspond&#160;to&#160;unknown&#160;types.&#160;The&#160;Hazel&#160;programming&#160;environment,&#160;with&#160;its&#160;roots&#160;in&#160;gradual<br/>CMTT&#160;<a href="out.html#29">[50]&#160;</a>as&#160;a&#160;foundational&#160;theory&#160;of&#160;holes&#160;and&#160;its&#160;support&#160;for&#160;total&#160;syntax&#160;and&#160;type&#160;error&#160;recovery</p>
<p style="position:absolute;top:849px;left:68px;white-space:nowrap" class="ft2520">with&#160;holes&#160;<a href="out.html#29">[47,&#160;</a><a href="out.html#31">87],&#160;</a>therefore&#160;presents&#160;an&#160;ideal&#160;environment&#160;for&#160;statically&#160;contextualizing&#160;large</p>
<p style="position:absolute;top:867px;left:69px;white-space:nowrap" class="ft2527">language&#160;models&#160;with&#160;typed&#160;holes.&#160;Our&#160;results&#160;demonstrate&#160;that&#160;this&#160;form&#160;of&#160;contextualization,<br/>together&#160;with&#160;some&#160;in-context&#160;prompting&#160;about&#160;the&#160;specific&#160;choices&#160;made&#160;in&#160;Hazel,&#160;a&#160;low-resource<br/>language,&#160;can&#160;take&#160;a&#160;model&#160;incapable&#160;of&#160;even&#160;basic&#160;MVU&#160;tasks&#160;up&#160;to,&#160;or&#160;nearly&#160;up&#160;to,&#160;the&#160;performance<br/>observed&#160;in&#160;a&#160;fully&#160;contextualized&#160;setting&#160;for&#160;a&#160;high&#160;resource&#160;language&#160;like&#160;TypeScript.&#160;These&#160;ideas<br/>have&#160;been&#160;realized&#160;in&#160;a&#160;functional&#160;programming&#160;assistant,&#160;the&#160;Hazel&#160;Assistant.</p>
<p style="position:absolute;top:956px;left:84px;white-space:nowrap" class="ft2520">These&#160;ideas&#160;can&#160;also&#160;be&#160;ported&#160;directly&#160;to&#160;other&#160;languages,&#160;like&#160;TypeScript,&#160;albeit&#160;with&#160;some</p>
<p style="position:absolute;top:974px;left:69px;white-space:nowrap" class="ft2520">difficulty&#160;due&#160;to&#160;limitations&#160;of&#160;standard&#160;language&#160;servers.</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft259">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 26 -->
<a name="26"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2648{font-size:15px;font-family:JZXWNF+LinLibertineT;color:#155195;}
	.ft2649{font-size:12px;font-family:JZXWNF+LinLibertineT;color:#155195;}
	.ft2650{font-size:12px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
	.ft2651{font-size:15px;line-height:17px;font-family:JZXWNF+LinLibertineT;color:#155195;}
	.ft2652{font-size:12px;line-height:14px;font-family:JZXWNF+LinLibertineT;color:#155195;}
	.ft2653{font-size:12px;line-height:15px;font-family:JZXWNF+LinLibertineT;color:#000000;}
-->
</style>
<div id="page26-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out026.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2616">288:26</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft2616">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:131px;left:84px;white-space:nowrap" class="ft2620">Our&#160;comparisons&#160;to&#160;vector&#160;retrieval,&#160;a&#160;language-agnostic&#160;approach,&#160;suggests&#160;that&#160;language-aware</p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft2627">programming&#160;assistants&#160;may&#160;significantly&#160;outperform&#160;language-agnostic&#160;retrieval&#160;systems&#160;in&#160;the<br/>short-&#160;and&#160;medium-term,&#160;and&#160;perhaps&#160;far&#160;into&#160;the&#160;future.</p>
<p style="position:absolute;top:185px;left:84px;white-space:nowrap" class="ft2620">Additional&#160;forms&#160;of&#160;semantic&#160;contextualization,&#160;e.g.&#160;using&#160;dynamic&#160;test&#160;results&#160;passed&#160;backwards</p>
<p style="position:absolute;top:203px;left:69px;white-space:nowrap" class="ft2627">to&#160;holes&#160;<a href="out.html#29">[45],&#160;</a>the&#160;results&#160;of&#160;various&#160;static&#160;and&#160;dynamic&#160;analyses,&#160;and&#160;the&#160;result&#160;of&#160;library&#160;searches<br/>to&#160;find&#160;helpers&#160;that&#160;may&#160;not&#160;yet&#160;be&#160;imported&#160;are&#160;interesting&#160;avenues&#160;for&#160;future&#160;work.</p>
<p style="position:absolute;top:259px;left:69px;white-space:nowrap" class="ft2619">8</p>
<p style="position:absolute;top:259px;left:91px;white-space:nowrap" class="ft2619">Data&#160;Availability</p>
<p style="position:absolute;top:281px;left:68px;white-space:nowrap" class="ft2620">An&#160;artefact&#160;<a href="out.html#27">[11]&#160;</a>containing&#160;the&#160;MVUBench&#160;program&#160;sketches&#160;and&#160;solutions,&#160;the&#160;raw&#160;data&#160;of&#160;our</p>
<p style="position:absolute;top:299px;left:69px;white-space:nowrap" class="ft2651">experiments,&#160;our&#160;testing&#160;harness,&#160;the&#160;source&#160;of&#160;the&#160;Hazel&#160;IDE&#160;and&#160;Language&#160;Server,&#160;and&#160;a&#160;copy&#160;of<br/>the&#160;StarCoder2&#160;model&#160;used&#160;is&#160;available&#160;on&#160;Zenodo.&#160;The&#160;artefact&#160;is&#160;password-protected&#160;to&#160;prevent<br/>automatic&#160;scrapping&#160;of&#160;the&#160;benchmark&#160;suite;&#160;the&#160;password&#160;can&#160;be&#160;found&#160;in&#160;the&#160;artefact&#160;description.<br/>Hazel&#160;can&#160;be&#160;accessed&#160;online&#160;at&#160;<a href="https://hazel.org">https://hazel.org,&#160;</a>with&#160;source&#160;available&#160;at&#160;<a href="https://github.com/hazelgrove/hazel/">https://github.com/<br/>hazelgrove/hazel/.</a></p>
<p style="position:absolute;top:408px;left:69px;white-space:nowrap" class="ft2619">9</p>
<p style="position:absolute;top:408px;left:91px;white-space:nowrap" class="ft2619">Acknowledgements</p>
<p style="position:absolute;top:430px;left:68px;white-space:nowrap" class="ft2620">We&#160;would&#160;like&#160;to&#160;thank&#160;our&#160;referees&#160;for&#160;their&#160;helpful&#160;feedback,&#160;and&#160;our&#160;artefact&#160;reviewers&#160;for&#160;their</p>
<p style="position:absolute;top:448px;left:69px;white-space:nowrap" class="ft2620">diligent&#160;efforts.</p>
<p style="position:absolute;top:466px;left:84px;white-space:nowrap" class="ft2620">The&#160;(public&#160;domain)&#160;programmer&#160;photo&#160;in&#160;<a href="out.html#2">Figure&#160;1&#160;</a>and&#160;<a href="out.html#9">Figure&#160;6&#160;</a>depicts&#160;ENIAC&#160;programmer</p>
<p style="position:absolute;top:484px;left:69px;white-space:nowrap" class="ft2627">Ruth&#160;Teitelbaum&#160;<a href="out.html#30">[72].&#160;</a>The&#160;language&#160;server&#160;and&#160;language&#160;model&#160;images&#160;were&#160;prompted&#160;by&#160;the<br/>authors&#160;using&#160;the&#160;Bing&#160;AI&#160;Image&#160;Creator;&#160;Microsoft&#160;claims&#160;no&#160;copyright&#160;over&#160;generations&#160;<a href="out.html#29">[46].</a></p>
<p style="position:absolute;top:520px;left:84px;white-space:nowrap" class="ft2620">Claude&#160;and&#160;ChatGPT&#160;were&#160;used&#160;to&#160;author&#160;scripts&#160;for&#160;our&#160;testing&#160;harness&#160;and&#160;data&#160;processing</p>
<p style="position:absolute;top:538px;left:69px;white-space:nowrap" class="ft2627">pipeline,&#160;and&#160;aid&#160;in&#160;the&#160;transliteration&#160;of&#160;the&#160;MVUBench&#160;suite&#160;to&#160;TypeScript.&#160;In&#160;so&#160;doing&#160;we&#160;are<br/>putting&#160;faith&#160;in&#160;stated&#160;Anthropic&#160;policy&#160;of&#160;not&#160;including&#160;prompts&#160;in&#160;future&#160;training&#160;data&#160;<a href="out.html#26">[5],&#160;</a>which<br/>could&#160;be&#160;a&#160;source&#160;of&#160;data&#160;contamination&#160;as&#160;described&#160;in&#160;<a href="out.html#2">section&#160;1.&#160;</a>After&#160;some&#160;discussion&#160;we&#160;decided<br/>that&#160;absolute&#160;purity&#160;was&#160;a&#160;losing&#160;battle,&#160;as&#160;there&#160;was&#160;already&#160;a&#160;near-certainty&#160;that&#160;the&#160;code&#160;was<br/>opened&#160;and&#160;edited&#160;in&#160;a&#160;Copilot-enabled&#160;IDE;&#160;true&#160;clean-room&#160;behavior&#160;with&#160;respect&#160;to&#160;benchmark<br/>data&#160;seems&#160;likely&#160;to&#160;prove&#160;increasingly&#160;difficult&#160;as&#160;LLM&#160;integration&#160;becomes&#160;more&#160;prevalent.</p>
<p style="position:absolute;top:646px;left:84px;white-space:nowrap" class="ft2620">This&#160;work&#160;was&#160;partially&#160;funded&#160;by&#160;the&#160;National&#160;Science&#160;Foundation&#160;(Award&#160;#2238744).</p>
<p style="position:absolute;top:683px;left:69px;white-space:nowrap" class="ft2619">References</p>
<p style="position:absolute;top:704px;left:74px;white-space:nowrap" class="ft269">[1]&#160;Josh&#160;Achiam,&#160;Steven&#160;Adler,&#160;Sandhini&#160;Agarwal,&#160;Lama&#160;Ahmad,&#160;Ilge&#160;Akkaya,&#160;Florencia&#160;Leoni&#160;Aleman,&#160;Diogo&#160;Almeida,</p>
<p style="position:absolute;top:719px;left:94px;white-space:nowrap" class="ft269">Janko&#160;Altenschmidt,&#160;Sam&#160;Altman,&#160;Shyamal&#160;Anadkat,&#160;et&#160;al.&#160;2023.&#160;GPT-4&#160;technical&#160;report.&#160;<a href="https://arxiv.org/abs/2303.08774">arXiv:2303.08774&#160;</a>[cs.AI]</p>
<p style="position:absolute;top:734px;left:74px;white-space:nowrap" class="ft269">[2]&#160;Lakshya&#160;A&#160;Agrawal,&#160;Aditya&#160;Kanade,&#160;Navin&#160;Goyal,&#160;Shuvendu&#160;Lahiri,&#160;and&#160;Sriram&#160;Rajamani.&#160;2023.&#160;Monitor-Guided</p>
<p style="position:absolute;top:749px;left:94px;white-space:nowrap" class="ft2652">Decoding&#160;of&#160;Code&#160;LMs&#160;with&#160;Static&#160;Analysis&#160;of&#160;Repository&#160;Context.&#160;In&#160;Advances&#160;in&#160;Neural&#160;Information&#160;Processing&#160;Systems,<br/>Vol.&#160;36.&#160;32270–32298.&#160;<a href="https://proceedings.neurips.cc/paper_files/paper/2023/file/662b1774ba8845fc1fa3d1fc0177ceeb-Paper-Conference.pdf">https://proceedings.neurips.cc/paper_files/paper/2023/file/662b1774ba8845fc1fa3d1fc0177ceeb-<br/>Paper-Conference.pdf</a></p>
<p style="position:absolute;top:794px;left:74px;white-space:nowrap" class="ft269">[3]&#160;Aider.&#160;2023.&#160;Building&#160;a&#160;better&#160;repository&#160;map&#160;with&#160;tree&#160;sitter.&#160;<a href="https://aider.chat/2023/10/22/repomap.html">https://aider.chat/2023/10/22/repomap.html&#160;</a>[Accessed</p>
<p style="position:absolute;top:809px;left:94px;white-space:nowrap" class="ft269">August&#160;31,&#160;2024].</p>
<p style="position:absolute;top:824px;left:74px;white-space:nowrap" class="ft2652">[4]&#160;Anthropic.&#160;2024.&#160;Introducing&#160;the&#160;next&#160;generation&#160;of&#160;Claude.&#160;<a href="https://www.anthropic.com/news/claude-3-family">https://www.anthropic.com/news/claude-3-family<br/></a>[5]&#160;Antropic.&#160;2024.&#160;How&#160;do&#160;you&#160;use&#160;personal&#160;data&#160;in&#160;model&#160;training?&#160;<a href="https://support.anthropic.com/en/articles/7996885-how-do-you-use-personal-data-in-model-training">https://support.anthropic.com/en/articles/7996885-</a></p>
<p style="position:absolute;top:854px;left:94px;white-space:nowrap" class="ft2649"><a href="https://support.anthropic.com/en/articles/7996885-how-do-you-use-personal-data-in-model-training">how-do-you-use-personal-data-in-model-training&#160;</a>[Accessed&#160;September&#160;1,&#160;2024].</p>
<p style="position:absolute;top:869px;left:74px;white-space:nowrap" class="ft2615">[6]&#160;Anysphere.&#160;2024.&#160;Cursor&#160;Problems&#160;2024.&#160;<a href="https://www.cursor.com/blog/problems-2024">https://www.cursor.com/blog/problems-2024&#160;</a>[Accessed&#160;August&#160;31,&#160;2024].<br/>[7]&#160;Jacob&#160;Austin,&#160;Augustus&#160;Odena,&#160;Maxwell&#160;I.&#160;Nye,&#160;Maarten&#160;Bosma,&#160;Henryk&#160;Michalewski,&#160;David&#160;Dohan,&#160;Ellen&#160;Jiang,</p>
<p style="position:absolute;top:899px;left:94px;white-space:nowrap" class="ft2653">Carrie&#160;J.&#160;Cai,&#160;Michael&#160;Terry,&#160;Quoc&#160;V.&#160;Le,&#160;and&#160;Charles&#160;Sutton.&#160;2021.&#160;Program&#160;Synthesis&#160;with&#160;Large&#160;Language&#160;Models.<br/>CoRR&#160;abs/2108.07732&#160;(2021).&#160;<a href="https://arxiv.org/abs/2108.07732">arXiv:2108.07732</a></p>
<p style="position:absolute;top:929px;left:74px;white-space:nowrap" class="ft269">[8]&#160;Thomas&#160;Bandt.&#160;2020.&#160;Pragmatic&#160;MVU&#160;With&#160;React&#160;And&#160;TypeScript.&#160;(2020).&#160;<a href="https://thomasbandt.com/model-view-update-with-react-and-typescript">https://thomasbandt.com/model-view-</a></p>
<p style="position:absolute;top:944px;left:94px;white-space:nowrap" class="ft2649"><a href="https://thomasbandt.com/model-view-update-with-react-and-typescript">update-with-react-and-typescript.</a></p>
<p style="position:absolute;top:958px;left:74px;white-space:nowrap" class="ft269">[9]&#160;Shraddha&#160;Barke,&#160;Michael&#160;B.&#160;James,&#160;and&#160;Nadia&#160;Polikarpova.&#160;2023.&#160;Grounded&#160;Copilot:&#160;How&#160;Programmers&#160;Interact&#160;with</p>
<p style="position:absolute;top:973px;left:94px;white-space:nowrap" class="ft269">Code-Generating&#160;Models.&#160;Proc.&#160;ACM&#160;Program.&#160;Lang.&#160;7,&#160;OOPSLA1&#160;(2023),&#160;85–111.&#160;<a href="https://doi.org/10.1145/3586030">https://doi.org/10.1145/3586030</a></p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft269">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 27 -->
<a name="27"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2754{font-size:12px;line-height:15px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
-->
</style>
<div id="page27-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out027.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2716">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft2716">288:27</p>
<p style="position:absolute;top:134px;left:69px;white-space:nowrap" class="ft279">[10]&#160;Djonathan&#160;Barros,&#160;Sven&#160;Peldszus,&#160;Wesley&#160;K.&#160;G.&#160;Assunção,&#160;and&#160;Thorsten&#160;Berger.&#160;2022.&#160;Editing&#160;support&#160;for&#160;software</p>
<p style="position:absolute;top:149px;left:94px;white-space:nowrap" class="ft2715">languages:&#160;implementation&#160;practices&#160;in&#160;language&#160;server&#160;protocols.&#160;In&#160;Proceedings&#160;of&#160;the&#160;25th&#160;International&#160;Conference<br/>on&#160;Model&#160;Driven&#160;Engineering&#160;Languages&#160;and&#160;Systems&#160;(MODELS&#160;’22).&#160;Association&#160;for&#160;Computing&#160;Machinery,&#160;New&#160;York,<br/>NY,&#160;USA,&#160;232–243.&#160;<a href="https://doi.org/10.1145/3550355.3552452">https://doi.org/10.1145/3550355.3552452</a></p>
<p style="position:absolute;top:193px;left:69px;white-space:nowrap" class="ft279">[11]&#160;andrew&#160;blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;(Jacob)&#160;Kim,&#160;and&#160;Cyrus&#160;Omar.&#160;2024.&#160;Artifact&#160;for&#160;Statically&#160;Contextualizing&#160;Large</p>
<p style="position:absolute;top:208px;left:94px;white-space:nowrap" class="ft2750">Language&#160;Models&#160;with&#160;Typed&#160;Holes.&#160;<a href="https://doi.org/10.5281/zenodo.12669479">https://doi.org/10.5281/zenodo.12669479</a></p>
<p style="position:absolute;top:223px;left:69px;white-space:nowrap" class="ft279">[12]&#160;Andrew&#160;Blinn,&#160;David&#160;Moon,&#160;Eric&#160;Griffis,&#160;and&#160;Cyrus&#160;Omar.&#160;2022.&#160;An&#160;Integrative&#160;Human-Centered&#160;Architecture&#160;for</p>
<p style="position:absolute;top:238px;left:94px;white-space:nowrap" class="ft279">Interactive&#160;Programming&#160;Assistants.&#160;In&#160;2022&#160;IEEE&#160;Symposium&#160;on&#160;Visual&#160;Languages&#160;and&#160;Human-Centric&#160;Computing</p>
<p style="position:absolute;top:253px;left:94px;white-space:nowrap" class="ft2750">(VL/HCC).&#160;1–5.&#160;<a href="https://doi.org/10.1109/VL/HCC53370.2022.9833110">https://doi.org/10.1109/VL/HCC53370.2022.9833110</a></p>
<p style="position:absolute;top:268px;left:69px;white-space:nowrap" class="ft279">[13]&#160;Frédéric&#160;Bour,&#160;Thomas&#160;Refis,&#160;and&#160;Gabriel&#160;Scherer.&#160;2018.&#160;Merlin:&#160;a&#160;language&#160;server&#160;for&#160;OCaml&#160;(experience&#160;report).</p>
<p style="position:absolute;top:283px;left:94px;white-space:nowrap" class="ft2750">Proceedings&#160;of&#160;the&#160;ACM&#160;on&#160;Programming&#160;Languages&#160;2,&#160;ICFP&#160;(2018),&#160;1–15.</p>
<p style="position:absolute;top:298px;left:69px;white-space:nowrap" class="ft279">[14]&#160;Giulio&#160;Canti.&#160;2019.&#160;Type&#160;holes&#160;in&#160;TypeScript.&#160;<a href="https://dev.to/gcanti/type-holes-in-typescript-2lck">https://dev.to/gcanti/type-holes-in-typescript-2lck&#160;</a>[Accessed&#160;August</p>
<p style="position:absolute;top:313px;left:94px;white-space:nowrap" class="ft279">31,&#160;2024].</p>
<p style="position:absolute;top:328px;left:69px;white-space:nowrap" class="ft279">[15]&#160;Federico&#160;Cassano,&#160;John&#160;Gouwar,&#160;Francesca&#160;Lucchetti,&#160;Claire&#160;Schlesinger,&#160;Anders&#160;Freeman,&#160;Carolyn&#160;Jane&#160;Anderson,</p>
<p style="position:absolute;top:343px;left:94px;white-space:nowrap" class="ft2715">Molly&#160;Q&#160;Feldman,&#160;Michael&#160;Greenberg,&#160;Abhinav&#160;Jangda,&#160;and&#160;Arjun&#160;Guha.&#160;2024.&#160;Knowledge&#160;Transfer&#160;from&#160;High-<br/>Resource&#160;to&#160;Low-Resource&#160;Programming&#160;Languages&#160;for&#160;Code&#160;LLMs.&#160;Proceedings&#160;of&#160;the&#160;ACM&#160;on&#160;Programming&#160;Languages</p>
<p style="position:absolute;top:373px;left:94px;white-space:nowrap" class="ft2750">(PACMPL),&#160;Issue&#160;OOPSLA&#160;(2024).&#160;<a href="https://arxiv.org/abs/2308.09895">arXiv:2308.09895&#160;</a>[cs.PL]</p>
<p style="position:absolute;top:388px;left:69px;white-space:nowrap" class="ft279">[16]&#160;Saikat&#160;Chakraborty,&#160;Gabriel&#160;Ebner,&#160;Siddharth&#160;Bhat,&#160;Sarah&#160;Fakhoury,&#160;Sakina&#160;Fatima,&#160;Shuvendu&#160;Lahiri,&#160;and&#160;Nikhil</p>
<p style="position:absolute;top:403px;left:94px;white-space:nowrap" class="ft2754">Swamy.&#160;2024.&#160;Towards&#160;Neural&#160;Synthesis&#160;for&#160;SMT-Assisted&#160;Proof-Oriented&#160;Programming.&#160;In&#160;International&#160;Conference<br/>on&#160;Software&#160;Engineering&#160;(ICSE).&#160;<a href="https://arxiv.org/abs/2405.01787">arXiv:2405.01787&#160;</a>[cs.PL]</p>
<p style="position:absolute;top:432px;left:69px;white-space:nowrap" class="ft279">[17]&#160;Mark&#160;Chen,&#160;Jerry&#160;Tworek,&#160;Heewoo&#160;Jun,&#160;Qiming&#160;Yuan,&#160;Henrique&#160;Pondé&#160;de&#160;Oliveira&#160;Pinto,&#160;Jared&#160;Kaplan,&#160;Harrison</p>
<p style="position:absolute;top:447px;left:94px;white-space:nowrap" class="ft2715">Edwards,&#160;Yuri&#160;Burda,&#160;Nicholas&#160;Joseph,&#160;Greg&#160;Brockman,&#160;Alex&#160;Ray,&#160;Raul&#160;Puri,&#160;Gretchen&#160;Krueger,&#160;Michael&#160;Petrov,&#160;Heidy<br/>Khlaaf,&#160;Girish&#160;Sastry,&#160;Pamela&#160;Mishkin,&#160;Brooke&#160;Chan,&#160;Scott&#160;Gray,&#160;Nick&#160;Ryder,&#160;Mikhail&#160;Pavlov,&#160;Alethea&#160;Power,&#160;Lukasz<br/>Kaiser,&#160;Mohammad&#160;Bavarian,&#160;Clemens&#160;Winter,&#160;Philippe&#160;Tillet,&#160;Felipe&#160;Petroski&#160;Such,&#160;Dave&#160;Cummings,&#160;Matthias&#160;Plappert,<br/>Fotios&#160;Chantzis,&#160;Elizabeth&#160;Barnes,&#160;Ariel&#160;Herbert-Voss,&#160;William&#160;Hebgen&#160;Guss,&#160;Alex&#160;Nichol,&#160;Alex&#160;Paino,&#160;Nikolas&#160;Tezak,<br/>Jie&#160;Tang,&#160;Igor&#160;Babuschkin,&#160;Suchir&#160;Balaji,&#160;Shantanu&#160;Jain,&#160;William&#160;Saunders,&#160;Christopher&#160;Hesse,&#160;Andrew&#160;N.&#160;Carr,&#160;Jan<br/>Leike,&#160;Joshua&#160;Achiam,&#160;Vedant&#160;Misra,&#160;Evan&#160;Morikawa,&#160;Alec&#160;Radford,&#160;Matthew&#160;Knight,&#160;Miles&#160;Brundage,&#160;Mira&#160;Murati,<br/>Katie&#160;Mayer,&#160;Peter&#160;Welinder,&#160;Bob&#160;McGrew,&#160;Dario&#160;Amodei,&#160;Sam&#160;McCandlish,&#160;Ilya&#160;Sutskever,&#160;and&#160;Wojciech&#160;Zaremba.<br/>2021.&#160;Evaluating&#160;Large&#160;Language&#160;Models&#160;Trained&#160;on&#160;Code.&#160;CoRR&#160;abs/2107.03374&#160;(2021).&#160;<a href="https://arxiv.org/abs/2107.03374">arXiv:2107.03374</a></p>
<p style="position:absolute;top:567px;left:69px;white-space:nowrap" class="ft279">[18]&#160;Czaplicki,&#160;Evan.&#160;2022.&#160;Elm&#160;Architecture.&#160;(2022).&#160;<a href="https://guide.elm-lang.org/architecture/">https://guide.elm-lang.org/architecture/&#160;</a>[Accessed&#160;September&#160;1st,</p>
<p style="position:absolute;top:582px;left:94px;white-space:nowrap" class="ft279">2024].</p>
<p style="position:absolute;top:597px;left:69px;white-space:nowrap" class="ft279">[19]&#160;Yangruibo&#160;Ding,&#160;Zijian&#160;Wang,&#160;Wasi&#160;Ahmad,&#160;Murali&#160;Krishna&#160;Ramanathan,&#160;Ramesh&#160;Nallapati,&#160;Parminder&#160;Bhatia,&#160;Dan</p>
<p style="position:absolute;top:612px;left:94px;white-space:nowrap" class="ft2753">Roth,&#160;and&#160;Bing&#160;Xiang.&#160;2024.&#160;CoCoMIC:&#160;Code&#160;Completion&#160;by&#160;Jointly&#160;Modeling&#160;In-file&#160;and&#160;Cross-file&#160;Context.&#160;In<br/>Proceedings&#160;of&#160;the&#160;2024&#160;Joint&#160;International&#160;Conference&#160;on&#160;Computational&#160;Linguistics,&#160;Language&#160;Resources&#160;and&#160;Evaluation</p>
<p style="position:absolute;top:642px;left:94px;white-space:nowrap" class="ft2750">(LREC-COLING&#160;2024).&#160;3433–3445.&#160;<a href="https://aclanthology.org/2024.lrec-main.305">https://aclanthology.org/2024.lrec-main.305</a></p>
<p style="position:absolute;top:657px;left:69px;white-space:nowrap" class="ft279">[20]&#160;Yangruibo&#160;Ding,&#160;Zijian&#160;Wang,&#160;Wasi&#160;Uddin&#160;Ahmad,&#160;Hantian&#160;Ding,&#160;Ming&#160;Tan,&#160;Nihal&#160;Jain,&#160;Murali&#160;Krishna&#160;Ramanathan,</p>
<p style="position:absolute;top:672px;left:94px;white-space:nowrap" class="ft2754">Ramesh&#160;Nallapati,&#160;Parminder&#160;Bhatia,&#160;Dan&#160;Roth,&#160;and&#160;Bing&#160;Xiang.&#160;2023.&#160;CrossCodeEval:&#160;A&#160;Diverse&#160;and&#160;Multilingual<br/>Benchmark&#160;for&#160;Cross-File&#160;Code&#160;Completion.&#160;In&#160;Thirty-seventh&#160;Conference&#160;on&#160;Neural&#160;Information&#160;Processing&#160;Systems<br/>Datasets&#160;and&#160;Benchmarks&#160;Track.&#160;<a href="https://openreview.net/forum?id=wgDcbBMSfh">https://openreview.net/forum?id=wgDcbBMSfh</a></p>
<p style="position:absolute;top:716px;left:69px;white-space:nowrap" class="ft279">[21]&#160;Yiran&#160;Ding,&#160;Li&#160;Lyna&#160;Zhang,&#160;Chengruidong&#160;Zhang,&#160;Yuanyuan&#160;Xu,&#160;Ning&#160;Shang,&#160;Jiahang&#160;Xu,&#160;Fan&#160;Yang,&#160;and&#160;Mao&#160;Yang.</p>
<p style="position:absolute;top:731px;left:94px;white-space:nowrap" class="ft279">2024.&#160;LongRoPE:&#160;Extending&#160;LLM&#160;Context&#160;Window&#160;Beyond&#160;2&#160;Million&#160;Tokens.&#160;<a href="https://arxiv.org/abs/2402.13753">arXiv:2402.13753&#160;</a>[cs.CL]</p>
<p style="position:absolute;top:746px;left:69px;white-space:nowrap" class="ft279">[22]&#160;Aryaz&#160;Eghbali&#160;and&#160;Michael&#160;Pradel.&#160;2024.&#160;De-Hallucinator:&#160;Iterative&#160;Grounding&#160;for&#160;LLM-Based&#160;Code&#160;Completion.</p>
<p style="position:absolute;top:761px;left:94px;white-space:nowrap" class="ft279"><a href="https://arxiv.org/abs/2401.01701">arXiv:2401.01701&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:776px;left:69px;white-space:nowrap" class="ft279">[23]&#160;Nat&#160;Friedman.&#160;2021.&#160;Introducing&#160;GitHub&#160;Copilot:&#160;your&#160;AI&#160;pair&#160;programmer.</p>
<p style="position:absolute;top:776px;left:506px;white-space:nowrap" class="ft2749"><a href="https://github.blog/2021-06-29-introducing-github-copilot-ai-pair-programmer/">https://github.blog/2021-06-29-</a></p>
<p style="position:absolute;top:791px;left:94px;white-space:nowrap" class="ft2749"><a href="https://github.blog/2021-06-29-introducing-github-copilot-ai-pair-programmer/">introducing-github-copilot-ai-pair-programmer/&#160;</a>[Accessed&#160;August&#160;31,&#160;2024].</p>
<p style="position:absolute;top:806px;left:69px;white-space:nowrap" class="ft279">[24]&#160;Shuzheng&#160;Gao,&#160;Xin-Cheng&#160;Wen,&#160;Cuiyun&#160;Gao,&#160;Wenxuan&#160;Wang,&#160;Hongyu&#160;Zhang,&#160;and&#160;Michael&#160;R.&#160;Lyu.&#160;2023.&#160;What</p>
<p style="position:absolute;top:821px;left:94px;white-space:nowrap" class="ft2754">Makes&#160;Good&#160;In-Context&#160;Demonstrations&#160;for&#160;Code&#160;Intelligence&#160;Tasks&#160;with&#160;LLMs?.&#160;In&#160;2023&#160;38th&#160;IEEE/ACM&#160;International<br/>Conference&#160;on&#160;Automated&#160;Software&#160;Engineering&#160;(ASE).&#160;IEEE.&#160;<a href="https://doi.org/10.1109/ase56229.2023.00109">https://doi.org/10.1109/ase56229.2023.00109</a></p>
<p style="position:absolute;top:851px;left:69px;white-space:nowrap" class="ft279">[25]&#160;Yunfan&#160;Gao,&#160;Yun&#160;Xiong,&#160;Xinyu&#160;Gao,&#160;Kangxiang&#160;Jia,&#160;Jinliu&#160;Pan,&#160;Yuxi&#160;Bi,&#160;Yi&#160;Dai,&#160;Jiawei&#160;Sun,&#160;Qianyu&#160;Guo,&#160;Meng&#160;Wang,</p>
<p style="position:absolute;top:866px;left:94px;white-space:nowrap" class="ft2715">and&#160;Haofen&#160;Wang.&#160;2023.&#160;Retrieval-Augmented&#160;Generation&#160;for&#160;Large&#160;Language&#160;Models:&#160;A&#160;Survey.&#160;CoRR&#160;abs/2312.10997<br/>(2023).&#160;<a href="https://doi.org/10.48550/ARXIV.2312.10997">https://doi.org/10.48550/ARXIV.2312.10997&#160;</a><a href="https://arxiv.org/abs/2312.10997">arXiv:2312.10997</a></p>
<p style="position:absolute;top:896px;left:69px;white-space:nowrap" class="ft279">[26]&#160;Matthías&#160;Páll&#160;Gissurarson.&#160;2022.&#160;The&#160;Hole&#160;Story:&#160;Type-Driven&#160;Synthesis&#160;and&#160;Repair.&#160;Licentiate&#160;Thesis.&#160;<a href="https://www.mpg.is/papers/gissurarson2022licentiate.pdf">https://www.</a></p>
<p style="position:absolute;top:911px;left:94px;white-space:nowrap" class="ft2749"><a href="https://www.mpg.is/papers/gissurarson2022licentiate.pdf">mpg.is/papers/gissurarson2022licentiate.pdf</a></p>
<p style="position:absolute;top:926px;left:69px;white-space:nowrap" class="ft279">[27]&#160;Elena&#160;L.&#160;Glassman,&#160;Jeremy&#160;Scott,&#160;Rishabh&#160;Singh,&#160;Philip&#160;J.&#160;Guo,&#160;and&#160;Robert&#160;C.&#160;Miller.&#160;2015.&#160;OverCode:&#160;Visualizing</p>
<p style="position:absolute;top:941px;left:94px;white-space:nowrap" class="ft2715">Variation&#160;in&#160;Student&#160;Solutions&#160;to&#160;Programming&#160;Problems&#160;at&#160;Scale.&#160;ACM&#160;Trans.&#160;Comput.-Hum.&#160;Interact.&#160;22,&#160;2,&#160;Article&#160;7<br/>(mar&#160;2015).&#160;<a href="https://doi.org/10.1145/2699751">https://doi.org/10.1145/2699751</a></p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft279">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 28 -->
<a name="28"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft2855{font-size:12px;line-height:14px;font-family:BQBJUC+LinLibertineTI;color:#000000;}
-->
</style>
<div id="page28-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out028.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2816">288:28</p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft2816">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</p>
<p style="position:absolute;top:134px;left:69px;white-space:nowrap" class="ft289">[28]&#160;Robert&#160;Harper.&#160;2016.&#160;Practical&#160;Foundations&#160;for&#160;Programming&#160;Languages&#160;(2nd.&#160;Ed.).&#160;Cambridge&#160;University&#160;Press.</p>
<p style="position:absolute;top:149px;left:94px;white-space:nowrap" class="ft2849"><a href="https://www.cs.cmu.edu/%7Erwh/pfpl/index.html">https://www.cs.cmu.edu/%7Erwh/pfpl/index.html</a></p>
<p style="position:absolute;top:163px;left:69px;white-space:nowrap" class="ft289">[29]&#160;Abram&#160;Hindle,&#160;Earl&#160;T&#160;Barr,&#160;Mark&#160;Gabel,&#160;Zhendong&#160;Su,&#160;and&#160;Premkumar&#160;Devanbu.&#160;2016.&#160;On&#160;the&#160;naturalness&#160;of&#160;software.</p>
<p style="position:absolute;top:178px;left:94px;white-space:nowrap" class="ft2850">Commun.&#160;ACM&#160;59,&#160;5&#160;(2016),&#160;122–131.&#160;<a href="https://dl.acm.org/doi/10.5555/2337223.2337322">https://dl.acm.org/doi/10.5555/2337223.2337322</a></p>
<p style="position:absolute;top:193px;left:69px;white-space:nowrap" class="ft289">[30]&#160;Jordan&#160;Hoffmann,&#160;Sebastian&#160;Borgeaud,&#160;Arthur&#160;Mensch,&#160;Elena&#160;Buchatskaya,&#160;Trevor&#160;Cai,&#160;Eliza&#160;Rutherford,&#160;Diego&#160;de</p>
<p style="position:absolute;top:208px;left:94px;white-space:nowrap" class="ft2852">Las&#160;Casas,&#160;Lisa&#160;Anne&#160;Hendricks,&#160;Johannes&#160;Welbl,&#160;Aidan&#160;Clark,&#160;Tom&#160;Hennigan,&#160;Eric&#160;Noland,&#160;Katie&#160;Millican,&#160;George<br/>van&#160;den&#160;Driessche,&#160;Bogdan&#160;Damoc,&#160;Aurelia&#160;Guy,&#160;Simon&#160;Osindero,&#160;Karen&#160;Simonyan,&#160;Erich&#160;Elsen,&#160;Oriol&#160;Vinyals,&#160;Jack&#160;W.<br/>Rae,&#160;and&#160;Laurent&#160;Sifre.&#160;2024.&#160;Training&#160;compute-optimal&#160;large&#160;language&#160;models.&#160;In&#160;Proceedings&#160;of&#160;the&#160;36th&#160;International<br/>Conference&#160;on&#160;Neural&#160;Information&#160;Processing&#160;Systems&#160;(NIPS&#160;’22).&#160;Article&#160;2176.&#160;<a href="https://dl.acm.org/doi/10.5555/3600270.3602446">https://dl.acm.org/doi/10.5555/3600270.<br/>3602446</a></p>
<p style="position:absolute;top:283px;left:69px;white-space:nowrap" class="ft289">[31]&#160;Alon&#160;Jacovi,&#160;Avi&#160;Caciularu,&#160;Omer&#160;Goldman,&#160;and&#160;Yoav&#160;Goldberg.&#160;2023.&#160;Stop&#160;Uploading&#160;Test&#160;Data&#160;in&#160;Plain&#160;Text:&#160;Practical</p>
<p style="position:absolute;top:298px;left:94px;white-space:nowrap" class="ft2815">Strategies&#160;for&#160;Mitigating&#160;Data&#160;Contamination&#160;by&#160;Evaluation&#160;Benchmarks.&#160;In&#160;Proceedings&#160;of&#160;the&#160;2023&#160;Conference&#160;on<br/>Empirical&#160;Methods&#160;in&#160;Natural&#160;Language&#160;Processing,&#160;Houda&#160;Bouamor,&#160;Juan&#160;Pino,&#160;and&#160;Kalika&#160;Bali&#160;(Eds.).&#160;Association&#160;for<br/>Computational&#160;Linguistics,&#160;Singapore,&#160;5075–5084.&#160;<a href="https://doi.org/10.18653/v1/2023.emnlp-main.308">https://doi.org/10.18653/v1/2023.emnlp-main.308</a></p>
<p style="position:absolute;top:343px;left:69px;white-space:nowrap" class="ft289">[32]&#160;Naman&#160;Jain,&#160;King&#160;Han,&#160;Alex&#160;Gu,&#160;Wen-Ding&#160;Li,&#160;Fanjia&#160;Yan,&#160;Tianjun&#160;Zhang,&#160;Sida&#160;Wang,&#160;Armando&#160;Solar-Lezama,&#160;Koushik</p>
<p style="position:absolute;top:358px;left:94px;white-space:nowrap" class="ft2815">Sen,&#160;and&#160;Ion&#160;Stoica.&#160;2024.&#160;LiveCodeBench:&#160;Holistic&#160;and&#160;Contamination&#160;Free&#160;Evaluation&#160;of&#160;Large&#160;Language&#160;Models&#160;for<br/>Code.&#160;CoRR&#160;abs/2403.07974&#160;(2024).&#160;<a href="https://doi.org/10.48550/ARXIV.2403.07974">https://doi.org/10.48550/ARXIV.2403.07974&#160;</a><a href="https://arxiv.org/abs/2403.07974">arXiv:2403.07974</a></p>
<p style="position:absolute;top:388px;left:69px;white-space:nowrap" class="ft289">[33]&#160;Harshit&#160;Joshi,&#160;José&#160;Cambronero&#160;Sanchez,&#160;Sumit&#160;Gulwani,&#160;Vu&#160;Le,&#160;Ivan&#160;Radiček,&#160;and&#160;Gust&#160;Verbruggen.&#160;2023.&#160;Repair</p>
<p style="position:absolute;top:403px;left:94px;white-space:nowrap" class="ft2815">is&#160;nearly&#160;generation:&#160;multilingual&#160;program&#160;repair&#160;with&#160;LLMs.&#160;In&#160;Proceedings&#160;of&#160;the&#160;Thirty-Seventh&#160;AAAI&#160;Conference<br/>on&#160;Artificial&#160;Intelligence&#160;and&#160;Thirty-Fifth&#160;Conference&#160;on&#160;Innovative&#160;Applications&#160;of&#160;Artificial&#160;Intelligence&#160;and&#160;Thirteenth<br/>Symposium&#160;on&#160;Educational&#160;Advances&#160;in&#160;Artificial&#160;Intelligence&#160;(AAAI’23/IAAI’23/EAAI’23).&#160;AAAI&#160;Press,&#160;Article&#160;573,<br/>10&#160;pages.&#160;<a href="https://doi.org/10.1609/aaai.v37i4.25642">https://doi.org/10.1609/aaai.v37i4.25642</a></p>
<p style="position:absolute;top:462px;left:69px;white-space:nowrap" class="ft289">[34]&#160;René&#160;Just,&#160;Darioush&#160;Jalali,&#160;and&#160;Michael&#160;D.&#160;Ernst.&#160;2014.&#160;Defects4J:&#160;a&#160;database&#160;of&#160;existing&#160;faults&#160;to&#160;enable&#160;controlled</p>
<p style="position:absolute;top:477px;left:94px;white-space:nowrap" class="ft2854">testing&#160;studies&#160;for&#160;Java&#160;programs.&#160;In&#160;International&#160;Symposium&#160;on&#160;Software&#160;Testing&#160;and&#160;Analysis,&#160;ISSTA&#160;’14,&#160;San&#160;Jose,&#160;CA,<br/>USA&#160;-&#160;July&#160;21&#160;-&#160;26,&#160;2014.&#160;ACM,&#160;437–440.&#160;<a href="https://doi.org/10.1145/2610384.2628055">https://doi.org/10.1145/2610384.2628055</a></p>
<p style="position:absolute;top:507px;left:69px;white-space:nowrap" class="ft289">[35]&#160;Mosh&#160;Levy,&#160;Alon&#160;Jacoby,&#160;and&#160;Yoav&#160;Goldberg.&#160;2024.&#160;Same&#160;Task,&#160;More&#160;Tokens:&#160;the&#160;Impact&#160;of&#160;Input&#160;Length&#160;on&#160;the</p>
<p style="position:absolute;top:522px;left:94px;white-space:nowrap" class="ft2852">Reasoning&#160;Performance&#160;of&#160;Large&#160;Language&#160;Models.&#160;In&#160;Proceedings&#160;of&#160;the&#160;62nd&#160;Annual&#160;Meeting&#160;of&#160;the&#160;Association&#160;for<br/>Computational&#160;Linguistics&#160;(Volume&#160;1:&#160;Long&#160;Papers).&#160;Association&#160;for&#160;Computational&#160;Linguistics,&#160;15339–15353.&#160;<a href="https://aclanthology.org/2024.acl-long.818">https:<br/>//aclanthology.org/2024.acl-long.818</a></p>
<p style="position:absolute;top:567px;left:69px;white-space:nowrap" class="ft289">[36]&#160;Patrick&#160;Lewis,&#160;Ethan&#160;Perez,&#160;Aleksandra&#160;Piktus,&#160;Fabio&#160;Petroni,&#160;Vladimir&#160;Karpukhin,&#160;Naman&#160;Goyal,&#160;Heinrich&#160;Küttler,</p>
<p style="position:absolute;top:582px;left:94px;white-space:nowrap" class="ft2854">Mike&#160;Lewis,&#160;Wen-tau&#160;Yih,&#160;Tim&#160;Rocktäschel,&#160;Sebastian&#160;Riedel,&#160;and&#160;Douwe&#160;Kiela.&#160;2020.&#160;Retrieval-augmented&#160;generation<br/>for&#160;knowledge-intensive&#160;NLP&#160;tasks.&#160;In&#160;Proceedings&#160;of&#160;the&#160;34th&#160;International&#160;Conference&#160;on&#160;Neural&#160;Information&#160;Processing<br/>Systems&#160;(NIPS&#160;’20).&#160;Article&#160;793.&#160;<a href="https://dl.acm.org/doi/abs/10.5555/3495724.3496517">https://dl.acm.org/doi/abs/10.5555/3495724.3496517</a></p>
<p style="position:absolute;top:627px;left:69px;white-space:nowrap" class="ft289">[37]&#160;Jiaqi&#160;Li,&#160;Mengmeng&#160;Wang,&#160;Zilong&#160;Zheng,&#160;and&#160;Muhan&#160;Zhang.&#160;2024.&#160;LooGLE:&#160;Can&#160;Long-Context&#160;Language&#160;Models</p>
<p style="position:absolute;top:642px;left:94px;white-space:nowrap" class="ft289">Understand&#160;Long&#160;Contexts?.&#160;In&#160;Proceedings&#160;of&#160;the&#160;62nd&#160;Annual&#160;Meeting&#160;of&#160;the&#160;Association&#160;for&#160;Computational&#160;Linguistics</p>
<p style="position:absolute;top:657px;left:94px;white-space:nowrap" class="ft2850">(Volume&#160;1:&#160;Long&#160;Papers).&#160;Association&#160;for&#160;Computational&#160;Linguistics,&#160;16304–16333.&#160;<a href="https://aclanthology.org/2024.acl-long.859">https://aclanthology.org/2024.acl-</a></p>
<p style="position:absolute;top:672px;left:94px;white-space:nowrap" class="ft2849"><a href="https://aclanthology.org/2024.acl-long.859">long.859</a></p>
<p style="position:absolute;top:687px;left:69px;white-space:nowrap" class="ft289">[38]&#160;Yichen&#160;Li,&#160;Yun&#160;Peng,&#160;Yintong&#160;Huo,&#160;and&#160;Michael&#160;R.&#160;Lyu.&#160;2024.&#160;Enhancing&#160;LLM-Based&#160;Coding&#160;Tools&#160;through&#160;Native</p>
<p style="position:absolute;top:701px;left:94px;white-space:nowrap" class="ft289">Integration&#160;of&#160;IDE-Derived&#160;Static&#160;Context.&#160;In&#160;LLM4Code&#160;Workshop.&#160;<a href="https://arxiv.org/abs/2402.03630">arXiv:2402.03630&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:716px;left:69px;white-space:nowrap" class="ft289">[39]&#160;Junwei&#160;Liu,&#160;Yixuan&#160;Chen,&#160;Mingwei&#160;Liu,&#160;Xin&#160;Peng,&#160;and&#160;Yiling&#160;Lou.&#160;2024.&#160;STALL+:&#160;Boosting&#160;LLM-based&#160;Repository-level</p>
<p style="position:absolute;top:731px;left:94px;white-space:nowrap" class="ft289">Code&#160;Completion&#160;with&#160;Static&#160;Analysis.&#160;CoRR&#160;abs/2406.10018&#160;(2024).&#160;<a href="https://arxiv.org/abs/2406.10018">arXiv:2406.10018</a></p>
<p style="position:absolute;top:746px;left:69px;white-space:nowrap" class="ft289">[40]&#160;Jiawei&#160;Liu,&#160;Chunqiu&#160;Steven&#160;Xia,&#160;Yuyao&#160;Wang,&#160;and&#160;Lingming&#160;Zhang.&#160;2024.&#160;Is&#160;your&#160;code&#160;generated&#160;by&#160;ChatGPT&#160;really</p>
<p style="position:absolute;top:761px;left:94px;white-space:nowrap" class="ft2852">correct?&#160;rigorous&#160;evaluation&#160;of&#160;large&#160;language&#160;models&#160;for&#160;code&#160;generation.&#160;In&#160;Proceedings&#160;of&#160;the&#160;37th&#160;International<br/>Conference&#160;on&#160;Neural&#160;Information&#160;Processing&#160;Systems&#160;(NIPS&#160;’23).&#160;Article&#160;943.&#160;<a href="https://dl.acm.org/doi/10.5555/3666122.3667065">https://dl.acm.org/doi/10.5555/3666122.<br/>3667065</a></p>
<p style="position:absolute;top:806px;left:69px;white-space:nowrap" class="ft289">[41]&#160;Nelson&#160;F&#160;Liu,&#160;Kevin&#160;Lin,&#160;John&#160;Hewitt,&#160;Ashwin&#160;Paranjape,&#160;Michele&#160;Bevilacqua,&#160;Fabio&#160;Petroni,&#160;and&#160;Percy&#160;Liang.&#160;2024.&#160;Lost</p>
<p style="position:absolute;top:821px;left:94px;white-space:nowrap" class="ft2815">in&#160;the&#160;middle:&#160;How&#160;language&#160;models&#160;use&#160;long&#160;contexts.&#160;Transactions&#160;of&#160;the&#160;Association&#160;for&#160;Computational&#160;Linguistics&#160;12<br/>(2024),&#160;157–173.&#160;<a href="https://aclanthology.org/2024.tacl-1.9/">https://aclanthology.org/2024.tacl-1.9/</a></p>
<p style="position:absolute;top:851px;left:69px;white-space:nowrap" class="ft289">[42]&#160;Tianyang&#160;Liu,&#160;Canwen&#160;Xu,&#160;and&#160;Julian&#160;McAuley.&#160;2024.&#160;RepoBench:&#160;Benchmarking&#160;Repository-Level&#160;Code&#160;Auto-</p>
<p style="position:absolute;top:866px;left:94px;white-space:nowrap" class="ft2852">Completion&#160;Systems.&#160;In&#160;The&#160;Twelfth&#160;International&#160;Conference&#160;on&#160;Learning&#160;Representations.&#160;<a href="https://openreview.net/forum?id=pPjZIOuQuF">https://openreview.net/<br/>forum?id=pPjZIOuQuF</a></p>
<p style="position:absolute;top:896px;left:69px;white-space:nowrap" class="ft289">[43]&#160;Anton&#160;Lozhkov,&#160;Raymond&#160;Li,&#160;Loubna&#160;Ben&#160;Allal,&#160;Federico&#160;Cassano,&#160;Joel&#160;Lamy-Poirier,&#160;Nouamane&#160;Tazi,&#160;Ao&#160;Tang,&#160;Dmytro</p>
<p style="position:absolute;top:911px;left:94px;white-space:nowrap" class="ft289">Pykhtar,&#160;Jiawei&#160;Liu,&#160;Yuxiang&#160;Wei,&#160;Tianyang&#160;Liu,&#160;Max&#160;Tian,&#160;Denis&#160;Kocetkov,&#160;Arthur&#160;Zucker,&#160;Younes&#160;Belkada,&#160;Zijian</p>
<p style="position:absolute;top:926px;left:94px;white-space:nowrap" class="ft289">Wang,&#160;Qian&#160;Liu,&#160;Dmitry&#160;Abulkhanov,&#160;Indraneil&#160;Paul,&#160;Zhuang&#160;Li,&#160;Wen-Ding&#160;Li,&#160;Megan&#160;Risdal,&#160;Jia&#160;Li,&#160;Jian&#160;Zhu,&#160;Terry&#160;Yue</p>
<p style="position:absolute;top:941px;left:94px;white-space:nowrap" class="ft2815">Zhuo,&#160;Evgenii&#160;Zheltonozhskii,&#160;Nii&#160;Osae&#160;Osae&#160;Dade,&#160;Wenhao&#160;Yu,&#160;Lucas&#160;Krauß,&#160;Naman&#160;Jain,&#160;Yixuan&#160;Su,&#160;Xuanli&#160;He,<br/>Manan&#160;Dey,&#160;Edoardo&#160;Abati,&#160;Yekun&#160;Chai,&#160;Niklas&#160;Muennighoff,&#160;Xiangru&#160;Tang,&#160;Muhtasham&#160;Oblokulov,&#160;Christopher&#160;Akiki,<br/>Marc&#160;Marone,&#160;Chenghao&#160;Mou,&#160;Mayank&#160;Mishra,&#160;Alex&#160;Gu,&#160;Binyuan&#160;Hui,&#160;Tri&#160;Dao,&#160;Armel&#160;Zebaze,&#160;Olivier&#160;Dehaene,&#160;Nicolas</p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft289">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 29 -->
<a name="29"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page29-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out029.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft2916">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft2916">288:29</p>
<p style="position:absolute;top:134px;left:94px;white-space:nowrap" class="ft299">Patry,&#160;Canwen&#160;Xu,&#160;Julian&#160;McAuley,&#160;Han&#160;Hu,&#160;Torsten&#160;Scholak,&#160;Sebastien&#160;Paquet,&#160;Jennifer&#160;Robinson,&#160;Carolyn&#160;Jane</p>
<p style="position:absolute;top:149px;left:94px;white-space:nowrap" class="ft299">Anderson,&#160;Nicolas&#160;Chapados,&#160;Mostofa&#160;Patwary,&#160;Nima&#160;Tajbakhsh,&#160;Yacine&#160;Jernite,&#160;Carlos&#160;Muñoz&#160;Ferrandis,&#160;Lingming</p>
<p style="position:absolute;top:163px;left:94px;white-space:nowrap" class="ft2915">Zhang,&#160;Sean&#160;Hughes,&#160;Thomas&#160;Wolf,&#160;Arjun&#160;Guha,&#160;Leandro&#160;von&#160;Werra,&#160;and&#160;Harm&#160;de&#160;Vries.&#160;2024.&#160;StarCoder&#160;2&#160;and&#160;The<br/>Stack&#160;v2:&#160;The&#160;Next&#160;Generation.&#160;<a href="https://arxiv.org/abs/2402.19173">arXiv:2402.19173&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:193px;left:69px;white-space:nowrap" class="ft299">[44]&#160;Shuai&#160;Lu,&#160;Nan&#160;Duan,&#160;Hojae&#160;Han,&#160;Daya&#160;Guo,&#160;Seung-won&#160;Hwang,&#160;and&#160;Alexey&#160;Svyatkovskiy.&#160;2022.&#160;ReACC:&#160;A&#160;Retrieval-</p>
<p style="position:absolute;top:208px;left:93px;white-space:nowrap" class="ft299">Augmented&#160;Code&#160;Completion&#160;Framework.&#160;In&#160;Proceedings&#160;of&#160;the&#160;60th&#160;Annual&#160;Meeting&#160;of&#160;the&#160;Association&#160;for&#160;Computational</p>
<p style="position:absolute;top:223px;left:94px;white-space:nowrap" class="ft2950">Linguistics&#160;(Volume&#160;1:&#160;Long&#160;Papers).&#160;6227–6240.&#160;<a href="https://doi.org/10.18653/v1/2022.acl-long.431">https://doi.org/10.18653/v1/2022.acl-long.431</a></p>
<p style="position:absolute;top:238px;left:69px;white-space:nowrap" class="ft299">[45]&#160;Justin&#160;Lubin,&#160;Nick&#160;Collins,&#160;Cyrus&#160;Omar,&#160;and&#160;Ravi&#160;Chugh.&#160;2020.&#160;Program&#160;Sketching&#160;with&#160;Live&#160;Bidirectional&#160;Evaluation.</p>
<p style="position:absolute;top:253px;left:94px;white-space:nowrap" class="ft2950">Proceedings&#160;of&#160;the&#160;ACM&#160;on&#160;Programming&#160;Languages&#160;4,&#160;ICFP&#160;(2020),&#160;1–29.&#160;<a href="https://dl.acm.org/doi/10.1145/3408991">https://dl.acm.org/doi/10.1145/3408991</a></p>
<p style="position:absolute;top:268px;left:69px;white-space:nowrap" class="ft299">[46]&#160;Microsoft.&#160;2024.&#160;Bing&#160;Image&#160;Creator&#160;from&#160;Designer&#160;Terms.&#160;<a href="https://www.bing.com/new/termsofuseimagecreator">https://www.bing.com/new/termsofuseimagecreator</a></p>
<p style="position:absolute;top:283px;left:94px;white-space:nowrap" class="ft299">[Accessed&#160;August&#160;30,&#160;2024].</p>
<p style="position:absolute;top:298px;left:69px;white-space:nowrap" class="ft299">[47]&#160;D.&#160;Moon,&#160;A.&#160;Blinn,&#160;and&#160;C.&#160;Omar.&#160;2023.&#160;Gradual&#160;Structure&#160;Editing&#160;with&#160;Obligations.&#160;In&#160;2023&#160;IEEE&#160;Symposium&#160;on</p>
<p style="position:absolute;top:313px;left:94px;white-space:nowrap" class="ft2915">Visual&#160;Languages&#160;and&#160;Human-Centric&#160;Computing&#160;(VL/HCC).&#160;IEEE&#160;Computer&#160;Society,&#160;Los&#160;Alamitos,&#160;CA,&#160;USA,&#160;71–81.<br/><a href="https://doi.org/10.1109/VL-HCC57772.2023.00016">https://doi.org/10.1109/VL-HCC57772.2023.00016</a></p>
<p style="position:absolute;top:343px;left:69px;white-space:nowrap" class="ft299">[48]&#160;Aleksandar&#160;Nanevski,&#160;Frank&#160;Pfenning,&#160;and&#160;Brigitte&#160;Pientka.&#160;2008.&#160;Contextual&#160;modal&#160;type&#160;theory.&#160;ACM&#160;Transactions&#160;on</p>
<p style="position:absolute;top:358px;left:94px;white-space:nowrap" class="ft2950">Computational&#160;Logic&#160;(TOCL)&#160;9,&#160;3&#160;(2008),&#160;1–49.&#160;<a href="https://dl.acm.org/doi/10.1145/1352582.1352591">https://dl.acm.org/doi/10.1145/1352582.1352591</a></p>
<p style="position:absolute;top:373px;left:69px;white-space:nowrap" class="ft299">[49]&#160;Arvind&#160;Neelakantan,&#160;Tao&#160;Xu,&#160;Raul&#160;Puri,&#160;Alec&#160;Radford,&#160;Jesse&#160;Michael&#160;Han,&#160;Jerry&#160;Tworek,&#160;Qiming&#160;Yuan,&#160;Nikolas&#160;Tezak,</p>
<p style="position:absolute;top:388px;left:94px;white-space:nowrap" class="ft2915">Jong&#160;Wook&#160;Kim,&#160;Chris&#160;Hallacy,&#160;Johannes&#160;Heidecke,&#160;Pranav&#160;Shyam,&#160;Boris&#160;Power,&#160;Tyna&#160;Eloundou&#160;Nekoul,&#160;Girish<br/>Sastry,&#160;Gretchen&#160;Krueger,&#160;David&#160;Schnurr,&#160;Felipe&#160;Petroski&#160;Such,&#160;Kenny&#160;Hsu,&#160;Madeleine&#160;Thompson,&#160;Tabarak&#160;Khan,<br/>Toki&#160;Sherbakov,&#160;Joanne&#160;Jang,&#160;Peter&#160;Welinder,&#160;and&#160;Lilian&#160;Weng.&#160;2022.&#160;Text&#160;and&#160;Code&#160;Embeddings&#160;by&#160;Contrastive<br/>Pre-Training.&#160;<a href="https://arxiv.org/abs/2201.10005">arXiv:2201.10005&#160;</a>[cs.CL]</p>
<p style="position:absolute;top:447px;left:69px;white-space:nowrap" class="ft299">[50]&#160;Cyrus&#160;Omar,&#160;Ian&#160;Voysey,&#160;Ravi&#160;Chugh,&#160;and&#160;Matthew&#160;A.&#160;Hammer.&#160;2019.&#160;Live&#160;Functional&#160;Programming&#160;with&#160;Typed&#160;Holes.</p>
<p style="position:absolute;top:462px;left:94px;white-space:nowrap" class="ft2950">Proceedings&#160;of&#160;the&#160;ACM&#160;on&#160;Programming&#160;Languages&#160;(PACMPL),&#160;Issue&#160;POPL&#160;(2019).&#160;<a href="https://dl.acm.org/doi/10.1145/3290327">https://dl.acm.org/doi/10.1145/3290327</a></p>
<p style="position:absolute;top:477px;left:69px;white-space:nowrap" class="ft299">[51]&#160;Cyrus&#160;Omar,&#160;Ian&#160;Voysey,&#160;Michael&#160;Hilton,&#160;Jonathan&#160;Aldrich,&#160;and&#160;Matthew&#160;A.&#160;Hammer.&#160;2017.&#160;Hazelnut:&#160;A&#160;Bidirectionally</p>
<p style="position:absolute;top:492px;left:94px;white-space:nowrap" class="ft2915">Typed&#160;Structure&#160;Editor&#160;Calculus.&#160;In&#160;ACM&#160;SIGPLAN&#160;Symposium&#160;on&#160;Principles&#160;of&#160;Programming&#160;Languages&#160;(POPL).<br/><a href="https://dl.acm.org/doi/10.1145/3009837.3009900">https://dl.acm.org/doi/10.1145/3009837.3009900</a></p>
<p style="position:absolute;top:522px;left:69px;white-space:nowrap" class="ft299">[52]&#160;Cyrus&#160;Omar,&#160;Ian&#160;Voysey,&#160;Michael&#160;Hilton,&#160;Joshua&#160;Sunshine,&#160;Claire&#160;Le&#160;Goues,&#160;Jonathan&#160;Aldrich,&#160;and&#160;Matthew&#160;A.&#160;Hammer.</p>
<p style="position:absolute;top:537px;left:94px;white-space:nowrap" class="ft2915">2017.&#160;Toward&#160;Semantic&#160;Foundations&#160;for&#160;Program&#160;Editors.&#160;In&#160;Summit&#160;on&#160;Advances&#160;in&#160;Programming&#160;Languages&#160;(SNAPL).<br/><a href="https://arxiv.org/abs/1703.08694">https://arxiv.org/abs/1703.08694</a></p>
<p style="position:absolute;top:567px;left:69px;white-space:nowrap" class="ft2915">[53]&#160;OpenAI.&#160;2024.&#160;Hello&#160;GPT-4o.&#160;<a href="https://openai.com/index/hello-gpt-4o/">https://openai.com/index/hello-gpt-4o/&#160;</a>[Accessed&#160;August&#160;31,&#160;2024].<br/>[54]&#160;OpenAI.&#160;2024.&#160;OpenAI&#160;Platform&#160;Chat&#160;Completions.</p>
<p style="position:absolute;top:582px;left:368px;white-space:nowrap" class="ft2949"><a href="https://platform.openai.com/docs/guides/chat-completions">https://platform.openai.com/docs/guides/chat-completions</a></p>
<p style="position:absolute;top:597px;left:94px;white-space:nowrap" class="ft299">[Accessed&#160;September&#160;1,&#160;2024].</p>
<p style="position:absolute;top:612px;left:69px;white-space:nowrap" class="ft299">[55]&#160;Peter-Michael&#160;Osera&#160;and&#160;Steve&#160;Zdancewic.&#160;2015.&#160;Type-and-Example-Directed&#160;Program&#160;Synthesis.&#160;In&#160;Conference&#160;on</p>
<p style="position:absolute;top:627px;left:94px;white-space:nowrap" class="ft2950">Programming&#160;Language&#160;Design&#160;and&#160;Implementation&#160;(PLDI).</p>
<p style="position:absolute;top:642px;left:69px;white-space:nowrap" class="ft299">[56]&#160;Shuyin&#160;Ouyang,&#160;Jie&#160;M.&#160;Zhang,&#160;Mark&#160;Harman,&#160;and&#160;Meng&#160;Wang.&#160;2023.&#160;LLM&#160;is&#160;Like&#160;a&#160;Box&#160;of&#160;Chocolates:&#160;the&#160;Non-</p>
<p style="position:absolute;top:657px;left:94px;white-space:nowrap" class="ft299">determinism&#160;of&#160;ChatGPT&#160;in&#160;Code&#160;Generation.&#160;<a href="https://arxiv.org/abs/2308.02828">arXiv:2308.02828&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:672px;left:69px;white-space:nowrap" class="ft299">[57]&#160;Nikhil&#160;Parasaram,&#160;Huijie&#160;Yan,&#160;Boyu&#160;Yang,&#160;Zineb&#160;Flahy,&#160;Abriele&#160;Qudsi,&#160;Damian&#160;Ziaber,&#160;Earl&#160;Barr,&#160;and&#160;Sergey&#160;Mechtaev.</p>
<p style="position:absolute;top:687px;left:94px;white-space:nowrap" class="ft299">2024.&#160;The&#160;Fact&#160;Selection&#160;Problem&#160;in&#160;LLM-Based&#160;Program&#160;Repair.&#160;<a href="https://arxiv.org/abs/2404.05520">arXiv:2404.05520&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:701px;left:69px;white-space:nowrap" class="ft299">[58]&#160;Pardis&#160;Pashakhanloo,&#160;Aaditya&#160;Naik,&#160;Yuepeng&#160;Wang,&#160;Hanjun&#160;Dai,&#160;Petros&#160;Maniatis,&#160;and&#160;Mayur&#160;Naik.&#160;2021.&#160;Codetrek:</p>
<p style="position:absolute;top:716px;left:94px;white-space:nowrap" class="ft2954">Flexible&#160;modeling&#160;of&#160;code&#160;using&#160;an&#160;extensible&#160;relational&#160;representation.&#160;In&#160;International&#160;Conference&#160;on&#160;Learning<br/>Representations.&#160;<a href="https://www.seas.upenn.edu/~mhnaik/papers/iclr22.pdf">https://www.seas.upenn.edu/~mhnaik/papers/iclr22.pdf</a></p>
<p style="position:absolute;top:746px;left:69px;white-space:nowrap" class="ft299">[59]&#160;H.&#160;Pearce,&#160;B.&#160;Tan,&#160;B.&#160;Ahmad,&#160;R.&#160;Karri,&#160;and&#160;B.&#160;Dolan-Gavitt.&#160;2023.&#160;Examining&#160;Zero-Shot&#160;Vulnerability&#160;Repair&#160;with</p>
<p style="position:absolute;top:761px;left:94px;white-space:nowrap" class="ft2915">Large&#160;Language&#160;Models.&#160;In&#160;2023&#160;IEEE&#160;Symposium&#160;on&#160;Security&#160;and&#160;Privacy&#160;(SP).&#160;IEEE&#160;Computer&#160;Society,&#160;Los&#160;Alamitos,<br/>CA,&#160;USA,&#160;2339–2356.&#160;<a href="https://doi.org/10.1109/SP46215.2023.10179420">https://doi.org/10.1109/SP46215.2023.10179420</a></p>
<p style="position:absolute;top:791px;left:69px;white-space:nowrap" class="ft299">[60]&#160;Hengzhi&#160;Pei,&#160;Jinman&#160;Zhao,&#160;Leonard&#160;Lausen,&#160;Sheng&#160;Zha,&#160;and&#160;George&#160;Karypis.&#160;2023.&#160;Better&#160;context&#160;makes&#160;better</p>
<p style="position:absolute;top:806px;left:94px;white-space:nowrap" class="ft2915">code&#160;language&#160;models:&#160;a&#160;case&#160;study&#160;on&#160;function&#160;call&#160;argument&#160;completion.&#160;In&#160;Proceedings&#160;of&#160;the&#160;Thirty-Seventh&#160;AAAI<br/>Conference&#160;on&#160;Artificial&#160;Intelligence&#160;and&#160;Thirty-Fifth&#160;Conference&#160;on&#160;Innovative&#160;Applications&#160;of&#160;Artificial&#160;Intelligence&#160;and<br/>Thirteenth&#160;Symposium&#160;on&#160;Educational&#160;Advances&#160;in&#160;Artificial&#160;Intelligence&#160;(AAAI’23/IAAI’23/EAAI’23).&#160;AAAI&#160;Press,&#160;Article<br/>584.&#160;<a href="https://doi.org/10.1609/aaai.v37i4.25653">https://doi.org/10.1609/aaai.v37i4.25653</a></p>
<p style="position:absolute;top:866px;left:69px;white-space:nowrap" class="ft299">[61]&#160;Sida&#160;Peng,&#160;Eirini&#160;Kalliamvakou,&#160;Peter&#160;Cihon,&#160;and&#160;Mert&#160;Demirer.&#160;2023.&#160;The&#160;Impact&#160;of&#160;AI&#160;on&#160;Developer&#160;Productivity:&#160;Evi-</p>
<p style="position:absolute;top:881px;left:94px;white-space:nowrap" class="ft299">dence&#160;from&#160;GitHub&#160;Copilot.&#160;CoRR&#160;abs/2302.06590&#160;(2023).&#160;<a href="https://doi.org/10.48550/ARXIV.2302.06590">https://doi.org/10.48550/ARXIV.2302.06590&#160;</a><a href="https://arxiv.org/abs/2302.06590">arXiv:2302.06590</a></p>
<p style="position:absolute;top:896px;left:69px;white-space:nowrap" class="ft2952">[62]&#160;Benjamin&#160;C.&#160;Pierce.&#160;2002.&#160;Types&#160;and&#160;Programming&#160;Languages.&#160;MIT&#160;Press.&#160;<a href="https://dl.acm.org/doi/book/10.5555/509043">https://dl.acm.org/doi/book/10.5555/509043<br/></a>[63]&#160;Julian&#160;Aron&#160;Prenner,&#160;Hlib&#160;Babii,&#160;and&#160;Romain&#160;Robbes.&#160;2022.&#160;Can&#160;OpenAI’s&#160;codex&#160;fix&#160;bugs?&#160;an&#160;evaluation&#160;on&#160;QuixBugs.</p>
<p style="position:absolute;top:926px;left:94px;white-space:nowrap" class="ft299">In&#160;Proceedings&#160;of&#160;the&#160;Third&#160;International&#160;Workshop&#160;on&#160;Automated&#160;Program&#160;Repair&#160;(Pittsburgh,&#160;Pennsylvania)&#160;(APR&#160;’22).</p>
<p style="position:absolute;top:941px;left:94px;white-space:nowrap" class="ft299">Association&#160;for&#160;Computing&#160;Machinery,&#160;New&#160;York,&#160;NY,&#160;USA,&#160;69–75.&#160;<a href="https://doi.org/10.1145/3524459.3527351">https://doi.org/10.1145/3524459.3527351</a></p>
<p style="position:absolute;top:956px;left:69px;white-space:nowrap" class="ft299">[64]&#160;Alec&#160;Radford,&#160;Jeffrey&#160;Wu,&#160;Rewon&#160;Child,&#160;David&#160;Luan,&#160;Dario&#160;Amodei,&#160;Ilya&#160;Sutskever,&#160;et&#160;al.&#160;2019.&#160;Language&#160;models</p>
<p style="position:absolute;top:970px;left:94px;white-space:nowrap" class="ft299">are&#160;unsupervised&#160;multitask&#160;learners.&#160;OpenAI&#160;Blog&#160;(2019).&#160;<a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf">https://d4mucfpksywv.cloudfront.net/better-language-</a></p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft299"><a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</a></p>
</div>
<!-- Page 30 -->
<a name="30"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page30-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out030.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft3016"><a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf">288:30</a></p>
<p style="position:absolute;top:93px;left:371px;white-space:nowrap" class="ft3016"><a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf">Andrew&#160;Blinn,&#160;Xiang&#160;Li,&#160;June&#160;Hyung&#160;Kim,&#160;and&#160;Cyrus&#160;Omar</a></p>
<p style="position:absolute;top:134px;left:94px;white-space:nowrap" class="ft3049"><a href="https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf">models/language_models_are_unsupervised_multitask_learners.pdf</a></p>
<p style="position:absolute;top:149px;left:69px;white-space:nowrap" class="ft309">[65]&#160;Oscar&#160;Sainz,&#160;Jon&#160;Campos,&#160;Iker&#160;García-Ferrero,&#160;Julen&#160;Etxaniz,&#160;Oier&#160;Lopez&#160;de&#160;Lacalle,&#160;and&#160;Eneko&#160;Agirre.&#160;2023.&#160;NLP</p>
<p style="position:absolute;top:163px;left:94px;white-space:nowrap" class="ft3054">Evaluation&#160;in&#160;trouble:&#160;On&#160;the&#160;Need&#160;to&#160;Measure&#160;LLM&#160;Data&#160;Contamination&#160;for&#160;each&#160;Benchmark.&#160;In&#160;Findings&#160;of&#160;the<br/>Association&#160;for&#160;Computational&#160;Linguistics:&#160;EMNLP&#160;2023.&#160;10776–10787.</p>
<p style="position:absolute;top:178px;left:455px;white-space:nowrap" class="ft3049"><a href="https://doi.org/10.18653/v1/2023.findings-emnlp.722">https://doi.org/10.18653/v1/2023.findings-</a></p>
<p style="position:absolute;top:193px;left:94px;white-space:nowrap" class="ft3049"><a href="https://doi.org/10.18653/v1/2023.findings-emnlp.722">emnlp.722</a></p>
<p style="position:absolute;top:208px;left:69px;white-space:nowrap" class="ft309">[66]&#160;Anton&#160;Semenkin,&#160;Yaroslav&#160;Sokolov,&#160;and&#160;Evgeniia&#160;Vu.&#160;2024.&#160;Context&#160;Composing&#160;for&#160;Full&#160;Line&#160;Code&#160;Completion.</p>
<p style="position:absolute;top:223px;left:94px;white-space:nowrap" class="ft309">In&#160;Proceedings&#160;of&#160;the&#160;1st&#160;ACM/IEEE&#160;Workshop&#160;on&#160;Integrated&#160;Development&#160;Environments&#160;(IDE&#160;’24).&#160;15–17.</p>
<p style="position:absolute;top:223px;left:633px;white-space:nowrap" class="ft3049"><a href="https://doi.org/10.48550/arXiv.2402.09230">https:</a></p>
<p style="position:absolute;top:238px;left:94px;white-space:nowrap" class="ft3049"><a href="https://doi.org/10.48550/arXiv.2402.09230">//doi.org/10.48550/arXiv.2402.09230</a></p>
<p style="position:absolute;top:253px;left:69px;white-space:nowrap" class="ft309">[67]&#160;Disha&#160;Shrivastava,&#160;Hugo&#160;Larochelle,&#160;and&#160;Daniel&#160;Tarlow.&#160;2023.&#160;Repository-level&#160;prompt&#160;generation&#160;for&#160;large&#160;language</p>
<p style="position:absolute;top:268px;left:94px;white-space:nowrap" class="ft3015">models&#160;of&#160;code.&#160;In&#160;Proceedings&#160;of&#160;the&#160;40th&#160;International&#160;Conference&#160;on&#160;Machine&#160;Learning&#160;(ICML’23).&#160;JMLR.org,&#160;Article<br/>1314.&#160;<a href="https://dl.acm.org/doi/10.5555/3618408.3619722">https://dl.acm.org/doi/10.5555/3618408.3619722</a></p>
<p style="position:absolute;top:298px;left:69px;white-space:nowrap" class="ft309">[68]&#160;Jeremy&#160;G.&#160;Siek,&#160;Michael&#160;M.&#160;Vitousek,&#160;Matteo&#160;Cimini,&#160;and&#160;John&#160;Tang&#160;Boyland.&#160;2015.&#160;Refined&#160;Criteria&#160;for&#160;Gradual</p>
<p style="position:absolute;top:313px;left:94px;white-space:nowrap" class="ft3015">Typing.&#160;In&#160;1st&#160;Summit&#160;on&#160;Advances&#160;in&#160;Programming&#160;Languages,&#160;SNAPL&#160;2015,&#160;May&#160;3-6,&#160;2015,&#160;Asilomar,&#160;California,&#160;USA<br/>(LIPIcs,&#160;Vol.&#160;32),&#160;Thomas&#160;Ball,&#160;Rastislav&#160;Bodík,&#160;Shriram&#160;Krishnamurthi,&#160;Benjamin&#160;S.&#160;Lerner,&#160;and&#160;Greg&#160;Morrisett&#160;(Eds.).<br/>Schloss&#160;Dagstuhl&#160;-&#160;Leibniz-Zentrum&#160;für&#160;Informatik,&#160;274–293.&#160;<a href="https://doi.org/10.4230/LIPICS.SNAPL.2015.274">https://doi.org/10.4230/LIPICS.SNAPL.2015.274</a></p>
<p style="position:absolute;top:358px;left:69px;white-space:nowrap" class="ft3015">[69]&#160;Nathan&#160;Sobo.&#160;2024.&#160;Introducing&#160;Zed&#160;AI.&#160;<a href="https://zed.dev/blog/zed-ai">https://zed.dev/blog/zed-ai&#160;</a>[Accessed&#160;August&#160;31,&#160;2024].<br/>[70]&#160;SourceGraph.&#160;2023.&#160;Cody&#160;Context&#160;Architecture&#160;Whitepaper.&#160;<a href="https://sourcegraph.com/resources/a-lp-cody-context-architecture">https://sourcegraph.com/resources/a-lp-cody-context-</a></p>
<p style="position:absolute;top:388px;left:94px;white-space:nowrap" class="ft3049"><a href="https://sourcegraph.com/resources/a-lp-cody-context-architecture">architecture&#160;</a>[Accessed&#160;August&#160;31,&#160;2024].</p>
<p style="position:absolute;top:403px;left:69px;white-space:nowrap" class="ft309">[71]&#160;Parth&#160;Thakkar.&#160;2022.&#160;Copilot&#160;Explorer.&#160;<a href="https://thakkarparth007.github.io/copilot-explorer/posts/copilot-internals.html">https://thakkarparth007.github.io/copilot-explorer/posts/copilot-internals.html</a></p>
<p style="position:absolute;top:418px;left:94px;white-space:nowrap" class="ft309">[Accessed&#160;August&#160;31,&#160;2024].</p>
<p style="position:absolute;top:432px;left:69px;white-space:nowrap" class="ft309">[72]&#160;U.S.&#160;Information&#160;Agency.&#160;1948.&#160;Photograph&#160;of&#160;World’s&#160;First&#160;Computer,&#160;the&#160;Electronic&#160;Numerical&#160;Integrator&#160;and</p>
<p style="position:absolute;top:447px;left:94px;white-space:nowrap" class="ft309">Calculator.&#160;<a href="https://catalog.archives.gov/id/594262">https://catalog.archives.gov/id/594262&#160;</a>[Accessed&#160;August&#160;30,&#160;2024].</p>
<p style="position:absolute;top:462px;left:69px;white-space:nowrap" class="ft309">[73]&#160;Priyan&#160;Vaithilingam,&#160;Elena&#160;L.&#160;Glassman,&#160;Peter&#160;Groenwegen,&#160;Sumit&#160;Gulwani,&#160;Austin&#160;Z.&#160;Henley,&#160;Rohan&#160;Malpani,</p>
<p style="position:absolute;top:477px;left:94px;white-space:nowrap" class="ft309">David&#160;Pugh,&#160;Arjun&#160;Radhakrishna,&#160;Gustavo&#160;Soares,&#160;Joey&#160;Wang,&#160;and&#160;Aaron&#160;Yim.&#160;2023.&#160;Towards&#160;More&#160;Effective&#160;AI-</p>
<p style="position:absolute;top:492px;left:93px;white-space:nowrap" class="ft309">Assisted&#160;Programming:&#160;A&#160;Systematic&#160;Design&#160;Exploration&#160;to&#160;Improve&#160;Visual&#160;Studio&#160;IntelliCode’s&#160;User&#160;Experience.&#160;In</p>
<p style="position:absolute;top:507px;left:94px;white-space:nowrap" class="ft3055">45th&#160;IEEE/ACM&#160;International&#160;Conference&#160;on&#160;Software&#160;Engineering:&#160;Software&#160;Engineering&#160;in&#160;Practice,&#160;SEIP@ICSE&#160;2023,<br/>Melbourne,&#160;Australia,&#160;May&#160;14-20,&#160;2023.&#160;IEEE,&#160;185–195.&#160;<a href="https://doi.org/10.1109/ICSE-SEIP58684.2023.00022">https://doi.org/10.1109/ICSE-SEIP58684.2023.00022</a></p>
<p style="position:absolute;top:537px;left:69px;white-space:nowrap" class="ft309">[74]&#160;Priyan&#160;Vaithilingam,&#160;Tianyi&#160;Zhang,&#160;and&#160;Elena&#160;L.&#160;Glassman.&#160;2022.&#160;Expectation&#160;vs.&#160;Experience:&#160;Evaluating&#160;the&#160;Usability</p>
<p style="position:absolute;top:552px;left:94px;white-space:nowrap" class="ft3015">of&#160;Code&#160;Generation&#160;Tools&#160;Powered&#160;by&#160;Large&#160;Language&#160;Models.&#160;In&#160;CHI&#160;’22:&#160;CHI&#160;Conference&#160;on&#160;Human&#160;Factors&#160;in<br/>Computing&#160;Systems,&#160;New&#160;Orleans,&#160;LA,&#160;USA,&#160;29&#160;April&#160;2022&#160;-&#160;5&#160;May&#160;2022,&#160;Extended&#160;Abstracts,&#160;Simone&#160;D.&#160;J.&#160;Barbosa,&#160;Cliff<br/>Lampe,&#160;Caroline&#160;Appert,&#160;and&#160;David&#160;A.&#160;Shamma&#160;(Eds.).&#160;ACM,&#160;332:1–332:7.&#160;<a href="https://doi.org/10.1145/3491101.3519665">https://doi.org/10.1145/3491101.3519665</a></p>
<p style="position:absolute;top:597px;left:69px;white-space:nowrap" class="ft309">[75]&#160;Priyan&#160;Vaithilingam,&#160;Tianyi&#160;Zhang,&#160;and&#160;Elena&#160;L.&#160;Glassman.&#160;2022.&#160;Expectation&#160;vs.&#160;Experience:&#160;Evaluating&#160;the&#160;Usability</p>
<p style="position:absolute;top:612px;left:94px;white-space:nowrap" class="ft3015">of&#160;Code&#160;Generation&#160;Tools&#160;Powered&#160;by&#160;Large&#160;Language&#160;Models.&#160;In&#160;Extended&#160;Abstracts&#160;of&#160;the&#160;2022&#160;CHI&#160;Conference&#160;on<br/>Human&#160;Factors&#160;in&#160;Computing&#160;Systems&#160;(New&#160;Orleans,&#160;LA,&#160;USA)&#160;(CHI&#160;EA&#160;’22).&#160;Association&#160;for&#160;Computing&#160;Machinery,<br/>New&#160;York,&#160;NY,&#160;USA,&#160;Article&#160;332,&#160;7&#160;pages.&#160;<a href="https://doi.org/10.1145/3491101.3519665">https://doi.org/10.1145/3491101.3519665</a></p>
<p style="position:absolute;top:657px;left:69px;white-space:nowrap" class="ft309">[76]&#160;Yanlin&#160;Wang,&#160;Yanli&#160;Wang,&#160;Daya&#160;Guo,&#160;Jiachi&#160;Chen,&#160;Ruikai&#160;Zhang,&#160;Yuchi&#160;Ma,&#160;and&#160;Zibin&#160;Zheng.&#160;2024.&#160;RLCoder:</p>
<p style="position:absolute;top:672px;left:94px;white-space:nowrap" class="ft3052">Reinforcement&#160;Learning&#160;for&#160;Repository-Level&#160;Code&#160;Completion.&#160;<a href="https://arxiv.org/abs/2407.19487">arXiv:2407.19487&#160;</a>[cs.SE]&#160;<a href="https://arxiv.org/abs/2407.19487">https://arxiv.org/abs/2407.<br/>19487</a></p>
<p style="position:absolute;top:701px;left:69px;white-space:nowrap" class="ft309">[77]&#160;Yuxiang&#160;Wei,&#160;Chunqiu&#160;Steven&#160;Xia,&#160;and&#160;Lingming&#160;Zhang.&#160;2023.&#160;Copiloting&#160;the&#160;Copilots:&#160;Fusing&#160;Large&#160;Language&#160;Models</p>
<p style="position:absolute;top:716px;left:94px;white-space:nowrap" class="ft309">with&#160;Completion&#160;Engines&#160;for&#160;Automated&#160;Program&#160;Repair.&#160;In&#160;Proceedings&#160;of&#160;the&#160;31st&#160;ACM&#160;Joint&#160;European&#160;Software</p>
<p style="position:absolute;top:731px;left:94px;white-space:nowrap" class="ft3015">Engineering&#160;Conference&#160;and&#160;Symposium&#160;on&#160;the&#160;Foundations&#160;of&#160;Software&#160;Engineering&#160;(ESEC/FSE&#160;2023).&#160;Association&#160;for<br/>Computing&#160;Machinery,&#160;New&#160;York,&#160;NY,&#160;USA,&#160;172–184.&#160;<a href="https://doi.org/10.1145/3611643.3616271">https://doi.org/10.1145/3611643.3616271</a></p>
<p style="position:absolute;top:761px;left:69px;white-space:nowrap" class="ft309">[78]&#160;Frank&#160;F.&#160;Xu,&#160;Uri&#160;Alon,&#160;Graham&#160;Neubig,&#160;and&#160;Vincent&#160;Josua&#160;Hellendoorn.&#160;2022.&#160;A&#160;systematic&#160;evaluation&#160;of&#160;large&#160;language</p>
<p style="position:absolute;top:776px;left:94px;white-space:nowrap" class="ft3054">models&#160;of&#160;code.&#160;In&#160;MAPS@PLDI&#160;2022:&#160;6th&#160;ACM&#160;SIGPLAN&#160;International&#160;Symposium&#160;on&#160;Machine&#160;Programming,&#160;San&#160;Diego,<br/>CA,&#160;USA,&#160;13&#160;June&#160;2022.&#160;ACM,&#160;1–10.&#160;<a href="https://doi.org/10.1145/3520312.3534862">https://doi.org/10.1145/3520312.3534862</a></p>
<p style="position:absolute;top:806px;left:69px;white-space:nowrap" class="ft309">[79]&#160;Rongwu&#160;Xu,&#160;Zehan&#160;Qi,&#160;Cunxiang&#160;Wang,&#160;Hongru&#160;Wang,&#160;Yue&#160;Zhang,&#160;and&#160;Wei&#160;Xu.&#160;2024.&#160;Knowledge&#160;Conflicts&#160;for&#160;LLMs:</p>
<p style="position:absolute;top:821px;left:94px;white-space:nowrap" class="ft309">A&#160;Survey.&#160;<a href="https://arxiv.org/abs/2403.08319">arXiv:2403.08319&#160;</a>[cs.CL]</p>
<p style="position:absolute;top:836px;left:69px;white-space:nowrap" class="ft309">[80]&#160;Ziwei&#160;Xu,&#160;Sanjay&#160;Jain,&#160;and&#160;Mohan&#160;Kankanhalli.&#160;2024.&#160;Hallucination&#160;is&#160;inevitable:&#160;An&#160;innate&#160;limitation&#160;of&#160;large&#160;language</p>
<p style="position:absolute;top:851px;left:94px;white-space:nowrap" class="ft309">models.&#160;<a href="https://arxiv.org/abs/2401.11817">arXiv:2401.11817&#160;</a>[cs.CL]</p>
<p style="position:absolute;top:866px;left:69px;white-space:nowrap" class="ft309">[81]&#160;Yongwei&#160;Yuan,&#160;Scott&#160;Guest,&#160;Eric&#160;Griffis,&#160;Hannah&#160;Potter,&#160;David&#160;Moon,&#160;and&#160;Cyrus&#160;Omar.&#160;2023.&#160;Live&#160;Pattern&#160;Matching</p>
<p style="position:absolute;top:881px;left:94px;white-space:nowrap" class="ft309">with&#160;Typed&#160;Holes.&#160;Proc.&#160;ACM&#160;Program.&#160;Lang.&#160;7,&#160;OOPSLA1&#160;(2023),&#160;609–635.&#160;<a href="https://doi.org/10.1145/3586048">https://doi.org/10.1145/3586048</a></p>
<p style="position:absolute;top:896px;left:69px;white-space:nowrap" class="ft309">[82]&#160;Daoguang&#160;Zan,&#160;Bei&#160;Chen,&#160;Yongshun&#160;Gong,&#160;Junzhi&#160;Cao,&#160;Fengji&#160;Zhang,&#160;Bingchao&#160;Wu,&#160;Bei&#160;Guan,&#160;Yilong&#160;Yin,&#160;and&#160;Yongji</p>
<p style="position:absolute;top:911px;left:94px;white-space:nowrap" class="ft309">Wang.&#160;2023.&#160;Private-library-oriented&#160;code&#160;generation&#160;with&#160;large&#160;language&#160;models.&#160;<a href="https://arxiv.org/abs/2307.15370">arXiv:2307.15370&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:926px;left:69px;white-space:nowrap" class="ft309">[83]&#160;Fengji&#160;Zhang,&#160;Bei&#160;Chen,&#160;Yue&#160;Zhang,&#160;Jacky&#160;Keung,&#160;Jin&#160;Liu,&#160;Daoguang&#160;Zan,&#160;Yi&#160;Mao,&#160;Jian-Guang&#160;Lou,&#160;and&#160;Weizhu&#160;Chen.</p>
<p style="position:absolute;top:941px;left:94px;white-space:nowrap" class="ft3052">2023.&#160;RepoCoder:&#160;Repository-Level&#160;Code&#160;Completion&#160;Through&#160;Iterative&#160;Retrieval&#160;and&#160;Generation.&#160;In&#160;Proceedings&#160;of<br/>the&#160;2023&#160;Conference&#160;on&#160;Empirical&#160;Methods&#160;in&#160;Natural&#160;Language&#160;Processing.&#160;2471–2484.&#160;<a href="https://doi.org/10.18653/v1/2023.emnlp-main.151">https://doi.org/10.18653/v1/2023.<br/>emnlp-main.151</a></p>
<p style="position:absolute;top:1012px;left:69px;white-space:nowrap" class="ft309">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<!-- Page 31 -->
<a name="31"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page31-div" style="position:relative;width:729px;height:1080px;">
<img width="729" height="1080" src="out031.png" alt="background image"/>
<p style="position:absolute;top:93px;left:69px;white-space:nowrap" class="ft3116">Statically&#160;Contextualizing&#160;Large&#160;Language&#160;Models&#160;with&#160;Typed&#160;Holes</p>
<p style="position:absolute;top:93px;left:630px;white-space:nowrap" class="ft3116">288:31</p>
<p style="position:absolute;top:134px;left:69px;white-space:nowrap" class="ft319">[84]&#160;Jialu&#160;Zhang,&#160;José&#160;Pablo&#160;Cambronero,&#160;Sumit&#160;Gulwani,&#160;Vu&#160;Le,&#160;Ruzica&#160;Piskac,&#160;Gustavo&#160;Soares,&#160;and&#160;Gust&#160;Verbruggen.&#160;2024.</p>
<p style="position:absolute;top:149px;left:94px;white-space:nowrap" class="ft319">PyDex:&#160;Repairing&#160;Bugs&#160;in&#160;Introductory&#160;Python&#160;Assignments&#160;using&#160;LLMs.&#160;Proc.&#160;ACM&#160;Program.&#160;Lang.&#160;8,&#160;OOPSLA1,</p>
<p style="position:absolute;top:163px;left:94px;white-space:nowrap" class="ft319">Article&#160;133&#160;(apr&#160;2024).&#160;<a href="https://doi.org/10.1145/3649850">https://doi.org/10.1145/3649850</a></p>
<p style="position:absolute;top:178px;left:69px;white-space:nowrap" class="ft319">[85]&#160;Yue&#160;Zhang,&#160;Yafu&#160;Li,&#160;Leyang&#160;Cui,&#160;Deng&#160;Cai,&#160;Lemao&#160;Liu,&#160;Tingchen&#160;Fu,&#160;Xinting&#160;Huang,&#160;Enbo&#160;Zhao,&#160;Yu&#160;Zhang,&#160;Yulong&#160;Chen,</p>
<p style="position:absolute;top:193px;left:94px;white-space:nowrap" class="ft319">et&#160;al.&#160;2023.&#160;Siren’s&#160;song&#160;in&#160;the&#160;AI&#160;ocean:&#160;a&#160;survey&#160;on&#160;hallucination&#160;in&#160;large&#160;language&#160;models.&#160;<a href="https://arxiv.org/abs/2309.01219">arXiv:2309.01219&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:208px;left:69px;white-space:nowrap" class="ft319">[86]&#160;Yuntong&#160;Zhang,&#160;Haifeng&#160;Ruan,&#160;Zhiyu&#160;Fan,&#160;and&#160;Abhik&#160;Roychoudhury.&#160;2024.&#160;AutoCodeRover:&#160;Autonomous&#160;Program</p>
<p style="position:absolute;top:223px;left:94px;white-space:nowrap" class="ft319">Improvement.&#160;<a href="https://arxiv.org/abs/2404.05427">arXiv:2404.05427&#160;</a>[cs.SE]</p>
<p style="position:absolute;top:238px;left:69px;white-space:nowrap" class="ft319">[87]&#160;Eric&#160;Zhao,&#160;Raef&#160;Maroof,&#160;Anand&#160;Dukkipati,&#160;Andrew&#160;Blinn,&#160;Zhiyi&#160;Pan,&#160;and&#160;Cyrus&#160;Omar.&#160;2024.&#160;Total&#160;Type&#160;Error</p>
<p style="position:absolute;top:253px;left:94px;white-space:nowrap" class="ft3152">Localization&#160;and&#160;Recovery&#160;with&#160;Holes.&#160;Proc.&#160;ACM&#160;Program.&#160;Lang.&#160;8,&#160;POPL&#160;(2024),&#160;2041–2068.&#160;<a href="https://doi.org/10.1145/3632910">https://doi.org/10.1145/<br/>3632910</a></p>
<p style="position:absolute;top:283px;left:69px;white-space:nowrap" class="ft319">[88]&#160;Albert&#160;Ziegler,&#160;Eirini&#160;Kalliamvakou,&#160;X.&#160;Alice&#160;Li,&#160;Andrew&#160;Rice,&#160;Devon&#160;Rifkin,&#160;Shawn&#160;Simister,&#160;Ganesh&#160;Sittampalam,&#160;and</p>
<p style="position:absolute;top:298px;left:94px;white-space:nowrap" class="ft3115">Edward&#160;Aftandilian.&#160;2024.&#160;Measuring&#160;GitHub&#160;Copilot’s&#160;Impact&#160;on&#160;Productivity.&#160;Commun.&#160;ACM&#160;67,&#160;3&#160;(2024),&#160;54–63.<br/><a href="https://doi.org/10.1145/3633453">https://doi.org/10.1145/3633453</a></p>
<p style="position:absolute;top:328px;left:69px;white-space:nowrap" class="ft319">[89]&#160;Barret&#160;Zoph,&#160;Colin&#160;Raffel,&#160;Dale&#160;Schuurmans,&#160;Dani&#160;Yogatama,&#160;Denny&#160;Zhou,&#160;Don&#160;Metzler,&#160;Ed&#160;H.&#160;Chi,&#160;Jason&#160;Wei,&#160;Jeff</p>
<p style="position:absolute;top:343px;left:94px;white-space:nowrap" class="ft3115">Dean,&#160;Liam&#160;B.&#160;Fedus,&#160;Maarten&#160;Paul&#160;Bosma,&#160;Oriol&#160;Vinyals,&#160;Percy&#160;Liang,&#160;Sebastian&#160;Borgeaud,&#160;Tatsunori&#160;B.&#160;Hashimoto,<br/>and&#160;Yi&#160;Tay.&#160;2022.&#160;Emergent&#160;abilities&#160;of&#160;large&#160;language&#160;models.&#160;TMLR&#160;(2022).</p>
<p style="position:absolute;top:386px;left:69px;white-space:nowrap" class="ft313">Received&#160;2024-04-06;&#160;accepted&#160;2024-08-18</p>
<p style="position:absolute;top:1012px;left:203px;white-space:nowrap" class="ft319">Proc.&#160;ACM&#160;Program.&#160;Lang.,&#160;Vol.&#160;8,&#160;No.&#160;OOPSLA2,&#160;Article&#160;288.&#160;Publication&#160;date:&#160;October&#160;2024.</p>
</div>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="out.html#1">Abstract</a></li>
<li><a href="out.html#2">1 Introduction</a>
<ul>
<li><a href="out.html#4">1.1 Evaluation Overview</a></li>
</ul>
</li>
<li><a href="out.html#6">2 Static Retrieval and Error Correction in the Hazel Assistant</a>
<ul>
<li><a href="out.html#6">2.1 Hazel</a></li>
<li><a href="out.html#7">2.2 Hazel Assistant</a></li>
<li><a href="out.html#8">2.3 The Hazel Assistant Trialogue</a></li>
<li><a href="out.html#8">2.4 System Message: The Hazel Crash Course</a></li>
<li><a href="out.html#9">2.5 Type Retrieval</a></li>
<li><a href="out.html#11">2.6 Relevant Headers from the Typing Context</a></li>
<li><a href="out.html#13">2.7 Syntactic and Semantic Error Correction</a></li>
<li><a href="out.html#13">2.8 Experimental Evaluation</a></li>
<li><a href="out.html#15">2.9 Hazel GPT-4 Results</a></li>
<li><a href="out.html#19">2.10 Hazel StarCoder2-15B Results</a></li>
</ul>
</li>
<li><a href="out.html#19">3 Static Retrieval in TypeScript</a>
<ul>
<li><a href="out.html#20">3.1 TypeScript Methodology</a></li>
<li><a href="out.html#20">3.2 TypeScript GPT-4 Results</a></li>
<li><a href="out.html#21">3.3 TypeScript StarCoder2-15B Results</a></li>
</ul>
</li>
<li><a href="out.html#21">4 Threats to Validity</a></li>
<li><a href="out.html#22">5 ChatLSP</a>
<ul>
<li><a href="out.html#22">5.1 ChatLSP API Methods</a></li>
<li><a href="out.html#23">5.2 Static Contextualization Language Server API</a></li>
</ul>
</li>
<li><a href="out.html#23">6 Related work</a></li>
<li><a href="out.html#25">7 Discussion and Conclusion</a></li>
<li><a href="out.html#26">8 Data Availability</a></li>
<li><a href="out.html#26">9 Acknowledgements</a></li>
<li><a href="out.html#26">References</a></li>
</ul>
<hr/>
</body>
</html>
