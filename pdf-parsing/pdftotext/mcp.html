<!DOCTYPE html>
<html>
<head>
<style>
body{background-color:slategray}
div{position:relative;background-color:white;margin:1em auto;box-shadow:1px 1px 8px -2px black}
p{position:absolute;white-space:pre;margin:0}
</style>
</head>
<body>
<div id="page1" style="width:486.0pt;height:720.0pt">
<p style="top:83.2pt;left:45.8pt;line-height:14.3pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:14.3pt;color:#000000">Statically Contextualizing Large Language Models with</span></b></p>
<p style="top:100.1pt;left:45.4pt;line-height:14.3pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:14.3pt;color:#000000">Typed Holes</span></b></p>
<p style="top:125.9pt;left:45.5pt;line-height:10.9pt"><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#005595">ANDREW BLINN</span><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000"> University of Michigan, USA</span></p>
<p style="top:138.9pt;left:45.5pt;line-height:10.9pt"><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#005595">XIANG LI</span><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000"> University of Michigan, USA</span></p>
<p style="top:151.8pt;left:45.7pt;line-height:10.9pt"><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#005595">JUNE HYUNG KIM</span><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000"> University of Michigan, USA</span></p>
<p style="top:164.8pt;left:45.8pt;line-height:10.9pt"><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#005595">CYRUS OMAR</span><span style="font-family:LinBiolinumT,serif;font-size:10.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000"> University of Michigan, USA</span></p>
<p style="top:183.9pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">Large language models (LLMs) have reshaped the landscape of program synthesis. However, contemporary</span></p>
<p style="top:195.0pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">LLM-based code completion systems often hallucinate broken code because they lack appropriate code context,</span></p>
<p style="top:205.8pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">particularly when working with definitions that are neither in the training data nor near the cursor. This</span></p>
<p style="top:216.9pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">paper demonstrates that tighter integration with the type and binding structure of the programming language</span></p>
<p style="top:227.8pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">in use, as exposed by its language server, can help address this contextualization problem in a token-efficient</span></p>
<p style="top:238.7pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">manner. In short, we contend that AIs need IDEs, too! In particular, we integrate LLM code generation into</span></p>
<p style="top:249.6pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">the Hazel live program sketching environment. The Hazel Language Server is able to identify the type and</span></p>
<p style="top:260.7pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">typing context of the hole that the programmer is filling, with Hazel&#x2019;s total syntax and type error correction</span></p>
<p style="top:271.6pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">ensuring that a meaningful program sketch is available whenever the developer requests a completion. This</span></p>
<p style="top:282.5pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">allows the system to prompt the LLM with codebase-wide contextual information that is not lexically local</span></p>
<p style="top:293.5pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">to the cursor, nor necessarily in the same file, but that is likely to be semantically local to the developer&#x2019;s</span></p>
<p style="top:304.4pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">goal. Completions synthesized by the LLM are then iteratively refined via further dialog with the language</span></p>
<p style="top:315.4pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">server, which provides error localization and error messages. To evaluate these techniques, we introduce</span></p>
<p style="top:326.5pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">MVUBench, a dataset of model-view-update (MVU) web applications with accompanying unit tests that have</span></p>
<p style="top:337.4pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">been written from scratch to avoid data contamination, and that can easily be ported to new languages because</span></p>
<p style="top:348.3pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">they do not have large external library dependencies. These applications serve as challenge problems due to</span></p>
<p style="top:359.2pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">their extensive reliance on application-specific data structures. Through an ablation study, we examine the</span></p>
<p style="top:370.3pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">impact of contextualization with type definitions, function headers, and errors messages, individually and in</span></p>
<p style="top:381.2pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">combination. We find that contextualization with type definitions is particularly impactful. After introducing</span></p>
<p style="top:392.2pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">our ideas in the context of Hazel, a low-resource language, we duplicate our techniques and port MVUBench</span></p>
<p style="top:403.2pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">to TypeScript in order to validate the applicability of these methods to higher-resource mainstream languages.</span></p>
<p style="top:414.0pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">Finally, we outline ChatLSP, a conservative extension to the Language Server Protocol (LSP) that language</span></p>
<p style="top:425.0pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">servers can implement to expose capabilities that AI code completion systems of various designs can use to</span></p>
<p style="top:436.0pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">incorporate static context when generating prompts for an LLM.</span></p>
<p style="top:452.4pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">CCS Concepts:</span><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000"> &#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.1pt;color:#000000"> Software and its engineering</span></b><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.1pt;color:#000000">Software creation and management</span></b><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">;</span><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000"> &#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.1pt;color:#000000"> Theory of</span></b></p>
<p style="top:463.4pt;left:45.8pt;line-height:9.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:9.0pt;color:#000000">computation</span></b><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.0pt;color:#000000">Type structures</span></b><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">.</span></p>
<p style="top:479.8pt;left:45.5pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">Additional Key Words and Phrases: Large Language Models, Program Synthesis, Program Repair</span></p>
<p style="top:496.3pt;left:45.5pt;line-height:9.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:9.0pt;color:#000000">ACM Reference Format:</span></b></p>
<p style="top:507.3pt;left:45.5pt;line-height:8.9pt"><span style="font-family:LinLibertineT,serif;font-size:8.9pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar. 2024. Statically Contextualizing Large Language</span></p>
<p style="top:518.1pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000">Models with Typed Holes.</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.1pt;color:#000000"> Proc. ACM Program. Lang.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000"> 8, OOPSLA2, Article 288 (October 2024),</span><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#781d7d"> 31</span><span style="font-family:LinLibertineT,serif;font-size:9.1pt;color:#000000"> pages.</span></p>
<p style="top:529.1pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#005595">https://doi.org/10.1145/3689728</span></p>
<p style="top:549.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Authors&#x2019; Contact Information:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005595"> Andrew Blinn</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">, University of Michigan, Ann Arbor, USA, blinnand@umich.edu;</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005595"> Xiang Li</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">,</span></p>
<p style="top:559.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">University of Michigan, Ann Arbor, USA, xkevli@umich.edu;</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005595"> June Hyung Kim</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">, University of Michigan, Ann Arbor, USA,</span></p>
<p style="top:569.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">jpoly@umich.edu;</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005595"> Cyrus Omar</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">, University of Michigan, Ann Arbor, USA, comar@umich.edu.</span></p>
<p style="top:629.9pt;left:45.3pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">&#xa9;</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 2024 Copyright held by the owner/author(s).</span></p>
<p style="top:639.9pt;left:45.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">ACM 2475-1421/2024/10-ART288</span></p>
<p style="top:649.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005595">https://doi.org/10.1145/3689728</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
<p style="top:617.9pt;left:46.0pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">This work is licensed under a Creative Commons Attribution 4.0 International License.</span></p>
</div>
<div id="page2" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:2</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:278.8pt;left:66.1pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 1. Hazel Assistant Conversational Architecture (see</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#781d7d"> section 9</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000"> for image acknowledgements)</span></p>
<p style="top:322.1pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">1</span></b></p>
<p style="top:322.1pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Introduction</span></b></p>
<p style="top:337.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Recent advances in generative AI have triggered an avalanche of new AI programming assistants&#x2014;</span></p>
<p style="top:349.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the most prominent is Copilot [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">23</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], but it has many competitors&#x2014;that generate code completions</span></p>
<p style="top:360.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">by prompting a large language model (LLM) pre-trained on a corpus of diverse natural language</span></p>
<p style="top:372.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">documents as well as code written in various programming languages [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">7</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 17</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 17</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 49</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 73</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 78</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. Once</span></p>
<p style="top:384.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">trained, an LLM iteratively transforms an input token sequence, called the</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> prompt</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, into</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> next-token</span></i></p>
<p style="top:396.7pt;left:45.8pt;line-height:10.1pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000">probability distributions</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> from which</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> completions</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> are sampled. LLMs are able to learn statistical</span></p>
<p style="top:408.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">regularities in the training data [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">29</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], with limited reasoning abilities emerging as LLMs scale up in</span></p>
<p style="top:420.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">size [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">89</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. As a result, AI assistants have become capable enough to substantially impact developer</span></p>
<p style="top:432.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">productivity [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">9</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 61</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 74</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 88</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. For example, one study reports a 50% increase in productivity when</span></p>
<p style="top:444.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">using Copilot [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">88</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. The impact is particularly pronounced for developers working with</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> high resource</span></i></p>
<p style="top:456.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">libraries and languages, i.e. those well-represented in the training data [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">78</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:468.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Contemporary AI assistants construct the prompt primarily using the program text appearing in</span></p>
<p style="top:480.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">a textual window around the developer&#x2019;s cursor (the</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> cursor window</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">) [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">66</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. This approach leads to</span></p>
<p style="top:492.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">poor performance in situations where critical task-relevant context comes from definitions that</span></p>
<p style="top:504.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">appear neither in the cursor window nor in the training data (the</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> semantic contextualization</span></b></p>
<p style="top:516.4pt;left:45.8pt;line-height:9.9pt"><b><span style="font-family:LinLibertineTB,serif;font-size:9.9pt;color:#000000">problem</span></b><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">) [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 19</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 38</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 60</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 67</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 77</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 82</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 83</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. For example, consider the following cursor window, which</span></p>
<p style="top:528.2pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">would arise when a developer is implementing a GUI component using the model-view-update</span></p>
<p style="top:540.2pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(MVU) architecture (central to popular GUI application frameworks like React [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">8</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">] and Elm [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">18</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]):</span></p>
<p style="top:557.8pt;left:60.0pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#7f807f">(* update the room booking data after a user action *)</span></p>
<p style="top:568.8pt;left:60.2pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">function</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update(model: Model , action: Action ): Model {</span></p>
<p style="top:587.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Correctly completing this function definition requires knowing the definitions of this specific</span></p>
<p style="top:599.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">component&#x2019;s</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> types, which commonly appear in different files in the repository</span></p>
<p style="top:611.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">and therefore outside the cursor window. Various other files might also contain relevant definitions,</span></p>
<p style="top:623.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">e.g. other types that can be reached from the definitions of</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, and useful helper</span></p>
<p style="top:635.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">functions for working with values of these types. Without access to these definitions, an LLM will</span></p>
<p style="top:647.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">either be unable to generate sufficiently probable completions (which may result in no completion</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page3" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:423.6pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:3</span></p>
<p style="top:86.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">being generated) or more typically it will hallucinate plausible-but-incorrect definitions based only</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">on the provided comment [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">80</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 85</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:110.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">To address this problem, assistant designers use various retrieval augmented generation (RAG)</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">techniques [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">25</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] to retrieve additional code from other files in the repository and external libraries</span></p>
<p style="top:134.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">for inclusion in the prompt. Real-world code bases often span hundreds of thousands of lines of</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">code, so exhaustive retrieval quickly runs into scaling issues. While prompt (i.e. context) size limits</span></p>
<p style="top:158.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">continue to increase [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">21</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], generation costs (measured in both time and energy) scale with token</span></p>
<p style="top:170.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">count [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">30</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. These costs are substantial (because LLMs typically have billions of parameters) so</span></p>
<p style="top:182.2pt;left:45.8pt;line-height:10.1pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000">token efficiency</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> remains a critical metric [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">66</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. Moreover, contemporary LLMs struggle to attend</span></p>
<p style="top:194.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to relevant information and ignore irrelevant information (such as the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> types for</span></p>
<p style="top:206.2pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000">other</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> GUI components) in large prompts [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">35</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 37</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 41</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 79</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:218.3pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Given these issues, assistant designers need retrieval techniques that prioritize task-relevant code.</span></p>
<p style="top:230.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">For example, Copilot retrieves code from locations in other files that the developer has recently</span></p>
<p style="top:242.0pt;left:45.6pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">visited, based on the heuristic that these are likely to be task-relevant [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">71</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. Another prominent</span></p>
<p style="top:254.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">retrieval strategy, which we will refer to as</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> vector retrieval</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, involves performing a vector search</span></p>
<p style="top:265.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">across the repository (and perhaps beyond) to retrieve code similar to the code in the cursor</span></p>
<p style="top:277.9pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">window [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">44</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 82</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 83</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], as measured by a learned vector similarity metric [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">36</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 49</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. This relies on the</span></p>
<p style="top:289.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">heuristic that lexically similar code is likely to be task-relevant code. In the example above, since</span></p>
<p style="top:301.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the type names</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> appear explicitly in the cursor window, this approach</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> may</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> find</span></p>
<p style="top:313.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">their definitions. However, it may also find irrelevant definitions of other types named</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span></p>
<p style="top:326.6pt;left:45.6pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Action</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> and other implementations of</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, e.g. those from other GUI components in this or other</span></p>
<p style="top:337.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">applications. It may also be less effective when the task-relevant definitions are not named explicitly,</span></p>
<p style="top:349.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">e.g. if the developer is later writing a call to</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">, the fact that the relevant types are</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span></p>
<p style="top:362.4pt;left:45.6pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> requires reasoning about the type signature of the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> function.</span></p>
<p style="top:373.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">These retrieval approaches are language-agnostic, treating source code as a sequence of tokens</span></p>
<p style="top:385.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">like any other, so they must necessarily deploy imprecise heuristics. In this paper, we instead</span></p>
<p style="top:397.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">consider language-aware approaches that take advantage of the fact that in many languages, code</span></p>
<p style="top:409.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">is governed by a rich type and binding discipline determined by a static semantics [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">28</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 62</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. To</span></p>
<p style="top:421.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">retrieve relevant semantic information and analyze candidate code completions, we rely on a</span></p>
<p style="top:433.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">modern language server [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">10</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 13</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] to provide various</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> language services</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, namely type reporting, typing</span></p>
<p style="top:445.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">context search, and error reporting. Integrated development environments (IDEs) interact with</span></p>
<p style="top:457.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">these services to drive various human-facing affordances such as type hints and hover messages.</span></p>
<p style="top:469.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Here we investigate the hypothesis that LLM code completion can also benefit from interactions</span></p>
<p style="top:481.2pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">with language services. Put pithily, we hypothesize that</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> AIs need IDEs, too</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:493.2pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We investigate two language-aware approaches independently and in combination:</span></p>
<p style="top:523.1pt;left:55.8pt;line-height:9.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000">Static Retrieval.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> The first approach we consider (</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d">section 2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">) is static retrieval, where the language</span></p>
<p style="top:535.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">server is tasked to (1) determine the type and typing context of the &#x201c;hole&#x201d; (implicit in the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span></p>
<p style="top:547.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">sketch above) at the cursor, and (2) transitively retrieve semantically relevant type definitions and</span></p>
<p style="top:558.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">function headers, from wherever they might appear, for inclusion in the prompt.</span></p>
<p style="top:570.9pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> example, the hole that the language server inserts (either implicitly or explicitly) at</span></p>
<p style="top:582.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the cursor is of type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> (because it is in the body of the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> function, which has return type</span></p>
<p style="top:595.6pt;left:45.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Model</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">), and the local typing context includes the argument</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> action : Action</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, so the language server</span></p>
<p style="top:606.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">can look up the definitions of the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> types. These types might themselves refer to</span></p>
<p style="top:618.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">other types, so we can transitively continue type retrieval. We can also retrieve information about</span></p>
<p style="top:630.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">relevant helper functions in the typing context, e.g. those that operate on the types that have been</span></p>
<p style="top:642.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">looked up, continuing transitively up to a token limit.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page4" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:4</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:55.8pt;line-height:10.1pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000">Static Error Correction.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> To further improve correctness, we combine static retrieval in</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> subsec-</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d">tion 2.7</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> with a straightforward syntactic and static error correction pass [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">33</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 39</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]: we ask the</span></p>
<p style="top:110.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">language server to localize and generate error messages for syntactic and static errors in the</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">generated completion, then feed this information back into an instruction-tuned model, prompting</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">it to correct these errors, potentially over multiple rounds (trading off latency for correctness).</span></p>
<p style="top:162.6pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">1.1</span></b></p>
<p style="top:162.6pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Evaluation Overview</span></b></p>
<p style="top:177.5pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">1.1.1</span></i></p>
<p style="top:177.5pt;left:73.6pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Programming Languages and Language Servers.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> The approaches that we investigate in this</span></p>
<p style="top:189.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">paper are in principle applicable to any programming language with a well-structured type and</span></p>
<p style="top:201.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">binding discipline. The more challenging requirement, which has limited the prior experiments in</span></p>
<p style="top:213.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">these directions (which we review in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> section 6</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">), is that we also need a rather capable language server.</span></p>
<p style="top:225.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">In particular, the language server must be capable of robust syntax error and type error recovery,</span></p>
<p style="top:237.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">producing a semantically meaningful program sketch (i.e. a program with</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> holes</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">) in any situation</span></p>
<p style="top:249.3pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">where the developer might request code completion [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">52</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. For instance, the example situation from</span></p>
<p style="top:261.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the beginning of</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 1</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> are syntactically erroneous, because the developer has not yet closed a</span></p>
<p style="top:273.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">curly brace or parenthesis, so a standard compiler would simply report a syntax error and halt. In</span></p>
<p style="top:285.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">other cases, there may be localized type errors elsewhere in the program that would ideally not</span></p>
<p style="top:297.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">cause gaps in the availability of code completion.</span></p>
<p style="top:309.0pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">For this reason, we evaluate these ideas primarily by developing an AI programming assistant</span></p>
<p style="top:320.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">for Hazel, extending the Hazel Assistant with LLM support [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">12</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. Hazel is a typed functional</span></p>
<p style="top:333.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">programming environment designed specifically around typed holes, inserting them automatically</span></p>
<p style="top:344.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">to ensure total syntax error recovery [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">47</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] and total type error recovery [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">87</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. Hazel is also capable</span></p>
<p style="top:356.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">of evaluating programs with holes [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">50</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 81</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">] (including &#x2018;non-empty&#x2019; holes inserted as membranes</span></p>
<p style="top:368.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">around marked type errors [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">87</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]), which makes it possible to use unit testing to granularly evaluate</span></p>
<p style="top:380.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the correctness of even locally ill-typed model outputs (rather than the more ad hoc methods that</span></p>
<p style="top:392.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">are common in the literature, like edit distance from a single canonical solution).</span></p>
<p style="top:404.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">The Hazel language is similar to Elm, OCaml, and other languages in the ML family, i.e. it is a</span></p>
<p style="top:416.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">pure typed functional language with support for algebraic datatypes and pattern matching. Unlike</span></p>
<p style="top:428.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Elm and OCaml, contemporary LLMs have not been trained on a substantial body of Hazel code, i.e.</span></p>
<p style="top:440.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hazel is a</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> low resource language</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. This presents both a challenge and an opportunity for research.</span></p>
<p style="top:452.4pt;left:45.3pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">We have found that when asked to write Hazel code, contemporary LLMs fail to follow Hazel&#x2019;s</span></p>
<p style="top:464.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">syntax and semantics, often borrowing syntactic forms and library functions from OCaml and Elm.</span></p>
<p style="top:476.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">However, LLMs are capable of in-context learning [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">24</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 64</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], suggesting that it is possible to include</span></p>
<p style="top:488.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">few-shot examples and instructions in the prompt to quickly teach contemporary LLMs about how</span></p>
<p style="top:500.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Hazel differs from related higher resource languages. The error correction approach we investigate</span></p>
<p style="top:512.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">may also be of particular interest in preventing errors in this sort of low-resource setting, which is</span></p>
<p style="top:524.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">of considerable interest to the PL research community [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">15</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:536.2pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">To demonstrate that static retrieval is useful even for mainstream high resource languages, we</span></p>
<p style="top:548.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">also perform additional more limited experiments in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> section 3</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> with TypeScript via the TypeScript</span></p>
<p style="top:560.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Language Server, an instance of the Language Sever Protocol (LSP) [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">10</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. We find that the LSP does</span></p>
<p style="top:572.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">not provide simple, direct access to the sort of information that is necessary to implement static</span></p>
<p style="top:584.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">retrieval, so we propose a more direct interface as we introduce the various approaches throughout</span></p>
<p style="top:596.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the paper, summarized as a prospective LSP extenstion in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 5</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:621.2pt;left:45.8pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">1.1.2</span></i></p>
<p style="top:621.2pt;left:73.1pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">Tasks.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> The most commonly reported LLM code completion benchmarks are HumanEval [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">17</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">],</span></p>
<p style="top:633.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">EvalPlus [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">40</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], MBPP [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">7</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], and LiveCodeBench [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">32</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. These are unsuitable for evaluating the proposed</span></p>
<p style="top:645.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">approaches because they consist of single-file tasks (constructed either manually, or derived from</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page5" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:423.6pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:5</span></p>
<p style="top:86.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">public repositories or programming contests) that are low-context, i.e. they require only builtin or</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">standard datatypes, and therefore do not highlight the semantic contextualization problem.</span></p>
<p style="top:110.5pt;left:55.8pt;line-height:10.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000">Repository-level</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> benchmarks like RepoEval [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">83</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], RepoBench [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">42</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], CrossCodeEval [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">20</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], the Co-</span></p>
<p style="top:122.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">CoMIC dataset [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">19</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], and defects4j [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">34</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">] are more suitable because they are high-context, i.e. they</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">require completing code that depends on definitions in different files. However, these benchmarks</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">also present difficulties:</span></p>
<p style="top:161.0pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(1)</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.1pt;color:#000000"> Data Contamination</span></b><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">: LLMs are known to be able to memorize code that they have seen</span></p>
<p style="top:173.0pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">during training, and evidence suggests that this data contamination issue has indeed caused</span></p>
<p style="top:184.9pt;left:70.2pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">public models to be overfitted to publicly available code [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">32</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 65</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. All of these benchmarks</span></p>
<p style="top:196.9pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">source examples from GitHub or PyPI. Based on reported cut-off dates, the projects in these</span></p>
<p style="top:208.8pt;left:70.2pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">benchmarks will have by now likely been incorporated into the training of contemporary</span></p>
<p style="top:220.8pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">models (noting that with few exceptions discussed below, training data is not disclosed).</span></p>
<p style="top:232.8pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(2)</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.1pt;color:#000000"> Language Exclusivity</span></b><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">: None of these include Hazel code, nor is it easy to manually port</span></p>
<p style="top:244.6pt;left:70.2pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">arbitrary projects taken from GitHub or PyPI that depend on various complex libraries to</span></p>
<p style="top:256.7pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Hazel or any other low resource language of interest to the community. Existing porting tech-</span></p>
<p style="top:268.6pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">niques have only generated low-context datasets [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">15</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. In addition, RepoEval and CoCoMIC</span></p>
<p style="top:280.6pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">exclusively feature Python code, which is difficult to statically analyze.</span></p>
<p style="top:292.5pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(3)</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.9pt;color:#000000"> Missing Tests</span></b><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">: None of the tasks in these benchmarks include unit tests, which means that</span></p>
<p style="top:304.5pt;left:69.9pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">we can only evaluate correctness based on brittle textual similarity metrics. We observe that</span></p>
<p style="top:316.4pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">models often produce correct output with substantial syntactic variation, similar to human</span></p>
<p style="top:328.4pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">programmers [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">27</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:342.9pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">For these reasons, we construct a repository-level benchmark suite, MVUBench, in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> subsubsec-</span></p>
<p style="top:354.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d">tion 2.8.1</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, that consists of various MVU web applications. Web application development is an</span></p>
<p style="top:367.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">important and under-studied application domain. Many visions for the future imagine LLMs gener-</span></p>
<p style="top:378.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">ating complete application logic, not just solving code competition problems [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">75</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. MVU applications</span></p>
<p style="top:390.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">are high-context in that they typically define a number of different datatypes which by convention</span></p>
<p style="top:402.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">are often located in separate files. Some of these datatypes have generic names, like</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> and</span></p>
<p style="top:415.5pt;left:45.6pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Action</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, and a single application might have multiple such types, one for each GUI component,</span></p>
<p style="top:426.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">presenting a significant challenge to language-agnostic techniques that do not understand binding</span></p>
<p style="top:438.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">structure. Indeed, it is easy to construct particularly challenging yet realistic examples simply by</span></p>
<p style="top:450.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">combining multiple components of MVUBench, as we demonstrate in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> subsubsection 2.8.5</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:462.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We address the data contamination problem following the approach taken by HumanEval, by</span></p>
<p style="top:474.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">conceptualizing and implementing these applications from scratch, without directly adapting any</span></p>
<p style="top:486.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">code from GitHub. We will control the release of these benchmarks to limit the likelihood of future</span></p>
<p style="top:498.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">contamination [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">31</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. We address the language exclusivity problem by ensuring that these MVU</span></p>
<p style="top:510.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">applications do not have any external library dependencies, so it is easy to port them to languages</span></p>
<p style="top:522.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">beyond Hazel and TypeScript, notably including pure functional languages. New MVU examples are</span></p>
<p style="top:534.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">also easy to develop and add to the benchmark, because they can implement the logic of essentially</span></p>
<p style="top:546.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">any front-end web application or GUI component. Finally, the lack of side effects also makes it easy</span></p>
<p style="top:558.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to unit test the core application logic.</span></p>
<p style="top:576.5pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">1.1.3</span></i></p>
<p style="top:576.5pt;left:73.7pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">LLMs.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> We selected two pre-trained language models with which to perform experiments.</span></p>
<p style="top:588.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">First, we selected OpenAI&#x2019;s GPT-4(-0613) [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">1</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], which is currently consistently at or near the top of</span></p>
<p style="top:600.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">code completion benchmarks, to evaluate whether even the most capable contemporary foundation</span></p>
<p style="top:612.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">models (i.e. models so large that only large organizations like OpenAI have the resources to train</span></p>
<p style="top:624.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and deploy them) benefit from the approaches we consider.</span></p>
<p style="top:636.3pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">GPT-4 is a closed model and many of its specific details, including its size and training, have</span></p>
<p style="top:648.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">not been publicly disclosed. This presents a significant challenge to reproducibility. Consequently,</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page6" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:6</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">we also conduct experiments using StarCoder2-15B, the most capable fully open-source model</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">responsibly trained on a fully open code corpus, The Stack v2, as of this writing [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">43</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. The Stack v2</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">has notably extensive coverage of low resource languages. StarCoder2-15B is small enough to run</span></p>
<p style="top:122.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">locally on sufficiently powerful workstations, so our results should be reproducible indefinitely.</span></p>
<p style="top:134.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">GPT-4 is an instruction-tuned model, so we are able to use it to evaluate static error correction.</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">StarCoder2-15B is completion-tuned, meaning it is not designed to receive and respond to instruc-</span></p>
<p style="top:158.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">tions. We are not aware of a comparably powerful fully open source code-specialize model that is</span></p>
<p style="top:170.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">instruction-tuned as of this writing, so we do not evaluate error correction with StarCoder2-15B.</span></p>
<p style="top:192.0pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2</span></b></p>
<p style="top:192.0pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Static Retrieval and Error Correction in the Hazel Assistant</span></b></p>
<p style="top:206.8pt;left:45.3pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">We first introduce Hazel and the Hazel Assistant by example from the developer&#x2019;s perspective.</span></p>
<p style="top:218.9pt;left:45.3pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">We continue by describing how the Hazel Assistant prompts GPT-4 and interfaces with the Hazel</span></p>
<p style="top:230.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Language Server to generate code completions augmented with static retrieval and error correction.</span></p>
<p style="top:242.8pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Then, we introduce the MVUBench benchmark suite and report the results of an ablation study of</span></p>
<p style="top:254.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">each of these features. We investigate their relative contributions to the overall performance of the</span></p>
<p style="top:266.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">assistant on these high-context MVU tasks, relative to various baselines that establish bounds on</span></p>
<p style="top:278.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">performance.</span></p>
<p style="top:300.2pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.1</span></b></p>
<p style="top:300.2pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Hazel</span></b></p>
<p style="top:315.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Hazel is a web-based live functional programming environment that features total syntax and type</span></p>
<p style="top:327.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">error recovery via automatic hole insertion [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">47</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 87</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. This ensures that every editor state in Hazel is</span></p>
<p style="top:339.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">a semantically meaningful program sketch and that Hazel&#x2019;s various editor services, include code</span></p>
<p style="top:351.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">completion, never experience gaps in service [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">52</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:526.5pt;left:203.4pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 2. The Hazel IDE</span></p>
<p style="top:552.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">As a running example, consider a scenario where the developer is implementing EmojiPaint, a</span></p>
<p style="top:564.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">simplified MVU app where a user chooses an emoji from a palette and paints designs by &#x2018;stamping&#x2019;</span></p>
<p style="top:576.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">it on a grid.</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 2</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> shows the user editing the file where the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> function is defined. In</span></p>
<p style="top:588.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d">Figure 2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> the developer&#x2019;s cursor is shown as a red convex triangle to the right of a hole, represented</span></p>
<p style="top:600.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">as a convex hexagon. The Hazel IDE interfaces with the Hazel Language Server to report static</span></p>
<p style="top:612.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">information which both user and model can use to inform completions. The bottom bar, called the</span></p>
<p style="top:624.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Cursor Inspector, reports information on the syntax as well the expected type of the expression,</span></p>
<p style="top:636.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">here a typed hole of the function type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Model, Action) -&gt; Model</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, at the cursor. The lower left</span></p>
<p style="top:648.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">popup, called the Context Inspector, reports the typing context at the cursor.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page7" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:423.6pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:7</span></p>
<p style="top:86.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> update</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> function is intended to respond to EmojiPaint user actions in the GUI, represented by</span></p>
<p style="top:98.7pt;left:45.6pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">values of type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Action</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, transforming the current GUI state, represented by values of type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Model</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, to a</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">new GUI state, also of type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Model</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">. These types and associated helper functions appear in different</span></p>
<p style="top:122.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">files, excerpted in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 3</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(a-b). Algebraic datatypes (i.e. recursive sum types) are represented in</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hazel as constructors separated by</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> +</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> (rather than</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> |</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> in similar languages like OCaml).</span></p>
<p style="top:319.8pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinBiolinumT,serif;font-size:8.9pt;color:#000000">Fig. 3. (a) The types relevant to the EmojiPainter MVU app. (b) An excerpt of already-implemented functions</span></p>
<p style="top:330.6pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">in another file (with definitions collapsed by Hazel&#x2019;s outliner). (c) The stubbed function header, where the</span></p>
<p style="top:341.6pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">developer has requested LLM completion by inserting</span></p>
<p style="top:341.6pt;left:247.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">??</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000"> in the hole.</span></p>
<p style="top:374.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.2</span></b></p>
<p style="top:374.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Hazel Assistant</span></b></p>
<p style="top:389.7pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The Hazel Assistant is a programming assistant that generates code completions by two mechanisms.</span></p>
<p style="top:401.5pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">To provide fast, local completions, the Hazel Assistant generates type-directed completions [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">12</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">],</span></p>
<p style="top:413.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">using localized syntactic and static information to inform small completions with type-directed</span></p>
<p style="top:425.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">lookahead as shown in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> Figure 4</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">(a-b). This feature can be invoked even when there are syntax errors</span></p>
<p style="top:437.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">because Hazel tracks syntactic obligations in a backpack, e.g. as shown in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 4</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(b) where both</span></p>
<p style="top:450.2pt;left:47.3pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span></p>
<p style="top:450.2pt;left:79.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">end</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> are necessary to complete the case expression [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">47</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:564.7pt;left:84.6pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 4. The Hazel Assistant defaults to providing only type-directed token completion.</span></p>
<p style="top:588.8pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">To request an LLM completion from the Hazel Assistant, the developer can fill any expression</span></p>
<p style="top:600.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">hole with</span></p>
<p style="top:601.5pt;left:89.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">??</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> which starts to animate as suggested in</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 3</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">(c). GPT-4, our underlying model</span></p>
<p style="top:612.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">in this section, is not particularly fast as of this writing, so the developer can continue to edit</span></p>
<p style="top:624.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">elsewhere while waiting for GPT-4 to return a completion. For this example,</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 5</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> shows an</span></p>
<p style="top:636.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">example of a GPT-4-generated completion. The developer can inspect this completion (which would</span></p>
<p style="top:648.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">display any type errors found) and accept it with the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Tab</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> key.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page8" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:8</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:216.9pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinBiolinumT,serif;font-size:8.9pt;color:#000000">Fig. 5. The Hazel LLM Assistant, combining static information with generative creation via language models,</span></p>
<p style="top:227.8pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">is capable of offering more substantial completions</span></p>
<p style="top:263.1pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.3</span></b></p>
<p style="top:263.1pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">The Hazel Assistant Trialogue</span></b></p>
<p style="top:278.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Our generative hole filling process consists of the following steps, construed here as a &#x2018;trialogue&#x2019;</span></p>
<p style="top:290.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">between programmer, the Hazel Language Server, and a language model. This is depicted in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> Figure 1</span></p>
<p style="top:302.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">as a series of chat messages. In our setup, the primary interaction is between the language model</span></p>
<p style="top:313.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">and the Hazel Language Server, which acts on behalf of the user in response to a request for LLM</span></p>
<p style="top:325.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">hole filling, kicking off the following exchange. Here we use the messaging terminology from the</span></p>
<p style="top:337.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">OpenAI Chat API [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">54</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], which distinguishes System, User, and Model messages:</span></p>
<p style="top:353.9pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(1)</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> System Message</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Hazel Crash Course and few-shot examples</span></p>
<p style="top:365.9pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(2)</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> User Message</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Program sketch augmented by static retrieval</span></p>
<p style="top:377.9pt;left:69.9pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(i.e. relevant semantic context from the language server)</span></p>
<p style="top:389.8pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(3)</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Model Message</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Suggested hole filling</span></p>
<p style="top:401.8pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(4)</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> User Message</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Syntax and type errors in the completion, if any</span></p>
<p style="top:413.7pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(5)</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Model Message</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: A corrected completion, if necessary</span></p>
<p style="top:429.9pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">We repeat steps 4-5, i.e. we perform syntactic and static error correction when needed, stopping</span></p>
<p style="top:441.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">after at most two iterations to limit latency.</span></p>
<p style="top:464.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.4</span></b></p>
<p style="top:464.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">System Message: The Hazel Crash Course</span></b></p>
<p style="top:479.7pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The system message is generic, common to each prompt. For an instruction-tuned model (GPT-4),</span></p>
<p style="top:491.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the system message consists of three sections:</span></p>
<p style="top:503.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">First, we provide a list of instructions delineating the task. In particular, we instruct the model to</span></p>
<p style="top:515.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">provide a code fragment to replace a sentinel value representing the target hole in the program</span></p>
<p style="top:527.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">sketch. For example, the model is given the instructions:</span></p>
<p style="top:543.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &quot;Reply only with code&quot;</span></p>
<p style="top:555.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &quot;DO NOT include the program sketch in your reply&quot;</span></p>
<p style="top:571.7pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Second, an informal specification of Hazel syntax with emphasis on &#x2018;negative characterization&#x2019;,</span></p>
<p style="top:583.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">listing differences from syntactically-similar higher-resource languages. As this kind of &#x2018;prompt</span></p>
<p style="top:595.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">engineering&#x2019; is as-yet a task-sensitive and inexact process, this section, along with the one above,</span></p>
<p style="top:607.6pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">was constructed though an ad-hoc process of discovering repeated syntactic errors in model output.</span></p>
<p style="top:619.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">For example:</span></p>
<p style="top:635.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &quot;No</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &apos;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00">rec</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00">&apos;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> keyword is necessary for</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &apos;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00">let</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00">&apos;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> to define a recursive function&quot;</span></p>
<p style="top:647.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00"> &quot;There is no dot accessor notation for tuples; use pattern matching&quot;</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page9" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:423.6pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:9</span></p>
<p style="top:86.7pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Finally, we positively characterise hazel syntax via a fixed list of input/output pairs of sketches</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and program completions (few-shot prompting). We show one example below:</span></p>
<p style="top:114.2pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Sketch</span></b></p>
<p style="top:130.6pt;left:73.7pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> List.length: [(String , Bool)] -&gt; Int =</span></p>
<p style="top:141.6pt;left:84.5pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">fun</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> xs -&gt; ??</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> end in</span></b></p>
<p style="top:159.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Completion</span></b></p>
<p style="top:175.8pt;left:73.8pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">case</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> xs</span></p>
<p style="top:186.8pt;left:73.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">| [] =&gt; 0</span></p>
<p style="top:197.7pt;left:73.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">| _::xs =&gt; 1 + List.length(xs)</span></p>
<p style="top:208.7pt;left:73.7pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">end</span></b></p>
<p style="top:230.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">For the smaller completion model (StarCoder2-15B) discussed below, which has a longer context</span></p>
<p style="top:242.1pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">window (16k versus 8k for GPT-4-0613) but is not instruction-tuned, we omit the first two sections,</span></p>
<p style="top:254.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">in lieu of providing a longer list of syntax examples, which are provided simply as a list of definitions</span></p>
<p style="top:265.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">rather than input-output pairs.</span></p>
<p style="top:288.2pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.5</span></b></p>
<p style="top:288.2pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Type Retrieval</span></b></p>
<p style="top:550.0pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 6. A programmer requests a hole filling (A) by typing</span></p>
<p style="top:550.0pt;left:264.0pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">??</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000"> , either intentionally or in a fit of frustration.</span></p>
<p style="top:561.0pt;left:45.6pt;line-height:8.9pt"><span style="font-family:LinBiolinumT,serif;font-size:8.9pt;color:#000000">The Hazel Language Server provides codebase-wide (B) semantic information relevant to the hole, collecting</span></p>
<p style="top:571.9pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">types based on the expected type (C) and selecting type-relevant headers from the context (D). These are</span></p>
<p style="top:582.9pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">combined into a contextualized text prompt (E) which is sent (F) to the LLM resulting in hole filling (G).</span></p>
<p style="top:611.3pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">The base EmojiPaint update function program sketch is as follows:</span></p>
<p style="top:627.7pt;left:49.3pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#7f807f">(* Update the EmojiPaint app model based on an action *)</span></p>
<p style="top:638.7pt;left:49.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update: (Model , Action) -&gt; Model = ??</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> in</span></b></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page10" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:10</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">We augment this sketch with additional static information obtained via the Hazel Language</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Server, serialized into text, displayed as a kind of projected view of the codebase &#x2013; a static program</span></p>
<p style="top:110.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">slice contextualized to the relevant program hole. Specifically, we retrieve the following static</span></p>
<p style="top:122.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">information (diagrammed in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 6</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">):</span></p>
<p style="top:136.8pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> Type Retrieval</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">: The expected type at the cursor, along with the definitions of any types aliases</span></p>
<p style="top:148.7pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">occurring in that type, and the definitions of aliases occurring in that definition, and so on</span></p>
<p style="top:160.7pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">recursively until we arrive at base types.</span></p>
<p style="top:172.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Header Retrieval</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: A selection of values, annotated with their types, filtered from the typing</span></p>
<p style="top:184.6pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">context based on a type-directed metric of relatedness to the expected type described below.</span></p>
<p style="top:198.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">While we use Hazel to illustrate our approach, our goal is to outline an approximate API which</span></p>
<p style="top:210.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">could be implemented by any language server for a typed language which could drive a similar</span></p>
<p style="top:222.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">system in another language. We&#x2019;ll define the approximate methods for such an API as we go, and</span></p>
<p style="top:234.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">later collect them in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 5</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:252.7pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">2.5.1</span></i></p>
<p style="top:252.7pt;left:73.7pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Relevant Type Definitions.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> Given the above program sketch, the expected type of the hole</span></p>
<p style="top:265.5pt;left:47.3pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">??</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> is</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Model, Action) -&gt; Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. While in this example, adding the expected type to the prompt</span></p>
<p style="top:276.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">is strictly redundant, as it already appears as the function&#x2019;s type annotation, in general Hazel&#x2019;s</span></p>
<p style="top:288.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">bidirectional type system [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">51</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 87</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] allows a similar expected type to be extracted in any position for</span></p>
<p style="top:300.7pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">which there exists type constraints, such as in function argument position, or in a module signature</span></p>
<p style="top:312.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">including</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:324.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Absent this sort of context, this type is elucidatory on its own. Based on the provided comment,</span></p>
<p style="top:336.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">a language model might and likely will &#x2018;guess&#x2019; that these refer to the state and state changes of an</span></p>
<p style="top:348.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Model-View-Update application. But as we shall see, it is unlikely to guess the precise structures of</span></p>
<p style="top:360.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the types the programmer has actually used. An example demonstrating the common case is show</span></p>
<p style="top:372.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 7</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">:</span></p>
<p style="top:499.5pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">Fig. 7. A typical completion with no static retrieval. Here, the language model hallucinates plausible but</span></p>
<p style="top:510.6pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinBiolinumT,serif;font-size:8.9pt;color:#000000">incorrect constructors for the Action type, and hallucinates Model as a record type using syntax not supported</span></p>
<p style="top:521.5pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">in Hazel.</span></p>
<p style="top:546.0pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hence we do automatically what a programmer in an unfamiliar codebase might do manually:</span></p>
<p style="top:557.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">recursively pursue type definitions to unwind the local semantic context hinted at by the type</span></p>
<p style="top:570.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">expectation. Providing this list to a language model is analogous to a human using the IDE to hover</span></p>
<p style="top:581.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">over types and jump iteratively to their definitions. First, we extract relevant type aliases:</span></p>
<p style="top:596.1pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Model</span></p>
<p style="top:608.1pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Action</span></p>
<p style="top:622.3pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Then, we retrieve their definitions:</span></p>
<p style="top:636.5pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Model</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Grid, Emoji, [Emoji])</span></p>
<p style="top:648.5pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Action</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> SelectEmoji(Emoji) + StampEmoji(Row, Col) + ...</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page11" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:11</span></p>
<p style="top:86.7pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">And finally, we transitively complete this process, retrieving any additional aliases which occur</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">in those definitions: the aliases</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Grid</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Emoji</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> from the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> definition and the aliases</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Row</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">, and</span></p>
<p style="top:111.4pt;left:45.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5">Col</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> from the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> definition:</span></p>
<p style="top:125.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Emoji</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> String</span></p>
<p style="top:137.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Row</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Int</span></p>
<p style="top:148.9pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Col</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Int</span></p>
<p style="top:160.9pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Grid</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> [[Emoji]]</span></p>
<p style="top:175.4pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Note that even though these type definitions are, from the point of view of the Language Server,</span></p>
<p style="top:187.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">abstract entries in the typing context, we are specifically electing to reproduce them in format</span></p>
<p style="top:199.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">resembling their original lexical concrete syntax. We have noticed that attempting this kind of</span></p>
<p style="top:211.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">naturalistic reproduction increases that chance that language model generations stay on-task,</span></p>
<p style="top:223.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">generating code in the relevant concrete syntax without reverting to prose or ill-formed syntax.</span></p>
<p style="top:235.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">To support the above method, a language server could implement the following methods, which</span></p>
<p style="top:247.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">may be implementable as thin glosses on top of existing methods such as &#x2019;Go to type definition&#x2019;:</span></p>
<p style="top:266.4pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getExpectedType:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Program, LexicalLocation) -&gt; Type</span></p>
<p style="top:278.4pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> extractAliases:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Type -&gt; [Type]</span></p>
<p style="top:290.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getTypeDefinition:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> TypeAlias -&gt; Type</span></p>
<p style="top:309.7pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">To briefly contrast this process to embedding-vector-based retrieval augmented generation:</span></p>
<p style="top:324.2pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> While vector retrieval might flag these definitions as</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> possibly</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> relevant, note that they are</span></p>
<p style="top:336.0pt;left:70.2pt;line-height:10.1pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000">necessarily</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> relevant. Our knowledge of the language semantics means we know that any</span></p>
<p style="top:348.0pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">completion</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> must</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> respect these types, an assurance which allows us to offload burden from</span></p>
<p style="top:360.0pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the more expensive and imprecise associative lookup.</span></p>
<p style="top:372.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> This necessary relevance also increases the chance that subsequent recursive retrievals will</span></p>
<p style="top:384.0pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">be relevant, addressing the issue of reliable</span><i><span style="font-family:LinLibertineTI,serif;font-size:9.9pt;color:#000000"> multi-hop lookups</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> noted by industry implementers</span></p>
<p style="top:395.9pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">[</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">6</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span></p>
<p style="top:407.8pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> Static retrieval necessarily respects scope. Vector retrieval may return related-seeming defi-</span></p>
<p style="top:419.8pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">nitions, but without exact knowledge of the language semantics, there is no guarantee that</span></p>
<p style="top:431.8pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">these will be</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> the</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> definitions relevant to this lexical context.</span></p>
<p style="top:453.0pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.6</span></b></p>
<p style="top:453.0pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Relevant Headers from the Typing Context</span></b></p>
<p style="top:468.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In addition to relevant type definitions, we augment the prompt with the names and types (which</span></p>
<p style="top:479.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">together we term the</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> headers</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">) of relevant values &#x2013; typically functions &#x2013; from the typing context.</span></p>
<p style="top:491.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">From a user interface perspective, this is analogous to a type-directed autocomplete menu.</span></p>
<p style="top:503.8pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Our extraction method divides into three stages:</span></p>
<p style="top:518.3pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(1) Use the expected type to identify a list of target types</span></p>
<p style="top:530.2pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(2)</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> Filter the typing context for values with types related in a certain way to these target types</span></p>
<p style="top:542.2pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(3)</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> Assign scores to each element of the resulting list, and return the prefix of that list truncated</span></p>
<p style="top:554.1pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">at some scoring and length thresholds (here, score &gt; 0.0 and 10 items respectively)</span></p>
<p style="top:568.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The resulting context entries are formatted as code sketches, again to facilitate language model</span></p>
<p style="top:580.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">ingestion. For example the pair (</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">string_of_int</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Int -&gt; String</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">) is formatted as:</span></p>
<p style="top:601.8pt;left:70.9pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> string_of_int : Int -&gt; String =</span></p>
<p style="top:601.8pt;left:269.8pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b></p>
<p style="top:624.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Here, the body of the definition is simply omitted. Interestingly, we originally used ellipsis (</span><i><span style="font-family:LibertineMathMI,serif;font-size:10.0pt;color:#000000">...</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">)</span></p>
<p style="top:636.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">in place of the body, but this resulted in an increased chance the model (especially the smaller</span></p>
<p style="top:648.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">StarCoder2 model) would itself emit the token</span><i><span style="font-family:LibertineMathMI,serif;font-size:10.0pt;color:#000000"> ...</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> in lieu of a full completion.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page12" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:12</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.8pt;left:45.8pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">2.6.1</span></i></p>
<p style="top:86.8pt;left:73.1pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">Identification of Target Types.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> First, we deconstructing the expected type to identify relevant</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">sub-components which could be used, in conjunction with their relevant elimination forms, to</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">construct the target. Our initial target type is simply the type of the hole itself:</span></p>
<p style="top:128.5pt;left:55.8pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">Target types</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Model, Action) -&gt; Model</span></p>
<p style="top:146.5pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Then, if that type is a compound type, we consider its components. In particular, if the type is a</span></p>
<p style="top:158.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">product type, we consider its components to be targets, and if the type is an arrow type (as it is</span></p>
<p style="top:170.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">here), we consider its return type to be a target.</span></p>
<p style="top:188.3pt;left:55.8pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">Target types</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Model, Action) -&gt; Model, Model, ...</span></p>
<p style="top:206.3pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In principle, we could continue this deconstruction recursively indefinitely, but for our immediate</span></p>
<p style="top:218.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">purpose of identifying likely-relevant types, we&#x2019;ve found it suffices to extend one more iteration;</span></p>
<p style="top:230.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">that is, product/arrow types containing product/arrow types. It simplifies our calculations to</span></p>
<p style="top:242.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">internally normalize all type definitions (Hazel is structurally typed). Here, we will only do so</span></p>
<p style="top:254.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">opportunistically for clarity of presentation:</span></p>
<p style="top:272.0pt;left:55.8pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">Type of hole</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> ((String, (Grid, Emoji, [Emoji])), Action) -&gt; (Grid, Emoji, [Emoji])</span></p>
<p style="top:283.9pt;left:55.8pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">Target types</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Model, Action) -&gt; Model, Model, Grid, Emoji, [Emoji]</span></p>
<p style="top:301.9pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">One can likely see other ways of extending target type extraction. Possibilities included destruc-</span></p>
<p style="top:313.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">turing more compound types such as records, or for function types, also considering the input</span></p>
<p style="top:325.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">types as a kind of negative target, in that we may want to prioritize types that consume a relevant</span></p>
<p style="top:337.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">type from the local context. For now we proceed with the simple approach outlined.</span></p>
<p style="top:349.6pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">We do not, however, return unaliased base types such as</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Bool</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> or</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> String</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> as target types. Early</span></p>
<p style="top:361.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">experimentation indicated that, given that there are typically many standard library functions on</span></p>
<p style="top:373.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">base types, often with no a priori way to distinguish their relevance based on types, such functions</span></p>
<p style="top:385.6pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">would often act as confounders, since which happened to be included was incidental. In practice, a</span></p>
<p style="top:397.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">standard library would already be well-understood by an LLM from the pre-training or fine-tuning</span></p>
<p style="top:409.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">step. For Hazel, we replicate much of the OCaml standard library to sidestep this need.</span></p>
<p style="top:431.6pt;left:45.8pt;line-height:10.1pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.1pt;color:#000000">2.6.2</span></i></p>
<p style="top:431.6pt;left:73.8pt;line-height:10.1pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.1pt;color:#000000">Filtering the Context.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> For each target type, we filter the typing context to retrieve types</span></p>
<p style="top:443.7pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">which can be used, again in conjunction with appropriate elimination forms, to produce the target.</span></p>
<p style="top:455.5pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">This is essentially similar to target type extraction. In particular, we return types which are</span></p>
<p style="top:467.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">consistent with the target, arrow types whose return type is consistent with the target, and product</span></p>
<p style="top:479.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">types whose have a component consistent with the target. For example:</span></p>
<p style="top:497.4pt;left:55.8pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">Target type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Grid</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> yields</span></b></p>
<p style="top:516.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> updateGrid:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Grid, Row, Col, Emoji) -&gt; Grid</span></p>
<p style="top:527.9pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> clearGrid:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Grid -&gt; Grid</span></p>
<p style="top:539.9pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> fillRowInGrid:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Grid, Row, Emoji) -&gt; Grid</span></p>
<p style="top:574.8pt;left:45.8pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">2.6.3</span></i></p>
<p style="top:574.8pt;left:73.2pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">Sorting and scoring the filtered context.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> Prior work [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">12</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] has surveyed various ways in which</span></p>
<p style="top:586.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">semantic information can be used to sort typing-context-originating suggestions for relevance. For</span></p>
<p style="top:598.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">our purposes here we use a simple scheme intended as a proof-of-concept to establish a baseline</span></p>
<p style="top:610.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">for more sophisticated methods.</span></p>
<p style="top:622.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">By default, Hazel context entries are sorted by locality of definition, which provides a reasonable</span></p>
<p style="top:634.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">default for relevance. Thus we sort stably with respect to the locality ordering for context entries</span></p>
<p style="top:646.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">having the same score.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page13" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:13</span></p>
<p style="top:86.6pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">By default, all entries are assigned a score of 1.0. However, if a type contains the (gradual)</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">unknown type (</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5">?</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">), a multiplier is applied based on the ratio of unknown to known type constructors</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">in the type (for example, the type</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> [?]</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> &#x2013; a list of unknown type &#x2013; would receive a multiplier of 0.5,</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">since the list constructor is known). This acts simply to de-prioritize incomplete implementations,</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">about which not enough information is available to make it a good suggestion.</span></p>
<p style="top:146.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Here are the relevant headers from the EmojiPainter example:</span></p>
<p style="top:170.0pt;left:49.1pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#968d00">&quot;Consider using these variables relevant to the expected type:&quot;</span></p>
<p style="top:180.9pt;left:49.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> model_init: Model =</span></p>
<p style="top:180.9pt;left:183.8pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b></p>
<p style="top:191.9pt;left:49.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> fillRowInGrid: ((Grid , Row , Emoji) -&gt; Grid) =</span></p>
<p style="top:191.9pt;left:323.6pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b></p>
<p style="top:202.8pt;left:49.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> clearGrid: (Grid -&gt; Grid) =</span></p>
<p style="top:202.8pt;left:226.8pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b></p>
<p style="top:213.8pt;left:49.3pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> updateGrid: ((Grid , Row , Col , Emoji) -&gt; Grid) =</span></p>
<p style="top:213.8pt;left:334.4pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b></p>
<p style="top:238.4pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">In order to implement relevant header extraction in an arbitrarily language server, one could</span></p>
<p style="top:250.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">provide the following methods:</span></p>
<p style="top:273.1pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getTargetTypes:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Type -&gt; [Type]</span></p>
<p style="top:285.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> filterContext:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Context, Type -&gt; [(Name, Type)]</span></p>
<p style="top:297.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> scoreEntry:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Name, Type) -&gt; Float</span></p>
<p style="top:320.4pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.7</span></b></p>
<p style="top:320.4pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Syntactic and Semantic Error Correction</span></b></p>
<p style="top:335.2pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The use of instruction-tuned language models makes available a lightweight form of program</span></p>
<p style="top:347.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">repair based on an iterative loop of generating completions and retrieving error messages from</span></p>
<p style="top:359.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">compilers or static analyzers. The general technique of looping LLM code generation on compiler</span></p>
<p style="top:371.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">errors appears to have emerged in tandem with early LLM code generation experiments [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">59</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">84</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]</span></p>
<p style="top:383.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and has been examined in greater detail by Joshi et al. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">33</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:395.0pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">After receiving a response from the model, we substitute the received completion into the</span></p>
<p style="top:407.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">original program sketch. We then query the Hazel Language Server to parse the resulting program.</span></p>
<p style="top:419.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Hazel parsing is strongly incremental, enabling the (partial) type-checking of programs even in the</span></p>
<p style="top:430.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">presence of unrecognized or missing delimiters. We then query the language server for a list of</span></p>
<p style="top:442.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">static errors, which include syntax and type errors. If there are any such errors, we serialize them</span></p>
<p style="top:454.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to a string, and send them to the language model.</span></p>
<p style="top:466.9pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In order to maintain model context, we append the errors to a growing log of messages beginning</span></p>
<p style="top:478.7pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">with the original prompt. The number of correction rounds which can be performed in this way</span></p>
<p style="top:490.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">is thus limited by the length of the context window; in our case, using the 8k token window of</span></p>
<p style="top:502.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">GPT4-0613, we are effectively capped at 5 rounds. However, we have noticed that 2 rounds are</span></p>
<p style="top:514.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">often sufficient to eliminate static errors, and that rounds in excess of 2 tend to show diminishing</span></p>
<p style="top:526.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">returns, so we have capped the maximum number of rounds at 2.</span></p>
<p style="top:538.5pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">To support this in another language, its language server must be able to localize static errors,</span></p>
<p style="top:550.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">reporting locations and error messages. Ideally, it would produce a list of errors, rather than just</span></p>
<p style="top:562.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">the first error encountered, as is supported by Hazel&#x2019;s total type error localization and recovery</span></p>
<p style="top:574.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">system [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">87</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. This could be achieved by implementing the following method:</span></p>
<p style="top:597.0pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getStaticErrors:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Program -&gt; [StaticError]</span></p>
<p style="top:620.4pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.8</span></b></p>
<p style="top:620.4pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Experimental Evaluation</span></b></p>
<p style="top:635.3pt;left:45.3pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We now evaluate the effectiveness of this method of proactive static contextualization and retro-</span></p>
<p style="top:647.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">spective correction for LLM code completion.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page14" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:14</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:45.8pt;line-height:10.1pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.1pt;color:#000000">2.8.1</span></i></p>
<p style="top:86.6pt;left:73.8pt;line-height:10.1pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.1pt;color:#000000">MVUBench.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> Hazel is a low-resource language, so we are unable to conduct an at-scale</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">evaluation in this context. Instead, as previously motivated, we construct a benchmark suite of five</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">MVU applications including the EmojiPainter example from the previous sections:</span></p>
<p style="top:128.4pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Todo (</span></b><b><i><span style="font-family:LinLibertineTBI,serif;font-size:10.0pt;color:#000000">TO</span></i></b><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">)</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Maintains a list of tasks</span></p>
<p style="top:140.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Room Booking (</span></b><b><i><span style="font-family:LinLibertineTBI,serif;font-size:10.0pt;color:#000000">BO</span></i></b><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">)</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Manages a room booking schedule</span></p>
<p style="top:152.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Emoji Painter (</span></b><b><i><span style="font-family:LinLibertineTBI,serif;font-size:10.0pt;color:#000000">EM</span></i></b><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">)</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Paints emoji stamps on a small canvas</span></p>
<p style="top:164.2pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Playlist Manager (</span></b><b><i><span style="font-family:LinLibertineTBI,serif;font-size:10.0pt;color:#000000">PL</span></i></b><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">)</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Manages a music playlist</span></p>
<p style="top:176.2pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> Password Strength Checker (</span></b><b><i><span style="font-family:LinLibertineTBI,serif;font-size:10.0pt;color:#000000">PA</span></i></b><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">)</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Rates a password via a dynamic set of properties</span></p>
<p style="top:193.9pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The baseline program sketch provided to the language model for each of these programs is</span></p>
<p style="top:205.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">simply the type-annotated function header for its corresponding</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> function, along with a</span></p>
<p style="top:217.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">single-line comment describing that function&#x2019;s purpose, including the name of the application, in</span></p>
<p style="top:229.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">line with the running example.</span></p>
<p style="top:241.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Each application also comes with a simulated repository containing relevant (and less relevant)</span></p>
<p style="top:253.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">type and utility function definitions.</span></p>
<p style="top:265.7pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">We also provide a small test suite for each example, consisting of 10-15 tests ensuring that each</span></p>
<p style="top:277.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">MVU action behaves as a user might reasonably expect without additional specification.</span></p>
<p style="top:289.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">In such a situation, a naive language model completion would be informed only by the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span></p>
<p style="top:301.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">function type aliases (which are often generic terms such as</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">) and the single-line comment</span></p>
<p style="top:313.4pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">(which only hints at the intended functionality). While it is still possible that in very typical</span></p>
<p style="top:325.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">situations, the model might correctly guess appropriate types and names, more likely (as we shall</span></p>
<p style="top:337.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">see) it will hallucinate plausible-but-incorrect completions. By varying the methods through which</span></p>
<p style="top:349.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">additional context is provided, and the corrective methods applied to resulting completions, we</span></p>
<p style="top:361.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">provide a baseline analysis for the relative effects and interactions of these methods on LLM code</span></p>
<p style="top:373.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">completion.</span></p>
<p style="top:394.8pt;left:45.8pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">2.8.2</span></i></p>
<p style="top:394.8pt;left:73.1pt;line-height:9.9pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.9pt;color:#000000">Feature Ablation Experiment.</span></i><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> Our main experiment consisted of 320 completions trials, each</span></p>
<p style="top:406.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">of which makes between one and three calls to the language model. These 320 trials divide as</span></p>
<p style="top:418.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">follows:</span></p>
<p style="top:436.5pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> 8 feature ablation configurations</span></b></p>
<p style="top:448.4pt;left:69.4pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">&#x2013;</span></b><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Type Retrieval</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Whether to include expected type and type definitions</span></p>
<p style="top:460.4pt;left:69.4pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">&#x2013;</span></b><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Header Retrieval</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Whether to include relevant headers from the typing context</span></p>
<p style="top:472.3pt;left:69.4pt;line-height:10.0pt"><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000">&#x2013;</span></b><i><span style="font-family:LinLibertineTI,serif;font-size:10.0pt;color:#000000"> Error Rounds</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Whether to perform up to 2 static error correction</span></p>
<p style="top:484.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> 5 program sketches (TO, BO, EM, PL, PA)</span></b></p>
<p style="top:496.2pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> 20 completion trials per combination</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> (to account for model non-determinism [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">56</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]). We</span></p>
<p style="top:508.1pt;left:70.2pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">ran these experiments at temperature 0.6 (a hyperparameter effecting the stochasticity of</span></p>
<p style="top:520.1pt;left:70.2pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">token sampling), selected based on trial experiments as a balance between noisy variance</span></p>
<p style="top:532.1pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and producing a range of interestingly distinct completions</span></p>
<p style="top:553.5pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">2.8.3</span></i></p>
<p style="top:553.5pt;left:73.6pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Comparison Baseline 1: No Context.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> The ablation configurations lacking all static retrieval</span></p>
<p style="top:565.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">feature serves as a lower bound baseline &#x2013; without any context except the brief comment on</span></p>
<p style="top:577.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> function, we would expect even high-performing models to perform poorly due to</span></p>
<p style="top:589.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">lack of context. This is the current reality for AI programming assistants that do not attempt</span></p>
<p style="top:601.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">repository-level retrieval.</span></p>
<p style="top:622.9pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">2.8.4</span></i></p>
<p style="top:622.9pt;left:73.6pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Comparison Baseline 2: Exhaustive Retrieval.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> An additional baseline configuration, beyond</span></p>
<p style="top:634.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">those outlined above, is to perform exhaustive retrieval of all application code, excluding tests, up</span></p>
<p style="top:646.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to the context window limit. This serves as a token-inefficient upper bound on performance.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page15" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:15</span></p>
<p style="top:86.7pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">2.8.5</span></i></p>
<p style="top:86.7pt;left:73.4pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Comparison Baseline 3: Vector Retrieval with Confounds.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> Finally, we compare our approach</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">to vector retrieval. Given that our test corpus consists of 5 relatively small programs, we have</span></p>
<p style="top:110.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">emulated a larger more realistic codebase by combining those five programs, minus tests and</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">update functions, along with Hazel&#x2019;s standard library, to create a 1000-line simulated codebase from</span></p>
<p style="top:134.5pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">which context can be drawn. Combining these programs has the effect of creating some possible</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">lexical confounders, e.g. two types having the same name; we contend that this construction, albeit</span></p>
<p style="top:158.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">synthetic, nonetheless emulates a legitimate source of confusion for a scope-unaware method like</span></p>
<p style="top:170.4pt;left:45.6pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">vector retrieval.</span></p>
<p style="top:182.2pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">We have used the simplest standard RAG strategy, uniformly dividing the codebase into 150-</span></p>
<p style="top:194.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">character chunks, which were submitted to OpenAI&#x2019;s Ada (text-embedding-ada-002), a commercial</span></p>
<p style="top:206.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">embeddings model [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">49</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. The retrieved 1536-element vectors, along with their associated text chunks,</span></p>
<p style="top:218.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">are then stored locally in a JSON file acting as a basic vector database.</span></p>
<p style="top:230.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In order to retrieve chunks relevant to a provided sketch (our function headers and comments),</span></p>
<p style="top:242.1pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">we submit that sketch to the same API endpoint, and then search our vector database for the top 6</span></p>
<p style="top:254.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">chunks with the highest cosine similarity [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">49</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:266.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The above parameters (150 character chunks, 6 entries) are chosen so that the total (900 characters)</span></p>
<p style="top:277.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">lines up with the average length of the total static retrieval context (types + relevant context) for</span></p>
<p style="top:289.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">our 5 examples, with the chunk size being set as small as possible while still being able to fully</span></p>
<p style="top:301.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">contain most type definitions in our corpus.</span></p>
<p style="top:313.8pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">It should be noted that there exist a variety of more advanced chunking strategies which may</span></p>
<p style="top:325.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">yield better results, including overlapping windows, chunks aligned to inferred authorial intent [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">76</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">],</span></p>
<p style="top:337.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">and semantic chunking which takes into account source syntax. However, all these strategies have</span></p>
<p style="top:349.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">complex trade-offs which take us beyond our immediate comparative goals; for example, chunking</span></p>
<p style="top:361.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">by top-level definitions (a language-aware approach) might prevent issues with a poorly-truncated</span></p>
<p style="top:373.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">definition being included in a prompt, but seeing as definitions can range widely in size, being</span></p>
<p style="top:385.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">forced to include an entire definition may prevent multiple chunks which are together more relevant</span></p>
<p style="top:397.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">from being included.</span></p>
<p style="top:409.5pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">As such, we have elected to leave the RAG baseline structurally agnostic, so as to more cleanly</span></p>
<p style="top:421.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">contrast it with semantic methods, while noting it is likely that ultimately these two methods are</span></p>
<p style="top:433.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">not exclusive and can be used synergistically in a production setting (for example, balancing the</span></p>
<p style="top:445.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">ratio of typed semantic versus associative RAG depending on the amount of static information</span></p>
<p style="top:457.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">available at a given lexical location). We return to this theme in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 6</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:483.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.9</span></b></p>
<p style="top:483.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Hazel GPT-4 Results</span></b></p>
<p style="top:643.3pt;left:93.1pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 8. Hazel GPT-4: Results for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page16" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:16</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d">Figure 8</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> shows the results of our evaluation for GPT-4. We see a clear trend of more semantic</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">information yielding better results on the held-out tests. The no-context baseline (no/no/no) alone</span></p>
<p style="top:110.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">does not suffice to yield meaningful generations, often returning syntactically incorrect code as</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the model hallucinates data types and syntax (such as OCaml-style records) which do not exist in</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hazel, despite the inclusion of the Hazel Crash Course.</span></p>
<p style="top:146.4pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Including type definitions seem absolutely necessary to allow the model to scaffold the update</span></p>
<p style="top:158.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">function. Without this scaffolding, relevant function headers alone show little effect on correctness.</span></p>
<p style="top:170.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">However, in combination with types, function headers have a large multiplicative effect, increasing</span></p>
<p style="top:182.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">test performance threefold.</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 9</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> provides concrete examples of this interaction:</span></p>
<p style="top:379.4pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 9. Some sample completions for various configurations. In (a), without any supporting context, we see</span></p>
<p style="top:390.3pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">reasonable-but-incorrect guesses at both the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Action</span><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000"> constructors and the</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> Model</span><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000"> type; furthermore, the</span></p>
<p style="top:401.3pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">model completion uses record syntax which does not exist in Hazel. (b) uses the provided types correctly</span></p>
<p style="top:412.3pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">but hallucinates helper names. In (c) we see uses of appropriate helpers, but (mostly) incorrect guesses for</span></p>
<p style="top:423.3pt;left:45.6pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Action</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000"> constructors. (d) exploits the provided context to produce a fully correct solution.</span></p>
<p style="top:445.4pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Similarly, error rounds on their own are ineffective on code consisting largely of hallucinated types</span></p>
<p style="top:457.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">and functions. But given the scaffolding effect of relevant static information, they act multiplicatively,</span></p>
<p style="top:469.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">increasing performance by a factor of 4 for types without headers, and a factor of 1.5 for both types</span></p>
<p style="top:481.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and headers. Error rounds were particularly effective at transforming almost-correct completions</span></p>
<p style="top:493.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to fully correct ones, as shown in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 10</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:505.0pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">One phenomenon of note was that sometimes even poor error messages proved effective; the</span></p>
<p style="top:517.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">error in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> Figure 11</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> is an at-most partially accurate characterization of the syntax error, but knowing</span></p>
<p style="top:529.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">there was a syntax error proved sufficient for the model to correct it, perhaps due to the additional</span></p>
<p style="top:541.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">context provided in the Hazel Crash Course.</span></p>
<p style="top:552.8pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The combination of types and headers performed well against the Vector Retrieval baseline,</span></p>
<p style="top:564.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">though it should be noted that this was disproportionately due to a single confounding chunk</span></p>
<p style="top:576.9pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">which was retrieved for each example, even though it is only relevant to the Todo application (see</span></p>
<p style="top:588.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d">Figure 12</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">). We believe that, due to the fact that this chunk coincidentally includes the word symbol</span></p>
<p style="top:601.5pt;left:45.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5">Model</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> twice alongside</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Action</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, it is deemed relevant to each</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> update</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> sketch. The inclusion of this</span></p>
<p style="top:612.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">snippet often resulted in the language model attempting to implement a Todo application, or some</span></p>
<p style="top:624.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">hybrid thereof. We debated refining the chunking strategy to remove this confounder, but found it</span></p>
<p style="top:636.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">easy to inadvertently create similar scenarios; ultimately, it is a representative artefact of a process</span></p>
<p style="top:648.6pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">which is fundamentally non-scope-aware. See</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 4</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> for further discussion.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page17" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:17</span></p>
<p style="top:271.5pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 10. Error rounds were generally very effective at correcting an almost-correct program. Here, the error</span></p>
<p style="top:282.4pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">round reply included a type inconsistency error on</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> model</span><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000"> and an unbound variable error in</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> grid</span><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">, both of</span></p>
<p style="top:293.4pt;left:45.5pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">which were corrected in the model&#x2019;s reply</span></p>
<p style="top:453.3pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 11. Here, a parse error (match/with used instead of</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> case</span><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">) was corrected, even though the Hazel error</span></p>
<p style="top:464.2pt;left:45.8pt;line-height:9.1pt"><span style="font-family:LinBiolinumT,serif;font-size:9.1pt;color:#000000">message in this case is somewhat unclear:</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.1pt;color:#000000"> &#x201c;The parser has detected unmatched delimiters:</span></i></p>
<p style="top:464.3pt;left:380.1pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.1pt;color:#000000"> ,</span></i></p>
<p style="top:464.3pt;left:396.3pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.1pt;color:#000000"> ,</span></i></p>
<p style="top:464.3pt;left:412.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.1pt;color:#000000"> ,</span></i></p>
<p style="top:464.3pt;left:428.7pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.1pt;color:#000000"> .</span></i></p>
<p style="top:475.3pt;left:45.8pt;line-height:9.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:9.0pt;color:#000000">The presence of a</span></i></p>
<p style="top:475.3pt;left:111.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">=&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.0pt;color:#000000"> in the list likely indicates that a</span></i></p>
<p style="top:475.3pt;left:238.1pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">-&gt;</span><i><span style="font-family:LinBiolinumTI,serif;font-size:9.0pt;color:#000000"> was mistakenly used in a case expression.&#x201d;</span></i></p>
<p style="top:613.8pt;left:113.4pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 12. A confounding snippet commonly retrieved by vector retrieval</span></p>
<p style="top:647.8pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">See</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 13</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> for additional examples of more atypical completions.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page18" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:18</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:226.9pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 13. Some more exotic completions: (a) is an excerpt of a very long solution which, not having access to</span></p>
<p style="top:237.9pt;left:45.8pt;line-height:8.9pt"><span style="font-family:LinBiolinumT,serif;font-size:8.9pt;color:#000000">headers, almost successfully managed to re-implement the required logic in-line. In (b) we see an example of</span></p>
<p style="top:248.8pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">a completion containing explicit holes, likely due to their presence in our few-shot example sketches. In (c),</span></p>
<p style="top:259.8pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">the LLM somewhat quixotically suggests substituting a different emoji in lieu of the empty string.</span></p>
<p style="top:292.2pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">It is worth nothing that although the results for types + headers are similar to those for exhaustive</span></p>
<p style="top:304.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">retrieval, with exhaustive retrieval performing somewhat better, our experiments are not powerful</span></p>
<p style="top:316.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">enough to significantly distinguish between these cases, as the sizes of our programs are small</span></p>
<p style="top:328.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">enough that the context size delta is not reflective of real-world use cases. Specifically, the size of</span></p>
<p style="top:339.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">the retrieval context averaged 890 characters for our programs, whereas the exhaustive context</span></p>
<p style="top:351.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">averaged 1370 characters. As it stands the performance delta seems to compare positively to the</span></p>
<p style="top:363.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">context length (and hence cost) delta, but more data is needed to make this conclusive.</span></p>
<p style="top:512.6pt;left:80.1pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 14. Hazel GPT-4: Time elapsed for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:540.3pt;left:45.8pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">2.9.1</span></i></p>
<p style="top:540.3pt;left:73.6pt;line-height:10.0pt"><i><span style="font-family:LinBiolinumTI,serif;font-size:10.0pt;color:#000000">Token and Time Performance.</span></i><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> Figure 14</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> shows the time taken in seconds for all trials. The</span></p>
<p style="top:552.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">time taken is dominated by the number of round trips through the API, with each round scaling in</span></p>
<p style="top:564.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">proportion to the sum of the length of the context and the length of the generation. Generally these</span></p>
<p style="top:576.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">times are too long for use in a practical completion setting; our intention is to determine a ceiling</span></p>
<p style="top:588.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">on current performance with respect to correctness rather than present a practical system. Note</span></p>
<p style="top:600.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">however that these times will likely decrease quickly with hardware and software advances. As of</span></p>
<p style="top:612.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">May 2024 GPT-4o[</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">53</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] performs on average twice as fast as the GPT-4-0613 model checkpoint used</span></p>
<p style="top:624.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">for our experiments. However, the long worst-case times for error rounds suggests that capping at</span></p>
<p style="top:636.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">a single correction round may be more practical, or motivate the use of summarization to reduce</span></p>
<p style="top:647.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">token count during error rounds.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page19" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:19</span></p>
<p style="top:192.1pt;left:81.7pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 15. Hazel GPT-4: Tokens used for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:230.4pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Figure</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 15</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> shows the total tokens used, both sent and received from the API. These are</span></p>
<p style="top:242.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">roughly proportional to the time taken, and precisely proportional to the total cost.</span></p>
<p style="top:266.1pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">2.10</span></b></p>
<p style="top:266.1pt;left:73.6pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Hazel StarCoder2-15B Results</span></b></p>
<p style="top:382.8pt;left:81.5pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 16. Hazel StarCoder2: Results for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:417.4pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">To assess the effectiveness of static retrieval with smaller completion models, we conducted tests</span></p>
<p style="top:429.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">using StarCoder2-15B, a model small enough to be run locally on consumer hardware. The average</span></p>
<p style="top:441.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">percentage of tests passed, shown in the rightmost column of</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> Figure 16</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, exhibits a consistent trend</span></p>
<p style="top:453.1pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">with the GPT-4 results. In the absence of any type or header information, StarCoder2 performed</span></p>
<p style="top:465.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">poorly. The addition of type information drastically improves performance, increasing the percent-</span></p>
<p style="top:477.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">age of correct solutions by an order of magnitude. Furthermore, incorporating headers leads to an</span></p>
<p style="top:489.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">additional 50% increase in relative performance.</span></p>
<p style="top:501.0pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">However, two examples,</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> BO</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> TO</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">, experienced degraded performance after the inclusion of</span></p>
<p style="top:512.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">headers. After close examination of the headers and the output programs, we discovered that the</span></p>
<p style="top:525.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">completions tending to use type-appropriate but in-fact irrelevant retrieved headers. We hypothesize</span></p>
<p style="top:536.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">that smaller completion models, such as StarCoder2, are more sensitive to code that appears near the</span></p>
<p style="top:548.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">end of the context window, making them more susceptible to the influence of irrelevant information.</span></p>
<p style="top:560.8pt;left:45.3pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We touch on this failure mode again when we consider related work in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 6</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:572.7pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Vector retrieval baseline performance was significantly worse (in absolute and relative terms)</span></p>
<p style="top:584.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">than with the larger model. We conjecture that this is due to a heightened sensitivity to erroneous</span></p>
<p style="top:596.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">syntax in the prompt created by chunk truncation.</span></p>
<p style="top:620.3pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">3</span></b></p>
<p style="top:620.3pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Static Retrieval in TypeScript</span></b></p>
<p style="top:635.2pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">To confirm that the above results are not an artefact of using a low-resource language, we also</span></p>
<p style="top:647.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">experimented with static retrieval in TypeScript.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page20" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:20</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">3.1</span></b></p>
<p style="top:86.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">TypeScript Methodology</span></b></p>
<p style="top:101.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Our methodology roughly follows the Hazel experiments. As TypeScript is a high resource language,</span></p>
<p style="top:113.5pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">well-represented in training sets, we did not need to provide a syntax crash course as we did for</span></p>
<p style="top:125.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hazel. TypeScript lacks the explicit support for typed holes and thus a convenient way to extract</span></p>
<p style="top:137.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">semantic information. We emulated typed holes using a previously established approach [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">14</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] using</span></p>
<p style="top:149.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">generic functions (</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">Figure 17</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">).</span></p>
<p style="top:261.3pt;left:127.9pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 17. Hovering over a simulated program hole in TypeScript</span></p>
<p style="top:296.3pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Specifically, we prefix the sketch file with the declaration:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> declare</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> function</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> _&lt;T&gt;(): T</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. Then,</span></p>
<p style="top:308.4pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">we represent a program hole as an application of that generic function:</span></p>
<p style="top:309.1pt;left:331.0pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">_()</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> . Calling the TypeScript</span></p>
<p style="top:320.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">language server&#x2019;s hover method on the hole gives us a corresponding type signature. It should be</span></p>
<p style="top:332.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">noted that this method of emulating typed holes is not fully general. While it works consistently</span></p>
<p style="top:344.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">for holes replacing the bodies of function definitions, it fails in some syntactic positions, including</span></p>
<p style="top:356.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">as an operand of infix operators.</span></p>
<p style="top:368.2pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Static retrieval of type definitions is performed via the TypeScript language server. In particular</span></p>
<p style="top:380.0pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">we use coordinated calls to the</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> Go to Type Definition</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> and</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> Hover</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> methods to recursively retrieve</span></p>
<p style="top:392.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">relevant types from the source lexically.</span></p>
<p style="top:403.9pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">There does not appear to be any direct way of retrieving a typing context given a lexical</span></p>
<p style="top:415.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">location, or even a complete list of variables in scope using the TypeScript language server. We</span></p>
<p style="top:428.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">experimented with different methods to retrieve relevant headers, including scanning the repository</span></p>
<p style="top:439.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">using CodeQL, but were did not find a fully satisfactory general approach. Rather than incurring</span></p>
<p style="top:451.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the engineering cost of a compiler-level intervention, we simulated the retrieval of relevant headers</span></p>
<p style="top:463.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">manually, emulating the same methodology as the Hazel Language Server. As such, our TypeScript</span></p>
<p style="top:475.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">implementation should be considered a rough proof-of-concept; our experience here motivated our</span></p>
<p style="top:487.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">prospective LSP extension outlined in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> section 5</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:499.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We used the TypeScript compiler to collate static errors for correction rounds.</span></p>
<p style="top:511.7pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Adapting MVUBench to TypeScript was done with the aid of Claude [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">4</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], an LLM chat agent (See</span></p>
<p style="top:523.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d">section 9</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> for more about our supporting LLM usage). Transliterated code was manually adjusted to</span></p>
<p style="top:535.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">establish basic conformance to TypeScript idioms, for example adding elements to array at the end,</span></p>
<p style="top:547.4pt;left:45.6pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">versus at the start is standard for linked lists in functional languages like Hazel. Our experience</span></p>
<p style="top:559.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">here suggests that MVUBench can be ported with relative ease to other similar languages.</span></p>
<p style="top:584.0pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">3.2</span></b></p>
<p style="top:584.0pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">TypeScript GPT-4 Results</span></b></p>
<p style="top:599.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">In broad strokes the TypeScript results (</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d">Figure 18</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">) are similar to the Hazel results. We see, somewhat</span></p>
<p style="top:611.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">unsurprisingly, that a higher-resource language, well represented in the training set, achieves better</span></p>
<p style="top:622.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">overall completions from the language model. Unlike with Hazel, some trials passed some tests</span></p>
<p style="top:634.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">even with no type information provided. With type definitions included, the TypeScript results are</span></p>
<p style="top:646.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">flatter than the Hazel results.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page21" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:21</span></p>
<p style="top:201.9pt;left:81.7pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 18. TypeScript GPT-4: Results for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:237.0pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The ratio of tests passed with-versus-without headers is 3 for Hazel, and 1.5 for TypeScript. From</span></p>
<p style="top:248.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">examining the generated completions, we see that the model, when not provided with relevant</span></p>
<p style="top:260.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">headers, is significantly more able to produce equivalent working logic inline than it was in Hazel.</span></p>
<p style="top:272.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The TypeScript performance proved less dependent on error rounds. In Hazel, the ratio of tests</span></p>
<p style="top:284.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">passing with-versus-without error rounds was about 2, whereas for TypeScript it is about 1.2. Again,</span></p>
<p style="top:296.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">this is likely due to the fact that the model is far more familiar with TypeScript syntax, and unlikely</span></p>
<p style="top:308.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">to make the kind of syntax errors which the error rounds were vital for correcting in the Hazel</span></p>
<p style="top:320.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">experiment.</span></p>
<p style="top:332.5pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Performance relative to the exhaustive and vector retrieval baselines, including the high per-</span></p>
<p style="top:344.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">example variance of the latter, are relatively in line with the Hazel results.</span></p>
<p style="top:367.4pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">3.3</span></b></p>
<p style="top:367.4pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">TypeScript StarCoder2-15B Results</span></b></p>
<p style="top:484.4pt;left:72.2pt;line-height:9.0pt"><span style="font-family:LinBiolinumT,serif;font-size:9.0pt;color:#000000">Fig. 19. TypeScript StarCoder2: Results for guided completion (20 trials per, temperature 0.6)</span></p>
<p style="top:514.1pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The TypeScript StarCoder2 results (</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d">Figure 19</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">) appear roughly in line with the Hazel results</span></p>
<p style="top:526.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">modulo the considerations of the previous section.</span></p>
<p style="top:549.0pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">4</span></b></p>
<p style="top:549.0pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Threats to Validity</span></b></p>
<p style="top:563.8pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The improvement seen from the inclusion of relevant function headers is highly contingent on</span></p>
<p style="top:575.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the fact that many relevant functions have already been implemented. While we believe that this</span></p>
<p style="top:587.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">approximates a common case in programming practice for which naive contextualization strategies</span></p>
<p style="top:599.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">fail, validating this claim would require larger-scale study, using at-scale programs which are more</span></p>
<p style="top:611.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">neutrally selected.</span></p>
<p style="top:623.7pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">More broadly, MVUBench is not (and is not meant to) be representative of all coding tasks, but</span></p>
<p style="top:635.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">rather to present a challenge to contemporary techniques and help evaluate approaches to semantic</span></p>
<p style="top:647.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">contextualization (e.g. vector retrieval, which we evaluate in</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> subsubsection 2.8.5</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">).</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page22" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:22</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.6pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Our TypeScript MVUBench is a very close translation of the Hazel code; although the MVU</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">paradigm is in use in the TypeScript world [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">8</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], there is a question as to the applicability of these</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">methods to a broader range of TypeScript programming styles.</span></p>
<p style="top:122.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The appropriateness of our baselines is arguable. This is an idealized setup in which the baseline</span></p>
<p style="top:134.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">case is to provide no information beyond the function header; it is unsurprising that adding related</span></p>
<p style="top:146.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">context drastically improves the result. In many real cases the cursor window would contain a</span></p>
<p style="top:158.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">large amount of relevant code. We have chosen here to focus on the situation where the window</span></p>
<p style="top:170.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">does not contain much relevant code, but it remains to validate the relative rate of occurrence of</span></p>
<p style="top:182.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">these scenarios in the wild.</span></p>
<p style="top:194.2pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Our RAG baseline is relatively simplistic, and practical implementations are increasingly inte-</span></p>
<p style="top:206.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">grating more sophisticated methods which may more closely approximate static retrieval. The fact</span></p>
<p style="top:218.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">that we compensated for the small size of our examples by creating a conjoined codebase to create</span></p>
<p style="top:230.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">our embedding vector database may not be adequately representative of a real large-scale codebase.</span></p>
<p style="top:258.6pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">5</span></b></p>
<p style="top:258.6pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">ChatLSP</span></b></p>
<p style="top:273.5pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Here we sketch a conservative extension to the Language Server Protocol to support static con-</span></p>
<p style="top:285.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">textualization, motivated in part the awkwardness of implementing static contextualization in</span></p>
<p style="top:297.4pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">TypeScript using its existing language server. The interface differs somewhat from the API we</span></p>
<p style="top:309.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">sketched incrementally in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> section 2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">, as the LSP is presentation-centric, operating in terms of strings</span></p>
<p style="top:321.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">and affordances rather than language-specific semantic data types.</span></p>
<p style="top:333.2pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Immediately following, we will sketch how one might implement this</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> ChatLSP</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> API in terms</span></p>
<p style="top:345.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">of our</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> Static Contextualization</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> API, the latter serving more as an internal interface for language</span></p>
<p style="top:357.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">server implementers.</span></p>
<p style="top:385.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">5.1</span></b></p>
<p style="top:385.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">ChatLSP API Methods</span></b></p>
<p style="top:403.6pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(1)</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.9pt;color:#000000"> aiTutorial</span></b><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">: A constant (lexical-context-independent) method for low resource languages (like</span></p>
<p style="top:415.5pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Hazel) to specify a textual tutorial intended for LLMs having robust support for in-context</span></p>
<p style="top:427.6pt;left:70.2pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">learning. For high resource languages, the default implementation will simply return a string</span></p>
<p style="top:439.5pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">stating which language is in use.</span></p>
<p style="top:451.4pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(2)</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> expectedType</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Returns a string specifying the expected type at the cursor, if available</span></p>
<p style="top:463.4pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(3)</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.0pt;color:#000000"> retrieveRelevantTypes</span></b><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">: Returns a string containing type definitions that may be relevant</span></p>
<p style="top:475.3pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">at the cursor location</span></p>
<p style="top:487.3pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(4)</span><b><span style="font-family:LinLibertineTB,serif;font-size:9.9pt;color:#000000"> retrieveRelevantHeaders</span></b><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">: Returns a string containing headers that may be relevant at the</span></p>
<p style="top:499.3pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">cursor location</span></p>
<p style="top:511.2pt;left:55.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">(5)</span><b><span style="font-family:LinLibertineTB,serif;font-size:10.1pt;color:#000000"> errorReport</span></b><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">: Returns an error report that can be used to determine if an error round is</span></p>
<p style="top:523.2pt;left:70.2pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">needed, and if so, how the feedback should be presented to the LLM.</span></p>
<p style="top:548.2pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">This API gives leeway to the language server to decide how to implement these commands. For a</span></p>
<p style="top:560.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">language with a rich static analyzer, e.g. GHC (Haskell) with its support for hole-oriented program-</span></p>
<p style="top:572.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">ming and existing functionality to retrieve relevant headers (e.g. see the work of Gissurarson[</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">26</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]),</span></p>
<p style="top:584.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">it should be very straightforward to implement these five ChatLSP-specific commands.</span></p>
<p style="top:596.0pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">To sketch the language server side of this interface, we collect the</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> section 2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> static contextualization</span></p>
<p style="top:607.9pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">API below. First, we define the following types aliases:</span></p>
<p style="top:632.8pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Header</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Name, Type)</span></p>
<p style="top:644.8pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> type</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#17a0dd"> Context</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> =</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> [Header]</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page23" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:23</span></p>
<p style="top:86.7pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">5.2</span></b></p>
<p style="top:86.7pt;left:68.5pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Static Contextualization Language Server API</span></b></p>
<p style="top:101.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getExpectedType:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Program, LexicalLocation) -&gt; Type</span></p>
<p style="top:113.6pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getTypingContext:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> (Program, LexicalLocation) -&gt; Context</span></p>
<p style="top:125.5pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> extractAliases:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Type -&gt; [TypeAlias]</span></p>
<p style="top:137.5pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getTypeDefinition:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> TypeAlias -&gt; Type</span></p>
<p style="top:149.4pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getTargetTypes:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Type -&gt; [Type]</span></p>
<p style="top:161.4pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> filterContext:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Context, Type -&gt; Context</span></p>
<p style="top:173.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> scoreEntry:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Header -&gt; Float</span></p>
<p style="top:185.3pt;left:61.3pt;line-height:10.0pt"><span style="font-family:txsys,serif;font-size:10.0pt;color:#000000">&#x2022;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getStaticErrors:</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#814cf5"> Program -&gt; [StaticError]</span></p>
<p style="top:202.9pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">ChatLSP API methods (2) and (5) correspond directly to</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getExpectedType</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> and</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> getStaticErrors</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:214.9pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The following pseudocode outlines how methods (3) and (4) could be implemented using the Static</span></p>
<p style="top:226.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Contextualization Language Server API:</span></p>
<p style="top:245.3pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">retrieveRelevantTypes</span></p>
<p style="top:245.3pt;left:168.7pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">:</span></p>
<p style="top:245.3pt;left:178.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Type</span><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">[Type]</span></p>
<p style="top:256.3pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">retrieveRelevantTypes t = concatMap (\alias</span><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span></p>
<p style="top:267.2pt;left:60.1pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> def = getTypeDefinition alias</span></p>
<p style="top:278.2pt;left:60.0pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> def : getRelevantTypes def) (extractAliases t)</span></p>
<p style="top:300.1pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">retrieveRelevantHeaders</span></p>
<p style="top:300.1pt;left:179.4pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">:</span></p>
<p style="top:300.1pt;left:189.3pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Type</span><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">Context</span><span style="font-family:txsys,serif;font-size:9.0pt;color:#000000"> &#x2192;</span><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">[Header]</span></p>
<p style="top:311.1pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">retrieveRelevantHeaders t context =</span></p>
<p style="top:322.0pt;left:60.1pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">let</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> relevantTypes = retrieveRelevantTypes t</span></p>
<p style="top:333.0pt;left:81.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">filteredHeaders = concatMap (filterContext context) relevantTypes</span></p>
<p style="top:343.9pt;left:81.8pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">sortedHeaders = sortBy scoreEntry filteredHeaders</span></p>
<p style="top:354.9pt;left:65.4pt;line-height:9.0pt"><b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">in</span></b><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000"> take NUMHEADERS sortedHeaders</span></p>
<p style="top:376.8pt;left:49.4pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#7f807f">-- Usage (given a Program and a LexicalLocation)</span></p>
<p style="top:387.8pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">retrieveRelevantTypes(getExpectedType(Program , LexicalLocation))</span></p>
<p style="top:398.7pt;left:49.5pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">relevantHeaders = retrieveRelevantHeaders</span></p>
<p style="top:409.7pt;left:59.9pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">(getExpectedType Program LexicalLocation)</span></p>
<p style="top:420.6pt;left:59.9pt;line-height:9.0pt"><span style="font-family:Inconsolatazi4,serif;font-size:9.0pt;color:#000000">(getTypingContext Program LexicalLocation)</span></p>
<p style="top:452.6pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">6</span></b></p>
<p style="top:452.6pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Related work</span></b></p>
<p style="top:467.6pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The introduction covered the broader literature on LLMs for code, so we focus here specifically on</span></p>
<p style="top:479.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">other methods for semantic contextualization of LLM-based code generation systems.</span></p>
<p style="top:491.5pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Error correction using instruction-tuned models is a widespread technique and not itself a novel</span></p>
<p style="top:503.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">contribution of this paper, e.g. much work on program repair with LLMs is fundamentally rooted</span></p>
<p style="top:515.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">in this idea [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">33</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 63</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]. The contribution of this paper is the observation that error looping alone is</span></p>
<p style="top:527.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">not sufficient in a context-poor setting, and that error looping together with contextualization is</span></p>
<p style="top:539.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the most effective technique, particularly for a low-resource language like Hazel.</span></p>
<p style="top:551.2pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The observation that LLMs perform poorly when they lack repository-level context has been</span></p>
<p style="top:563.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">made in a number of recent papers, which have approached it in a variety of ways. We discussed</span></p>
<p style="top:575.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">the benchmarks used in these papers in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> subsubsection 1.1.2</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> so we do not repeat the discussion here.</span></p>
<p style="top:587.2pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">RepoCoder [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">83</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] uses vector retrieval to contextualize Python code. Our experiments demonstrate</span></p>
<p style="top:599.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">that vector retrieval is sensitive to semantic confounds easily handled by static retrieval.</span></p>
<p style="top:611.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The Repo-Level Prompt Generator [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">67</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] uses machine learning to decide how to construct a useful</span></p>
<p style="top:623.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">prompt, drawing information from coarse-grained static information like imports and parent-child</span></p>
<p style="top:634.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">relationships between classes. Even this level of contextualization showed substantial promise</span></p>
<p style="top:646.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">relative to baselines.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page24" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:24</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.7pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Pei et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">60</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> tackle the difficult problem of contextualizing Python function calls using a static</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">analyzer from Python, which can provide function implementations and function usage examples.</span></p>
<p style="top:110.6pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Again, even this level of contextualization is quite helpful. Our focus here was on gradually typed</span></p>
<p style="top:122.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">languages, and we did not include function implementations or usage examples, suggesting potential</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">future work.</span></p>
<p style="top:146.5pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">CodeTrek [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">58</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] also uses program analyses, generated from task- and error-relevant queries and</span></p>
<p style="top:158.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">expressed in CodeQL, to generate semantic contextualization for program repair tasks in Python.</span></p>
<p style="top:170.4pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">This too was quite effective and suggests that richer static analyses might be of interest in particular</span></p>
<p style="top:182.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">settings. For hole filling, however, it may be that lightweight static methods, like type checking,</span></p>
<p style="top:194.3pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">are more efficient. However, we look forward to future direct comparisons of these methods.</span></p>
<p style="top:206.1pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Li et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">38</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> also identify the semantic contextualization problem and propose IDECoder, a</span></p>
<p style="top:218.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">system that uses the static information tracked by an IDE or language server to contextualize LLM</span></p>
<p style="top:230.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">code completion. This is an outline of early experiments in this direction which have not yet been</span></p>
<p style="top:242.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">fully evaluated, but we agree with the thrusts of the argument made here and look forward to</span></p>
<p style="top:254.0pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">additional experimentation in this direction by the community.</span></p>
<p style="top:265.9pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">CoCoMIC [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">19</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">] is a framework that learns in-file and cross-file context jointly atop an LLM.</span></p>
<p style="top:278.0pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">This differs from our approach in that it deploys a learning step to decide which cross-file context</span></p>
<p style="top:289.8pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">to attend to, which may be subject to similar issues as vector retrieval approaches when given</span></p>
<p style="top:301.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">confounding contexts. However, this represents a fascinating future direction when combined with</span></p>
<p style="top:313.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">static retrieval, which can often lead to too much information to include in a token window.</span></p>
<p style="top:325.7pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">In a similar vein, RLCoder [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">76</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">] uses reinforcement learning to rank retrieved code snippets</span></p>
<p style="top:337.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">for repository-level code completion. Seemingly uniquely, they do not simply return the top k</span></p>
<p style="top:349.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">candidates, but impose a stop threshold, which may result in no candidates being added to the</span></p>
<p style="top:361.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">prompt if they are deemed of negative worth. Our StarCoder results suggest smaller models are</span></p>
<p style="top:373.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">especially sensitive to plausible but irrelevant inclusions, further supporting this line of investigation.</span></p>
<p style="top:385.6pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">A similar RL-based approach using statically derived candidates seems a promising future direction.</span></p>
<p style="top:397.4pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Dehallucinator [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">22</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">] is an approach that performs semantic lookup after an initial generation</span></p>
<p style="top:409.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">phase to lookup potentially relevant definitions that were invalid, e.g. not in scope. This is a</span></p>
<p style="top:421.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">more sophisticated form of error correction and could be combined with the kind of proactive</span></p>
<p style="top:433.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">contextualization that we&#x2019;ve described.</span></p>
<p style="top:445.3pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Agrawal et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">2</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> and Wei et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">77</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> propose an approach that modifies token sampling by</span></p>
<p style="top:457.4pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">leveraging the semantic code completion systems already available in modern IDEs, which implicitly</span></p>
<p style="top:469.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">provide some context. One issue with this approach is that they can only sample from tokens that</span></p>
<p style="top:481.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the model has assigned some baseline level of probability, but without semantic context this may</span></p>
<p style="top:493.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">not be the case. There is likely substantial room for future work in combining static retrieval with</span></p>
<p style="top:505.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">this sort of structure-guided sampling, and perhaps with providing more fine-grained retrieval at</span></p>
<p style="top:517.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">each token rather than once at the onset of code completion.</span></p>
<p style="top:529.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Zan et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">82</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> retrieves potentially relevant code from API documentation, then further proposes</span></p>
<p style="top:541.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">a continuous training approach to incorporate this information into the model weights. In contrast,</span></p>
<p style="top:552.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">our approach is focused on black-box pre-trained models. In the future, incorporating commonly</span></p>
<p style="top:564.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">used private APIs into a continuous training loop would improve token efficiency, leaving more</span></p>
<p style="top:576.8pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">room in the context for truly novel definitions.</span></p>
<p style="top:588.8pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Zhang et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">86</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000"> builds a prompt context for program repair by retrieving class signatures and</span></p>
<p style="top:600.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">method implementations based on model-extracted keywords from GitHub issue descriptions. This</span></p>
<p style="top:612.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">is similar (and likely complementary) to our approach in that the authors define an LSP-like API for</span></p>
<p style="top:624.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">retrieval, but base this retrieval on inferring intent from unstructured text rather than cursor-local</span></p>
<p style="top:636.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">derived semantics.</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page25" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:25</span></p>
<p style="top:86.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Chakraborty et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">16</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> uses RAG-based methods to retrieve relevant types from a large corpus to</span></p>
<p style="top:98.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">support synthesis of programs/proofs in the dependently-typed F* language. Corpus-based RAG on</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">types is complementary to our approach, as it provides an avenue to retrieve semantically-similar</span></p>
<p style="top:122.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">code in cases where there are no local values with appropriate types.</span></p>
<p style="top:134.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Parasaram et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">57</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000"> examines the issue of &#x2018;fact selection&#x2019; for program repair prompt construction:</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">How to decide which context to include and how that decision effects performance. They consider</span></p>
<p style="top:158.3pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">multiple types of static and dynamic information, with particular focus on localized dynamics,</span></p>
<p style="top:170.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">complementary to our more specific treatment of localized static information.</span></p>
<p style="top:182.2pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Liu et al</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">. [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">39</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">]</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> have very recently proposed a general framework for applying static analysis</span></p>
<p style="top:194.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">to repository-level code completion. They consider integration across three phases: prompting,</span></p>
<p style="top:206.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">decoding, and post-processing, the first and last corresponding to our static contextualization</span></p>
<p style="top:218.1pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">and correction approaches. In particular, their &#x2018;token-level dependency analysis&#x2019;, which uses</span></p>
<p style="top:230.1pt;left:45.7pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Java/Python static analyzers to add a list of plausible next tokens to the prompt, is similar to our</span></p>
<p style="top:242.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">header retrieval strategy.</span></p>
<p style="top:254.1pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Significant industry work in contextualizing code generation includes the now-standard keyword</span></p>
<p style="top:265.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">and vector embeddings approaches (as used for example by Sourcegraph Cody [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">70</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]), but many</span></p>
<p style="top:277.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">recognize new approaches are needed: the authors of the Cursor AI Code Editor call for better</span></p>
<p style="top:289.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">multi-hop retrieval [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">6</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">], a natural fit for structured scope-and-semantics-aware contextualization.</span></p>
<p style="top:301.9pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">The Zed editor features affordances for programmers to manually build and inspect prompt contexts</span></p>
<p style="top:313.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">[</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">69</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] which may facilitate exploration of the relative benefits of different contextualization methods.</span></p>
<p style="top:325.7pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The Aider &#x2018;AI pair programmer&#x2019; uses Tree-sitter ASTs to augment prompts with a condensed</span></p>
<p style="top:337.8pt;left:45.5pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">whole-codebase map [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">3</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], an approach we believe may synergize with using cursor-local semantic</span></p>
<p style="top:349.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">information to control the granularity of such a projection.</span></p>
<p style="top:361.6pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">Finally, we note that there is also a vast literature on non-LLM-based code generation systems,</span></p>
<p style="top:373.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">some of which also use types to restrict the search space [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">55</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">]. Our approach helps bring these two</span></p>
<p style="top:385.6pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">worlds together, e.g. by using a form of typed term enumeration to generate the relevant headers.</span></p>
<p style="top:397.5pt;left:45.3pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">We hope that our results will lead to more interactions between the programming languages and</span></p>
<p style="top:409.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the AI communities.</span></p>
<p style="top:430.4pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">7</span></b></p>
<p style="top:430.4pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Discussion and Conclusion</span></b></p>
<p style="top:445.3pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">An AI model, no matter how powerful, cannot determine a human&#x2019;s intent without access to</span></p>
<p style="top:457.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">necessary context. Most existing attempts to provide this contextualization are lexically grounded,</span></p>
<p style="top:469.2pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">deriving from loose, associative methods developed for natural language. We believe that typed</span></p>
<p style="top:481.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">holes provide a bridge between local expressions of human intent and broader semantic context,</span></p>
<p style="top:493.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">and that type theory provides a formal characterization of contextualization, rooted fundamentally</span></p>
<p style="top:505.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">in the notion of</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> typing contexts</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">. In particular, contextual modal type theory (CMTT) [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">48</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">] and</span></p>
<p style="top:517.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">gradual type theory [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">68</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] provide a foundation for program sketching with holes, where expression</span></p>
<p style="top:529.1pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">holes corresponding to metavariables with a corresponding type and typing context and type holes</span></p>
<p style="top:540.9pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">correspond to unknown types. The Hazel programming environment, with its roots in gradual</span></p>
<p style="top:553.0pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">CMTT [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">50</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">] as a foundational theory of holes and its support for total syntax and type error recovery</span></p>
<p style="top:564.8pt;left:45.5pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">with holes [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">47</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">,</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d"> 87</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">], therefore presents an ideal environment for</span><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000"> statically contextualizing large</span></i></p>
<p style="top:576.8pt;left:45.8pt;line-height:10.1pt"><i><span style="font-family:LinLibertineTI,serif;font-size:10.1pt;color:#000000">language models with typed holes</span></i><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">. Our results demonstrate that this form of contextualization,</span></p>
<p style="top:588.9pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">together with some in-context prompting about the specific choices made in Hazel, a low-resource</span></p>
<p style="top:600.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">language, can take a model incapable of even basic MVU tasks up to, or nearly up to, the performance</span></p>
<p style="top:612.8pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">observed in a fully contextualized setting for a high resource language like TypeScript. These ideas</span></p>
<p style="top:624.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">have been realized in a functional programming assistant, the Hazel Assistant.</span></p>
<p style="top:636.5pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">These ideas can also be ported directly to other languages, like TypeScript, albeit with some</span></p>
<p style="top:648.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">difficulty due to limitations of standard language servers.</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page26" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:26</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:86.8pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Our comparisons to vector retrieval, a language-agnostic approach, suggests that language-aware</span></p>
<p style="top:98.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">programming assistants may significantly outperform language-agnostic retrieval systems in the</span></p>
<p style="top:110.6pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">short- and medium-term, and perhaps far into the future.</span></p>
<p style="top:122.6pt;left:55.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">Additional forms of semantic contextualization, e.g. using dynamic test results passed backwards</span></p>
<p style="top:134.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">to holes [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">45</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], the results of various static and dynamic analyses, and the result of library searches</span></p>
<p style="top:146.5pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">to find helpers that may not yet be imported are interesting avenues for future work.</span></p>
<p style="top:171.4pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">8</span></b></p>
<p style="top:171.4pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Data Availability</span></b></p>
<p style="top:186.2pt;left:45.5pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">An artefact [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">11</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">] containing the MVUBench program sketches and solutions, the raw data of our</span></p>
<p style="top:198.3pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">experiments, our testing harness, the source of the Hazel IDE and Language Server, and a copy of</span></p>
<p style="top:210.2pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">the StarCoder2 model used is available on Zenodo. The artefact is password-protected to prevent</span></p>
<p style="top:222.2pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">automatic scrapping of the benchmark suite; the password can be found in the artefact description.</span></p>
<p style="top:234.0pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Hazel can be accessed online at</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#005697"> https://hazel.org</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">, with source available at</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#005697"> https://github.com/</span></p>
<p style="top:246.1pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#005697">hazelgrove/hazel/</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">.</span></p>
<p style="top:271.0pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">9</span></b></p>
<p style="top:271.0pt;left:60.9pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">Acknowledgements</span></b></p>
<p style="top:286.0pt;left:45.3pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">We would like to thank our referees for their helpful feedback, and our artefact reviewers for their</span></p>
<p style="top:297.9pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">diligent efforts.</span></p>
<p style="top:309.8pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">The (public domain) programmer photo in</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 1</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> and</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#781d7d"> Figure 6</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000"> depicts ENIAC programmer</span></p>
<p style="top:321.7pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Ruth Teitelbaum [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">72</span><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">]. The language server and language model images were prompted by the</span></p>
<p style="top:333.7pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">authors using the Bing AI Image Creator; Microsoft claims no copyright over generations [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">46</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">].</span></p>
<p style="top:345.6pt;left:55.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">Claude and ChatGPT were used to author scripts for our testing harness and data processing</span></p>
<p style="top:357.6pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">pipeline, and aid in the transliteration of the MVUBench suite to TypeScript. In so doing we are</span></p>
<p style="top:369.7pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">putting faith in stated Anthropic policy of not including prompts in future training data [</span><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#781d7d">5</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">], which</span></p>
<p style="top:381.6pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">could be a source of data contamination as described in</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#781d7d"> section 1</span><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">. After some discussion we decided</span></p>
<p style="top:393.4pt;left:45.8pt;line-height:10.1pt"><span style="font-family:LinLibertineT,serif;font-size:10.1pt;color:#000000">that absolute purity was a losing battle, as there was already a near-certainty that the code was</span></p>
<p style="top:405.5pt;left:45.8pt;line-height:9.9pt"><span style="font-family:LinLibertineT,serif;font-size:9.9pt;color:#000000">opened and edited in a Copilot-enabled IDE; true clean-room behavior with respect to benchmark</span></p>
<p style="top:417.4pt;left:45.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">data seems likely to prove increasingly difficult as LLM integration becomes more prevalent.</span></p>
<p style="top:429.4pt;left:55.8pt;line-height:10.0pt"><span style="font-family:LinLibertineT,serif;font-size:10.0pt;color:#000000">This work was partially funded by the National Science Foundation (Award #2238744).</span></p>
<p style="top:454.3pt;left:45.8pt;line-height:10.0pt"><b><span style="font-family:LinBiolinumTB,serif;font-size:10.0pt;color:#000000">References</span></b></p>
<p style="top:468.8pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[1]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida,</span></p>
<p style="top:478.8pt;left:62.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Janko Altenschmidt, Sam Altman, Shyamal Anadkat, et al. 2023. GPT-4 technical report. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2303.08774</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.AI]</span></p>
<p style="top:488.8pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[2]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Lakshya A Agrawal, Aditya Kanade, Navin Goyal, Shuvendu Lahiri, and Sriram Rajamani. 2023. Monitor-Guided</span></p>
<p style="top:498.8pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Decoding of Code LMs with Static Analysis of Repository Context. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Advances in Neural Information Processing Systems</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">,</span></p>
<p style="top:508.7pt;left:62.6pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Vol. 36. 32270&#x2013;32298.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://proceedings.neurips.cc/paper_files/paper/2023/file/662b1774ba8845fc1fa3d1fc0177ceeb-</span></p>
<p style="top:518.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">Paper-Conference.pdf</span></p>
<p style="top:528.6pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[3]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Aider. 2023. Building a better repository map with tree sitter.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://aider.chat/2023/10/22/repomap.html</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> [Accessed</span></p>
<p style="top:538.6pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">August 31, 2024].</span></p>
<p style="top:548.5pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[4] Anthropic. 2024. Introducing the next generation of Claude.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://www.anthropic.com/news/claude-3-family</span></p>
<p style="top:558.5pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[5]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Antropic. 2024. How do you use personal data in model training?</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://support.anthropic.com/en/articles/7996885-</span></p>
<p style="top:568.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">how-do-you-use-personal-data-in-model-training</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed September 1, 2024].</span></p>
<p style="top:578.4pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[6] Anysphere. 2024. Cursor Problems 2024.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://www.cursor.com/blog/problems-2024</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 31, 2024].</span></p>
<p style="top:588.4pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[7]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Jacob Austin, Augustus Odena, Maxwell I. Nye, Maarten Bosma, Henryk Michalewski, David Dohan, Ellen Jiang,</span></p>
<p style="top:598.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Carrie J. Cai, Michael Terry, Quoc V. Le, and Charles Sutton. 2021. Program Synthesis with Large Language Models.</span></p>
<p style="top:608.3pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> abs/2108.07732 (2021). arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2108.07732</span></p>
<p style="top:618.3pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[8]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Thomas Bandt. 2020. Pragmatic MVU With React And TypeScript. (2020).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://thomasbandt.com/model-view-</span></p>
<p style="top:628.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">update-with-react-and-typescript</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span></p>
<p style="top:638.2pt;left:49.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[9]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Shraddha Barke, Michael B. James, and Nadia Polikarpova. 2023. Grounded Copilot: How Programmers Interact with</span></p>
<p style="top:648.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Code-Generating Models.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proc. ACM Program. Lang.</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 7, OOPSLA1 (2023), 85&#x2013;111.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3586030</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page27" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:27</span></p>
<p style="top:88.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[10]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Djonathan Barros, Sven Peldszus, Wesley K. G. Assun&#xe7;&#xe3;o, and Thorsten Berger. 2022. Editing support for software</span></p>
<p style="top:98.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">languages: implementation practices in language server protocols. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 25th International Conference</span></i></p>
<p style="top:108.2pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">on Model Driven Engineering Languages and Systems (MODELS &#x2019;22)</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">. Association for Computing Machinery, New York,</span></p>
<p style="top:118.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">NY, USA, 232&#x2013;243.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3550355.3552452</span></p>
<p style="top:128.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[11]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> andrew blinn, Xiang Li, June Hyung (Jacob) Kim, and Cyrus Omar. 2024.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Artifact for Statically Contextualizing Large</span></i></p>
<p style="top:138.1pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Language Models with Typed Holes</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.5281/zenodo.12669479</span></p>
<p style="top:148.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[12]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Andrew Blinn, David Moon, Eric Griffis, and Cyrus Omar. 2022. An Integrative Human-Centered Architecture for</span></p>
<p style="top:157.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Interactive Programming Assistants. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> 2022 IEEE Symposium on Visual Languages and Human-Centric Computing</span></i></p>
<p style="top:168.0pt;left:62.4pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">(VL/HCC)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. 1&#x2013;5.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1109/VL/HCC53370.2022.9833110</span></p>
<p style="top:177.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[13]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Fr&#xe9;d&#xe9;ric Bour, Thomas Refis, and Gabriel Scherer. 2018. Merlin: a language server for OCaml (experience report).</span></p>
<p style="top:187.9pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Proceedings of the ACM on Programming Languages</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 2, ICFP (2018), 1&#x2013;15.</span></p>
<p style="top:197.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[14]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Giulio Canti. 2019. Type holes in TypeScript.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dev.to/gcanti/type-holes-in-typescript-2lck</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August</span></p>
<p style="top:207.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">31, 2024].</span></p>
<p style="top:217.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[15]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Federico Cassano, John Gouwar, Francesca Lucchetti, Claire Schlesinger, Anders Freeman, Carolyn Jane Anderson,</span></p>
<p style="top:227.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Molly Q Feldman, Michael Greenberg, Abhinav Jangda, and Arjun Guha. 2024. Knowledge Transfer from High-</span></p>
<p style="top:237.8pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Resource to Low-Resource Programming Languages for Code LLMs.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the ACM on Programming Languages</span></i></p>
<p style="top:247.7pt;left:62.4pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">(PACMPL), Issue OOPSLA</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> (2024). arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2308.09895</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.PL]</span></p>
<p style="top:257.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[16]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Saikat Chakraborty, Gabriel Ebner, Siddharth Bhat, Sarah Fakhoury, Sakina Fatima, Shuvendu Lahiri, and Nikhil</span></p>
<p style="top:267.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Swamy. 2024. Towards Neural Synthesis for SMT-Assisted Proof-Oriented Programming. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> International Conference</span></i></p>
<p style="top:277.6pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">on Software Engineering (ICSE)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2405.01787</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.PL]</span></p>
<p style="top:287.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[17]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Mark Chen, Jerry Tworek, Heewoo Jun, Qiming Yuan, Henrique Pond&#xe9; de Oliveira Pinto, Jared Kaplan, Harrison</span></p>
<p style="top:297.5pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Edwards, Yuri Burda, Nicholas Joseph, Greg Brockman, Alex Ray, Raul Puri, Gretchen Krueger, Michael Petrov, Heidy</span></p>
<p style="top:307.4pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Khlaaf, Girish Sastry, Pamela Mishkin, Brooke Chan, Scott Gray, Nick Ryder, Mikhail Pavlov, Alethea Power, Lukasz</span></p>
<p style="top:317.5pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Kaiser, Mohammad Bavarian, Clemens Winter, Philippe Tillet, Felipe Petroski Such, Dave Cummings, Matthias Plappert,</span></p>
<p style="top:327.4pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Fotios Chantzis, Elizabeth Barnes, Ariel Herbert-Voss, William Hebgen Guss, Alex Nichol, Alex Paino, Nikolas Tezak,</span></p>
<p style="top:337.3pt;left:62.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Jie Tang, Igor Babuschkin, Suchir Balaji, Shantanu Jain, William Saunders, Christopher Hesse, Andrew N. Carr, Jan</span></p>
<p style="top:347.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Leike, Joshua Achiam, Vedant Misra, Evan Morikawa, Alec Radford, Matthew Knight, Miles Brundage, Mira Murati,</span></p>
<p style="top:357.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Katie Mayer, Peter Welinder, Bob McGrew, Dario Amodei, Sam McCandlish, Ilya Sutskever, and Wojciech Zaremba.</span></p>
<p style="top:367.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">2021. Evaluating Large Language Models Trained on Code.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> abs/2107.03374 (2021). arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2107.03374</span></p>
<p style="top:377.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[18]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Czaplicki, Evan. 2022. Elm Architecture. (2022).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://guide.elm-lang.org/architecture/</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed September 1st,</span></p>
<p style="top:387.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">2024].</span></p>
<p style="top:397.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[19]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yangruibo Ding, Zijian Wang, Wasi Ahmad, Murali Krishna Ramanathan, Ramesh Nallapati, Parminder Bhatia, Dan</span></p>
<p style="top:407.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Roth, and Bing Xiang. 2024. CoCoMIC: Code Completion by Jointly Modeling In-file and Cross-file Context. In</span></p>
<p style="top:417.1pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">Proceedings of the 2024 Joint International Conference on Computational Linguistics, Language Resources and Evaluation</span></i></p>
<p style="top:427.0pt;left:62.4pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">(LREC-COLING 2024)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. 3433&#x2013;3445.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://aclanthology.org/2024.lrec-main.305</span></p>
<p style="top:437.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[20]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Yangruibo Ding, Zijian Wang, Wasi Uddin Ahmad, Hantian Ding, Ming Tan, Nihal Jain, Murali Krishna Ramanathan,</span></p>
<p style="top:446.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Ramesh Nallapati, Parminder Bhatia, Dan Roth, and Bing Xiang. 2023. CrossCodeEval: A Diverse and Multilingual</span></p>
<p style="top:456.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Benchmark for Cross-File Code Completion. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Thirty-seventh Conference on Neural Information Processing Systems</span></i></p>
<p style="top:466.8pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Datasets and Benchmarks Track</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://openreview.net/forum?id=wgDcbBMSfh</span></p>
<p style="top:476.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[21]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yiran Ding, Li Lyna Zhang, Chengruidong Zhang, Yuanyuan Xu, Ning Shang, Jiahang Xu, Fan Yang, and Mao Yang.</span></p>
<p style="top:486.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">2024. LongRoPE: Extending LLM Context Window Beyond 2 Million Tokens. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2402.13753</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.CL]</span></p>
<p style="top:496.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[22]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Aryaz Eghbali and Michael Pradel. 2024. De-Hallucinator: Iterative Grounding for LLM-Based Code Completion.</span></p>
<p style="top:506.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2401.01701</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:516.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[23]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Nat Friedman. 2021. Introducing GitHub Copilot: your AI pair programmer.</span></p>
<p style="top:516.6pt;left:337.4pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://github.blog/2021-06-29-</span></p>
<p style="top:526.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">introducing-github-copilot-ai-pair-programmer/</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 31, 2024].</span></p>
<p style="top:536.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[24]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Shuzheng Gao, Xin-Cheng Wen, Cuiyun Gao, Wenxuan Wang, Hongyu Zhang, and Michael R. Lyu. 2023. What</span></p>
<p style="top:546.6pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Makes Good In-Context Demonstrations for Code Intelligence Tasks with LLMs?. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> 2023 38th IEEE/ACM International</span></i></p>
<p style="top:556.5pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Conference on Automated Software Engineering (ASE)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. IEEE.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1109/ase56229.2023.00109</span></p>
<p style="top:566.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[25]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, Qianyu Guo, Meng Wang,</span></p>
<p style="top:576.5pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">and Haofen Wang. 2023. Retrieval-Augmented Generation for Large Language Models: A Survey.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> abs/2312.10997</span></p>
<p style="top:586.4pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">(2023).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.48550/ARXIV.2312.10997</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2312.10997</span></p>
<p style="top:596.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[26]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Matth&#xed;as P&#xe1;ll Gissurarson. 2022.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> The Hole Story: Type-Driven Synthesis and Repair</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Licentiate Thesis.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://www.</span></p>
<p style="top:606.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">mpg.is/papers/gissurarson2022licentiate.pdf</span></p>
<p style="top:616.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[27]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Elena L. Glassman, Jeremy Scott, Rishabh Singh, Philip J. Guo, and Robert C. Miller. 2015. OverCode: Visualizing</span></p>
<p style="top:626.3pt;left:62.6pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Variation in Student Solutions to Programming Problems at Scale.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> ACM Trans. Comput.-Hum. Interact.</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> 22, 2, Article 7</span></p>
<p style="top:636.2pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">(mar 2015).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/2699751</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page28" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:28</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:88.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[28]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Robert Harper. 2016.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Practical Foundations for Programming Languages (2nd. Ed.)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Cambridge University Press.</span></p>
<p style="top:98.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://www.cs.cmu.edu/%7Erwh/pfpl/index.html</span></p>
<p style="top:108.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[29]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Abram Hindle, Earl T Barr, Mark Gabel, Zhendong Su, and Premkumar Devanbu. 2016. On the naturalness of software.</span></p>
<p style="top:118.2pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Commun. ACM</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 59, 5 (2016), 122&#x2013;131.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.5555/2337223.2337322</span></p>
<p style="top:128.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[30]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Jordan Hoffmann, Sebastian Borgeaud, Arthur Mensch, Elena Buchatskaya, Trevor Cai, Eliza Rutherford, Diego de</span></p>
<p style="top:138.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Las Casas, Lisa Anne Hendricks, Johannes Welbl, Aidan Clark, Tom Hennigan, Eric Noland, Katie Millican, George</span></p>
<p style="top:148.1pt;left:62.7pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">van den Driessche, Bogdan Damoc, Aurelia Guy, Simon Osindero, Karen Simonyan, Erich Elsen, Oriol Vinyals, Jack W.</span></p>
<p style="top:158.1pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Rae, and Laurent Sifre. 2024. Training compute-optimal large language models. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the 36th International</span></i></p>
<p style="top:168.0pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Conference on Neural Information Processing Systems (NIPS &#x2019;22)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Article 2176.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.5555/3600270.</span></p>
<p style="top:177.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">3602446</span></p>
<p style="top:187.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[31]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Alon Jacovi, Avi Caciularu, Omer Goldman, and Yoav Goldberg. 2023. Stop Uploading Test Data in Plain Text: Practical</span></p>
<p style="top:197.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Strategies for Mitigating Data Contamination by Evaluation Benchmarks. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 2023 Conference on</span></i></p>
<p style="top:207.8pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">Empirical Methods in Natural Language Processing</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">, Houda Bouamor, Juan Pino, and Kalika Bali (Eds.). Association for</span></p>
<p style="top:217.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Computational Linguistics, Singapore, 5075&#x2013;5084.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.18653/v1/2023.emnlp-main.308</span></p>
<p style="top:227.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[32]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Naman Jain, King Han, Alex Gu, Wen-Ding Li, Fanjia Yan, Tianjun Zhang, Sida Wang, Armando Solar-Lezama, Koushik</span></p>
<p style="top:237.8pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Sen, and Ion Stoica. 2024. LiveCodeBench: Holistic and Contamination Free Evaluation of Large Language Models for</span></p>
<p style="top:247.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Code.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> abs/2403.07974 (2024).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.48550/ARXIV.2403.07974</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2403.07974</span></p>
<p style="top:257.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[33]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Harshit Joshi, Jos&#xe9; Cambronero Sanchez, Sumit Gulwani, Vu Le, Ivan Radi&#x10d;ek, and Gust Verbruggen. 2023. Repair</span></p>
<p style="top:267.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">is nearly generation: multilingual program repair with LLMs. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the Thirty-Seventh AAAI Conference</span></i></p>
<p style="top:277.6pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">on Artificial Intelligence and Thirty-Fifth Conference on Innovative Applications of Artificial Intelligence and Thirteenth</span></i></p>
<p style="top:287.5pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Symposium on Educational Advances in Artificial Intelligence (AAAI&#x2019;23/IAAI&#x2019;23/EAAI&#x2019;23)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. AAAI Press, Article 573,</span></p>
<p style="top:297.5pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">10 pages.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1609/aaai.v37i4.25642</span></p>
<p style="top:307.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[34]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Ren&#xe9; Just, Darioush Jalali, and Michael D. Ernst. 2014. Defects4J: a database of existing faults to enable controlled</span></p>
<p style="top:317.5pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">testing studies for Java programs. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> International Symposium on Software Testing and Analysis, ISSTA &#x2019;14, San Jose, CA,</span></i></p>
<p style="top:327.4pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">USA - July 21 - 26, 2014</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. ACM, 437&#x2013;440.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/2610384.2628055</span></p>
<p style="top:337.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[35]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Mosh Levy, Alon Jacoby, and Yoav Goldberg. 2024. Same Task, More Tokens: the Impact of Input Length on the</span></p>
<p style="top:347.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Reasoning Performance of Large Language Models. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 62nd Annual Meeting of the Association for</span></i></p>
<p style="top:357.2pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Computational Linguistics (Volume 1: Long Papers)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Association for Computational Linguistics, 15339&#x2013;15353.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https:</span></p>
<p style="top:367.2pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">//aclanthology.org/2024.acl-long.818</span></p>
<p style="top:377.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[36]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich K&#xfc;ttler,</span></p>
<p style="top:387.2pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Mike Lewis, Wen-tau Yih, Tim Rockt&#xe4;schel, Sebastian Riedel, and Douwe Kiela. 2020. Retrieval-augmented generation</span></p>
<p style="top:397.2pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">for knowledge-intensive NLP tasks. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the 34th International Conference on Neural Information Processing</span></i></p>
<p style="top:407.1pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Systems (NIPS &#x2019;20)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Article 793.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/abs/10.5555/3495724.3496517</span></p>
<p style="top:417.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[37]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Jiaqi Li, Mengmeng Wang, Zilong Zheng, and Muhan Zhang. 2024. LooGLE: Can Long-Context Language Models</span></p>
<p style="top:427.1pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Understand Long Contexts?. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics</span></i></p>
<p style="top:437.0pt;left:62.4pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">(Volume 1: Long Papers)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Association for Computational Linguistics, 16304&#x2013;16333.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://aclanthology.org/2024.acl-</span></p>
<p style="top:446.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">long.859</span></p>
<p style="top:456.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[38]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yichen Li, Yun Peng, Yintong Huo, and Michael R. Lyu. 2024. Enhancing LLM-Based Coding Tools through Native</span></p>
<p style="top:466.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Integration of IDE-Derived Static Context. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> LLM4Code Workshop</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2402.03630</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:476.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[39]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Junwei Liu, Yixuan Chen, Mingwei Liu, Xin Peng, and Yiling Lou. 2024. STALL+: Boosting LLM-based Repository-level</span></p>
<p style="top:486.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Code Completion with Static Analysis.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> abs/2406.10018 (2024). arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2406.10018</span></p>
<p style="top:496.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[40]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Jiawei Liu, Chunqiu Steven Xia, Yuyao Wang, and Lingming Zhang. 2024. Is your code generated by ChatGPT really</span></p>
<p style="top:506.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">correct? rigorous evaluation of large language models for code generation. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 37th International</span></i></p>
<p style="top:516.6pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Conference on Neural Information Processing Systems (NIPS &#x2019;23)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Article 943.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.5555/3666122.</span></p>
<p style="top:526.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">3667065</span></p>
<p style="top:536.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[41]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Nelson F Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang. 2024. Lost</span></p>
<p style="top:546.6pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">in the middle: How language models use long contexts.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Transactions of the Association for Computational Linguistics</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> 12</span></p>
<p style="top:556.5pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">(2024), 157&#x2013;173.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://aclanthology.org/2024.tacl-1.9/</span></p>
<p style="top:566.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[42]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Tianyang Liu, Canwen Xu, and Julian McAuley. 2024. RepoBench: Benchmarking Repository-Level Code Auto-</span></p>
<p style="top:576.4pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Completion Systems. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> The Twelfth International Conference on Learning Representations</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://openreview.net/</span></p>
<p style="top:586.4pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">forum?id=pPjZIOuQuF</span></p>
<p style="top:596.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[43]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Anton Lozhkov, Raymond Li, Loubna Ben Allal, Federico Cassano, Joel Lamy-Poirier, Nouamane Tazi, Ao Tang, Dmytro</span></p>
<p style="top:606.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Pykhtar, Jiawei Liu, Yuxiang Wei, Tianyang Liu, Max Tian, Denis Kocetkov, Arthur Zucker, Younes Belkada, Zijian</span></p>
<p style="top:616.4pt;left:62.5pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Wang, Qian Liu, Dmitry Abulkhanov, Indraneil Paul, Zhuang Li, Wen-Ding Li, Megan Risdal, Jia Li, Jian Zhu, Terry Yue</span></p>
<p style="top:626.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Zhuo, Evgenii Zheltonozhskii, Nii Osae Osae Dade, Wenhao Yu, Lucas Krau&#xdf;, Naman Jain, Yixuan Su, Xuanli He,</span></p>
<p style="top:636.3pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Manan Dey, Edoardo Abati, Yekun Chai, Niklas Muennighoff, Xiangru Tang, Muhtasham Oblokulov, Christopher Akiki,</span></p>
<p style="top:646.2pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Marc Marone, Chenghao Mou, Mayank Mishra, Alex Gu, Binyuan Hui, Tri Dao, Armel Zebaze, Olivier Dehaene, Nicolas</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page29" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:29</span></p>
<p style="top:88.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Patry, Canwen Xu, Julian McAuley, Han Hu, Torsten Scholak, Sebastien Paquet, Jennifer Robinson, Carolyn Jane</span></p>
<p style="top:98.2pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Anderson, Nicolas Chapados, Mostofa Patwary, Nima Tajbakhsh, Yacine Jernite, Carlos Mu&#xf1;oz Ferrandis, Lingming</span></p>
<p style="top:108.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Zhang, Sean Hughes, Thomas Wolf, Arjun Guha, Leandro von Werra, and Harm de Vries. 2024. StarCoder 2 and The</span></p>
<p style="top:118.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Stack v2: The Next Generation. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2402.19173</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:128.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[44]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Shuai Lu, Nan Duan, Hojae Han, Daya Guo, Seung-won Hwang, and Alexey Svyatkovskiy. 2022. ReACC: A Retrieval-</span></p>
<p style="top:138.1pt;left:62.3pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Augmented Code Completion Framework. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the 60th Annual Meeting of the Association for Computational</span></i></p>
<p style="top:148.0pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Linguistics (Volume 1: Long Papers)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. 6227&#x2013;6240.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.18653/v1/2022.acl-long.431</span></p>
<p style="top:158.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[45]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Justin Lubin, Nick Collins, Cyrus Omar, and Ravi Chugh. 2020. Program Sketching with Live Bidirectional Evaluation.</span></p>
<p style="top:168.0pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Proceedings of the ACM on Programming Languages</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 4, ICFP (2020), 1&#x2013;29.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.1145/3408991</span></p>
<p style="top:177.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[46]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Microsoft. 2024. Bing Image Creator from Designer Terms.</span></p>
<p style="top:177.9pt;left:266.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://www.bing.com/new/termsofuseimagecreator</span></p>
<p style="top:187.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[Accessed August 30, 2024].</span></p>
<p style="top:197.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[47]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> D. Moon, A. Blinn, and C. Omar. 2023. Gradual Structure Editing with Obligations. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> 2023 IEEE Symposium on</span></i></p>
<p style="top:207.8pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Visual Languages and Human-Centric Computing (VL/HCC)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. IEEE Computer Society, Los Alamitos, CA, USA, 71&#x2013;81.</span></p>
<p style="top:217.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://doi.org/10.1109/VL-HCC57772.2023.00016</span></p>
<p style="top:227.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[48]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Aleksandar Nanevski, Frank Pfenning, and Brigitte Pientka. 2008. Contextual modal type theory.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> ACM Transactions on</span></i></p>
<p style="top:237.7pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Computational Logic (TOCL)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 9, 3 (2008), 1&#x2013;49.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.1145/1352582.1352591</span></p>
<p style="top:247.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[49]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Arvind Neelakantan, Tao Xu, Raul Puri, Alec Radford, Jesse Michael Han, Jerry Tworek, Qiming Yuan, Nikolas Tezak,</span></p>
<p style="top:257.6pt;left:62.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Jong Wook Kim, Chris Hallacy, Johannes Heidecke, Pranav Shyam, Boris Power, Tyna Eloundou Nekoul, Girish</span></p>
<p style="top:267.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Sastry, Gretchen Krueger, David Schnurr, Felipe Petroski Such, Kenny Hsu, Madeleine Thompson, Tabarak Khan,</span></p>
<p style="top:277.5pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Toki Sherbakov, Joanne Jang, Peter Welinder, and Lilian Weng. 2022. Text and Code Embeddings by Contrastive</span></p>
<p style="top:287.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Pre-Training. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2201.10005</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.CL]</span></p>
<p style="top:297.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[50]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Cyrus Omar, Ian Voysey, Ravi Chugh, and Matthew A. Hammer. 2019. Live Functional Programming with Typed Holes.</span></p>
<p style="top:307.5pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">Proceedings of the ACM on Programming Languages (PACMPL), Issue POPL</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> (2019).</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://dl.acm.org/doi/10.1145/3290327</span></p>
<p style="top:317.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[51]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Cyrus Omar, Ian Voysey, Michael Hilton, Jonathan Aldrich, and Matthew A. Hammer. 2017. Hazelnut: A Bidirectionally</span></p>
<p style="top:327.3pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Typed Structure Editor Calculus. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> ACM SIGPLAN Symposium on Principles of Programming Languages (POPL)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span></p>
<p style="top:337.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://dl.acm.org/doi/10.1145/3009837.3009900</span></p>
<p style="top:347.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[52]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Cyrus Omar, Ian Voysey, Michael Hilton, Joshua Sunshine, Claire Le Goues, Jonathan Aldrich, and Matthew A. Hammer.</span></p>
<p style="top:357.3pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">2017. Toward Semantic Foundations for Program Editors. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Summit on Advances in Programming Languages (SNAPL)</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">.</span></p>
<p style="top:367.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://arxiv.org/abs/1703.08694</span></p>
<p style="top:377.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[53] OpenAI. 2024. Hello GPT-4o.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://openai.com/index/hello-gpt-4o/</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 31, 2024].</span></p>
<p style="top:387.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[54]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> OpenAI. 2024. OpenAI Platform Chat Completions.</span></p>
<p style="top:387.1pt;left:245.4pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://platform.openai.com/docs/guides/chat-completions</span></p>
<p style="top:397.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[Accessed September 1, 2024].</span></p>
<p style="top:407.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[55]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Peter-Michael Osera and Steve Zdancewic. 2015. Type-and-Example-Directed Program Synthesis. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Conference on</span></i></p>
<p style="top:417.0pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Programming Language Design and Implementation (PLDI)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span></p>
<p style="top:427.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[56]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Shuyin Ouyang, Jie M. Zhang, Mark Harman, and Meng Wang. 2023. LLM is Like a Box of Chocolates: the Non-</span></p>
<p style="top:437.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">determinism of ChatGPT in Code Generation. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2308.02828</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:446.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[57]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Nikhil Parasaram, Huijie Yan, Boyu Yang, Zineb Flahy, Abriele Qudsi, Damian Ziaber, Earl Barr, and Sergey Mechtaev.</span></p>
<p style="top:456.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">2024. The Fact Selection Problem in LLM-Based Program Repair. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2404.05520</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:466.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[58]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Pardis Pashakhanloo, Aaditya Naik, Yuepeng Wang, Hanjun Dai, Petros Maniatis, and Mayur Naik. 2021. Codetrek:</span></p>
<p style="top:476.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Flexible modeling of code using an extensible relational representation. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> International Conference on Learning</span></i></p>
<p style="top:486.8pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Representations</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://www.seas.upenn.edu/~mhnaik/papers/iclr22.pdf</span></p>
<p style="top:496.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[59]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> H. Pearce, B. Tan, B. Ahmad, R. Karri, and B. Dolan-Gavitt. 2023. Examining Zero-Shot Vulnerability Repair with</span></p>
<p style="top:506.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Large Language Models. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> 2023 IEEE Symposium on Security and Privacy (SP)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. IEEE Computer Society, Los Alamitos,</span></p>
<p style="top:516.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">CA, USA, 2339&#x2013;2356.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1109/SP46215.2023.10179420</span></p>
<p style="top:526.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[60]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Hengzhi Pei, Jinman Zhao, Leonard Lausen, Sheng Zha, and George Karypis. 2023. Better context makes better</span></p>
<p style="top:536.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">code language models: a case study on function call argument completion. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the Thirty-Seventh AAAI</span></i></p>
<p style="top:546.6pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Conference on Artificial Intelligence and Thirty-Fifth Conference on Innovative Applications of Artificial Intelligence and</span></i></p>
<p style="top:556.6pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">Thirteenth Symposium on Educational Advances in Artificial Intelligence (AAAI&#x2019;23/IAAI&#x2019;23/EAAI&#x2019;23)</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">. AAAI Press, Article</span></p>
<p style="top:566.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">584.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1609/aaai.v37i4.25653</span></p>
<p style="top:576.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[61]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Sida Peng, Eirini Kalliamvakou, Peter Cihon, and Mert Demirer. 2023. The Impact of AI on Developer Productivity: Evi-</span></p>
<p style="top:586.5pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">dence from GitHub Copilot.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> CoRR</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> abs/2302.06590 (2023).</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://doi.org/10.48550/ARXIV.2302.06590</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697">2302.06590</span></p>
<p style="top:596.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[62]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Benjamin C. Pierce. 2002.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Types and Programming Languages</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">. MIT Press.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://dl.acm.org/doi/book/10.5555/509043</span></p>
<p style="top:606.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[63]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Julian Aron Prenner, Hlib Babii, and Romain Robbes. 2022. Can OpenAI&#x2019;s codex fix bugs? an evaluation on QuixBugs.</span></p>
<p style="top:616.3pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proceedings of the Third International Workshop on Automated Program Repair</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> (Pittsburgh, Pennsylvania)</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> (APR &#x2019;22)</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">.</span></p>
<p style="top:626.3pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Association for Computing Machinery, New York, NY, USA, 69&#x2013;75.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3524459.3527351</span></p>
<p style="top:636.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[64]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya Sutskever, et al</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 2019. Language models</span></p>
<p style="top:646.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">are unsupervised multitask learners.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> OpenAI Blog</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> (2019).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://d4mucfpksywv.cloudfront.net/better-language-</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page30" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:30</span></p>
<p style="top:61.4pt;left:247.1pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Andrew Blinn, Xiang Li, June Hyung Kim, and Cyrus Omar</span></p>
<p style="top:88.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">models/language_models_are_unsupervised_multitask_learners.pdf</span></p>
<p style="top:98.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[65]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Oscar Sainz, Jon Campos, Iker Garc&#xed;a-Ferrero, Julen Etxaniz, Oier Lopez de Lacalle, and Eneko Agirre. 2023. NLP</span></p>
<p style="top:108.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Evaluation in trouble: On the Need to Measure LLM Data Contamination for each Benchmark. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Findings of the</span></i></p>
<p style="top:118.1pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Association for Computational Linguistics: EMNLP 2023</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. 10776&#x2013;10787.</span></p>
<p style="top:118.1pt;left:303.0pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://doi.org/10.18653/v1/2023.findings-</span></p>
<p style="top:128.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">emnlp.722</span></p>
<p style="top:138.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[66]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Anton Semenkin, Yaroslav Sokolov, and Evgeniia Vu. 2024. Context Composing for Full Line Code Completion.</span></p>
<p style="top:148.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 1st ACM/IEEE Workshop on Integrated Development Environments (IDE &#x2019;24)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. 15&#x2013;17.</span></p>
<p style="top:148.0pt;left:422.3pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https:</span></p>
<p style="top:158.0pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">//doi.org/10.48550/arXiv.2402.09230</span></p>
<p style="top:168.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[67]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Disha Shrivastava, Hugo Larochelle, and Daniel Tarlow. 2023. Repository-level prompt generation for large language</span></p>
<p style="top:177.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">models of code. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 40th International Conference on Machine Learning (ICML&#x2019;23)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. JMLR.org, Article</span></p>
<p style="top:187.9pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">1314.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://dl.acm.org/doi/10.5555/3618408.3619722</span></p>
<p style="top:197.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[68]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Jeremy G. Siek, Michael M. Vitousek, Matteo Cimini, and John Tang Boyland. 2015. Refined Criteria for Gradual</span></p>
<p style="top:207.8pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Typing. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> 1st Summit on Advances in Programming Languages, SNAPL 2015, May 3-6, 2015, Asilomar, California, USA</span></i></p>
<p style="top:217.8pt;left:62.4pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">(LIPIcs, Vol. 32)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">, Thomas Ball, Rastislav Bod&#xed;k, Shriram Krishnamurthi, Benjamin S. Lerner, and Greg Morrisett (Eds.).</span></p>
<p style="top:227.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Schloss Dagstuhl - Leibniz-Zentrum f&#xfc;r Informatik, 274&#x2013;293.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.4230/LIPICS.SNAPL.2015.274</span></p>
<p style="top:237.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[69] Nathan Sobo. 2024. Introducing Zed AI.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://zed.dev/blog/zed-ai</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 31, 2024].</span></p>
<p style="top:247.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[70]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> SourceGraph. 2023. Cody Context Architecture Whitepaper.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://sourcegraph.com/resources/a-lp-cody-context-</span></p>
<p style="top:257.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">architecture</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 31, 2024].</span></p>
<p style="top:267.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[71]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Parth Thakkar. 2022. Copilot Explorer.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://thakkarparth007.github.io/copilot-explorer/posts/copilot-internals.html</span></p>
<p style="top:277.6pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[Accessed August 31, 2024].</span></p>
<p style="top:287.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[72]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> U.S. Information Agency. 1948. Photograph of World&#x2019;s First Computer, the Electronic Numerical Integrator and</span></p>
<p style="top:297.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Calculator.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://catalog.archives.gov/id/594262</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [Accessed August 30, 2024].</span></p>
<p style="top:307.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[73]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Priyan Vaithilingam, Elena L. Glassman, Peter Groenwegen, Sumit Gulwani, Austin Z. Henley, Rohan Malpani,</span></p>
<p style="top:317.3pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">David Pugh, Arjun Radhakrishna, Gustavo Soares, Joey Wang, and Aaron Yim. 2023. Towards More Effective AI-</span></p>
<p style="top:327.4pt;left:62.3pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Assisted Programming: A Systematic Design Exploration to Improve Visual Studio IntelliCode&#x2019;s User Experience. In</span></p>
<p style="top:337.3pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">45th IEEE/ACM International Conference on Software Engineering: Software Engineering in Practice, SEIP@ICSE 2023,</span></i></p>
<p style="top:347.3pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Melbourne, Australia, May 14-20, 2023</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. IEEE, 185&#x2013;195.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1109/ICSE-SEIP58684.2023.00022</span></p>
<p style="top:357.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[74]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Priyan Vaithilingam, Tianyi Zhang, and Elena L. Glassman. 2022. Expectation vs. Experience: Evaluating the Usability</span></p>
<p style="top:367.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">of Code Generation Tools Powered by Large Language Models. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> CHI &#x2019;22: CHI Conference on Human Factors in</span></i></p>
<p style="top:377.2pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Computing Systems, New Orleans, LA, USA, 29 April 2022 - 5 May 2022, Extended Abstracts</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">, Simone D. J. Barbosa, Cliff</span></p>
<p style="top:387.1pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Lampe, Caroline Appert, and David A. Shamma (Eds.). ACM, 332:1&#x2013;332:7.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3491101.3519665</span></p>
<p style="top:397.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[75]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Priyan Vaithilingam, Tianyi Zhang, and Elena L. Glassman. 2022. Expectation vs. Experience: Evaluating the Usability</span></p>
<p style="top:407.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">of Code Generation Tools Powered by Large Language Models. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Extended Abstracts of the 2022 CHI Conference on</span></i></p>
<p style="top:417.0pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Human Factors in Computing Systems</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> (New Orleans, LA, USA)</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> (CHI EA &#x2019;22)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Association for Computing Machinery,</span></p>
<p style="top:427.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">New York, NY, USA, Article 332, 7 pages.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3491101.3519665</span></p>
<p style="top:437.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[76]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yanlin Wang, Yanli Wang, Daya Guo, Jiachi Chen, Ruikai Zhang, Yuchi Ma, and Zibin Zheng. 2024. RLCoder:</span></p>
<p style="top:446.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Reinforcement Learning for Repository-Level Code Completion. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2407.19487</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://arxiv.org/abs/2407.</span></p>
<p style="top:456.9pt;left:62.7pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">19487</span></p>
<p style="top:466.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[77]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Yuxiang Wei, Chunqiu Steven Xia, and Lingming Zhang. 2023. Copiloting the Copilots: Fusing Large Language Models</span></p>
<p style="top:476.7pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">with Completion Engines for Automated Program Repair. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of the 31st ACM Joint European Software</span></i></p>
<p style="top:486.7pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">Engineering Conference and Symposium on the Foundations of Software Engineering (ESEC/FSE 2023)</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. Association for</span></p>
<p style="top:496.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Computing Machinery, New York, NY, USA, 172&#x2013;184.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3611643.3616271</span></p>
<p style="top:506.7pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[78]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Frank F. Xu, Uri Alon, Graham Neubig, and Vincent Josua Hellendoorn. 2022. A systematic evaluation of large language</span></p>
<p style="top:516.7pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">models of code. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> MAPS@PLDI 2022: 6th ACM SIGPLAN International Symposium on Machine Programming, San Diego,</span></i></p>
<p style="top:526.6pt;left:62.9pt;line-height:8.0pt"><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000">CA, USA, 13 June 2022</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">. ACM, 1&#x2013;10.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3520312.3534862</span></p>
<p style="top:536.6pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[79]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Rongwu Xu, Zehan Qi, Cunxiang Wang, Hongru Wang, Yue Zhang, and Wei Xu. 2024. Knowledge Conflicts for LLMs:</span></p>
<p style="top:546.6pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">A Survey. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2403.08319</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.CL]</span></p>
<p style="top:556.5pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[80]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Ziwei Xu, Sanjay Jain, and Mohan Kankanhalli. 2024. Hallucination is inevitable: An innate limitation of large language</span></p>
<p style="top:566.5pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">models. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2401.11817</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.CL]</span></p>
<p style="top:576.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[81]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yongwei Yuan, Scott Guest, Eric Griffis, Hannah Potter, David Moon, and Cyrus Omar. 2023. Live Pattern Matching</span></p>
<p style="top:586.4pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">with Typed Holes.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proc. ACM Program. Lang.</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 7, OOPSLA1 (2023), 609&#x2013;635.</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3586048</span></p>
<p style="top:596.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[82]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Daoguang Zan, Bei Chen, Yongshun Gong, Junzhi Cao, Fengji Zhang, Bingchao Wu, Bei Guan, Yilong Yin, and Yongji</span></p>
<p style="top:606.3pt;left:62.5pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Wang. 2023. Private-library-oriented code generation with large language models. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2307.15370</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:616.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[83]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Fengji Zhang, Bei Chen, Yue Zhang, Jacky Keung, Jin Liu, Daoguang Zan, Yi Mao, Jian-Guang Lou, and Weizhu Chen.</span></p>
<p style="top:626.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">2023. RepoCoder: Repository-Level Code Completion Through Iterative Retrieval and Generation. In</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proceedings of</span></i></p>
<p style="top:636.3pt;left:62.9pt;line-height:7.9pt"><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000">the 2023 Conference on Empirical Methods in Natural Language Processing</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">. 2471&#x2013;2484.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://doi.org/10.18653/v1/2023.</span></p>
<p style="top:646.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">emnlp-main.151</span></p>
<p style="top:674.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
<div id="page31" style="width:486.0pt;height:720.0pt">
<p style="top:61.4pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">Statically Contextualizing Large Language Models with Typed Holes</span></p>
<p style="top:61.4pt;left:419.9pt;line-height:8.0pt"><span style="font-family:LinBiolinumT,serif;font-size:8.0pt;color:#000000">288:31</span></p>
<p style="top:88.3pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[84]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Jialu Zhang, Jos&#xe9; Pablo Cambronero, Sumit Gulwani, Vu Le, Ruzica Piskac, Gustavo Soares, and Gust Verbruggen. 2024.</span></p>
<p style="top:98.2pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">PyDex: Repairing Bugs in Introductory Python Assignments using LLMs.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Proc. ACM Program. Lang.</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 8, OOPSLA1,</span></p>
<p style="top:108.2pt;left:62.6pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Article 133 (apr 2024).</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697"> https://doi.org/10.1145/3649850</span></p>
<p style="top:118.2pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[85]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Yue Zhang, Yafu Li, Leyang Cui, Deng Cai, Lemao Liu, Tingchen Fu, Xinting Huang, Enbo Zhao, Yu Zhang, Yulong Chen,</span></p>
<p style="top:128.2pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">et al</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> 2023. Siren&#x2019;s song in the AI ocean: a survey on hallucination in large language models. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697">2309.01219</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> [cs.SE]</span></p>
<p style="top:138.1pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[86]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Yuntong Zhang, Haifeng Ruan, Zhiyu Fan, and Abhik Roychoudhury. 2024. AutoCodeRover: Autonomous Program</span></p>
<p style="top:148.0pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Improvement. arXiv:</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">2404.05427</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> [cs.SE]</span></p>
<p style="top:158.0pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[87]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Eric Zhao, Raef Maroof, Anand Dukkipati, Andrew Blinn, Zhiyi Pan, and Cyrus Omar. 2024. Total Type Error</span></p>
<p style="top:168.0pt;left:62.9pt;line-height:7.9pt"><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000">Localization and Recovery with Holes.</span><i><span style="font-family:LinLibertineTI,serif;font-size:7.9pt;color:#000000"> Proc. ACM Program. Lang.</span></i><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> 8, POPL (2024), 2041&#x2013;2068.</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#005697"> https://doi.org/10.1145/</span></p>
<p style="top:177.9pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">3632910</span></p>
<p style="top:187.9pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[88]</span><span style="font-family:LinLibertineT,serif;font-size:7.9pt;color:#000000"> Albert Ziegler, Eirini Kalliamvakou, X. Alice Li, Andrew Rice, Devon Rifkin, Shawn Simister, Ganesh Sittampalam, and</span></p>
<p style="top:197.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Edward Aftandilian. 2024. Measuring GitHub Copilot&#x2019;s Impact on Productivity.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> Commun. ACM</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> 67, 3 (2024), 54&#x2013;63.</span></p>
<p style="top:207.8pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#005697">https://doi.org/10.1145/3633453</span></p>
<p style="top:217.8pt;left:45.8pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">[89]</span><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> Barret Zoph, Colin Raffel, Dale Schuurmans, Dani Yogatama, Denny Zhou, Don Metzler, Ed H. Chi, Jason Wei, Jeff</span></p>
<p style="top:227.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Dean, Liam B. Fedus, Maarten Paul Bosma, Oriol Vinyals, Percy Liang, Sebastian Borgeaud, Tatsunori B. Hashimoto,</span></p>
<p style="top:237.7pt;left:62.9pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">and Yi Tay. 2022. Emergent abilities of large language models.</span><i><span style="font-family:LinLibertineTI,serif;font-size:8.0pt;color:#000000"> TMLR</span></i><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000"> (2022).</span></p>
<p style="top:256.2pt;left:45.8pt;line-height:9.0pt"><span style="font-family:LinLibertineT,serif;font-size:9.0pt;color:#000000">Received 2024-04-06; accepted 2024-08-18</span></p>
<p style="top:674.1pt;left:135.2pt;line-height:8.0pt"><span style="font-family:LinLibertineT,serif;font-size:8.0pt;color:#000000">Proc. ACM Program. Lang., Vol. 8, No. OOPSLA2, Article 288. Publication date: October 2024.</span></p>
</div>
</body>
</html>
